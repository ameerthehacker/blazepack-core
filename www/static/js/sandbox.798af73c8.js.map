{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/sandbox/eval/transpilers/vue/v2/style-loader/addStylesClient.js","webpack:///./src/sandbox/eval/transpilers/vue/v2/style-loader/listToStyles.js","webpack:///./src/sandbox/status-screen/indicator-screen.html","webpack:///./src/sandbox/status-screen/loading-screen.html","webpack:///./src/sandbox/status-screen/run-on-click-screen.html","webpack:///./src/sandbox/eval/transpilers/babel/worker/index.js","webpack:///./src/sandbox/eval/transpilers/coffee/coffee-worker.js","webpack:///./src/sandbox/eval/transpilers/less/less-worker.js","webpack:///./src/sandbox/eval/presets/parcel/transpilers/html-worker.ts","webpack:///./src/sandbox/eval/transpilers/pug/pug-worker.js","webpack:///./src/sandbox/eval/transpilers/sass/worker/index.js","webpack:///./src/sandbox/eval/transpilers/stylus/stylus-worker.js","webpack:///./src/sandbox/eval/transpilers/svelte/svelte-worker.js","webpack:///./src/sandbox/eval/transpilers/typescript/typescript-worker.js","webpack:////Users/ameerjhan/Documents/Sandboxes/codesandbox-client/standalone-packages/codesandbox-browserfs/dist/shims/fs.js","webpack:///../codesandbox-api/dist/codesandbox.es5.js","webpack:///../common/lib/forked-vendors/jsonlint.browser.js","webpack:///../common/lib/prettify-default-config.js","webpack:///../common/lib/templates/adonis.js","webpack:///../common/lib/templates/angular.js","webpack:///../common/lib/templates/apollo-server.js","webpack:///../common/lib/templates/babel.js","webpack:///../common/lib/templates/configuration/angular-cli/index.js","webpack:///../common/lib/templates/configuration/angular-json/index.js","webpack:///../common/lib/templates/configuration/babel-transpiler/index.js","webpack:///../common/lib/templates/configuration/babelrc/index.js","webpack:///../common/lib/templates/configuration/custom-codesandbox/index.js","webpack:///../common/lib/templates/configuration/index.js","webpack:///../common/lib/templates/configuration/jsconfig/index.js","webpack:///../common/lib/templates/configuration/netlify/index.js","webpack:///../common/lib/templates/configuration/now/index.js","webpack:///../common/lib/templates/configuration/package-json/index.js","webpack:///../common/lib/templates/configuration/parse.js","webpack:///../common/lib/templates/configuration/prettierRC/index.js","webpack:///../common/lib/templates/configuration/sandbox/index.js","webpack:///../common/lib/templates/configuration/tsconfig/index.js","webpack:///../common/lib/templates/custom.js","webpack:///../common/lib/templates/cxjs.js","webpack:///../common/lib/templates/docusaurus.js","webpack:///../common/lib/templates/dojo.js","webpack:///../common/lib/templates/ember.js","webpack:///../common/lib/templates/gatsby.js","webpack:///../common/lib/templates/gridsome.js","webpack:///../common/lib/templates/helpers/is-server.js","webpack:///../common/lib/templates/helpers/react-template.js","webpack:///../common/lib/templates/index.js","webpack:///../common/lib/templates/marko.js","webpack:///../common/lib/templates/mdx-deck.js","webpack:///../common/lib/templates/nest.js","webpack:///../common/lib/templates/next.js","webpack:///../common/lib/templates/node.js","webpack:///../common/lib/templates/nuxt.js","webpack:///../common/lib/templates/parcel.js","webpack:///../common/lib/templates/preact.js","webpack:///../common/lib/templates/quasar.js","webpack:///../common/lib/templates/react-ts.js","webpack:///../common/lib/templates/react.js","webpack:///../common/lib/templates/reason.js","webpack:///../common/lib/templates/sapper.js","webpack:///../common/lib/templates/static.js","webpack:///../common/lib/templates/styleguidist.js","webpack:///../common/lib/templates/svelte.js","webpack:///../common/lib/templates/template.js","webpack:///../common/lib/templates/unibit.js","webpack:///../common/lib/templates/vue.js","webpack:///../common/lib/templates/vuepress.js","webpack:///../common/lib/utils/ci.js","webpack:///../common/lib/utils/debug.js","webpack:///../common/lib/utils/decorate-selector.js","webpack:///../common/lib/utils/delay.js","webpack:///../common/lib/utils/dependencies.js","webpack:///../common/lib/utils/global.js","webpack:///../common/lib/utils/is-babel-7.js","webpack:///../common/lib/utils/is-preact-10.js","webpack:///../common/lib/utils/metrics.js","webpack:///../common/lib/utils/path.js","webpack:///../common/lib/utils/slugify.js","webpack:///../common/lib/utils/url-generator.js","webpack:///../common/lib/utils/url-generator/dashboard.js","webpack:///../common/lib/version.js","webpack:///../sandbox-hooks/errors/dependency-not-found-error.js","webpack:///../sandbox-hooks/errors/index.js","webpack:///../sandbox-hooks/errors/module-not-found-error.js","webpack:///../sandbox-hooks/errors/sandbox-error.js","webpack:///../sandbox-hooks/errors/transformers/index.js","webpack:///../sandbox-hooks/errors/transformers/raw-react-component-error.js","webpack:///../sandbox-hooks/react-error-overlay/components/additional.js","webpack:///../sandbox-hooks/react-error-overlay/components/close.js","webpack:///../sandbox-hooks/react-error-overlay/components/code.js","webpack:///../sandbox-hooks/react-error-overlay/components/footer.js","webpack:///../sandbox-hooks/react-error-overlay/components/frame.js","webpack:///../sandbox-hooks/react-error-overlay/components/frames.js","webpack:///../sandbox-hooks/react-error-overlay/components/overlay.js","webpack:///../sandbox-hooks/react-error-overlay/components/suggestions.js","webpack:///../sandbox-hooks/react-error-overlay/effects/proxyConsole.js","webpack:///../sandbox-hooks/react-error-overlay/effects/stackTraceLimit.js","webpack:///../sandbox-hooks/react-error-overlay/effects/unhandledError.js","webpack:///../sandbox-hooks/react-error-overlay/effects/unhandledRejection.js","webpack:///../sandbox-hooks/react-error-overlay/listenToRuntimeErrors.js","webpack:///../sandbox-hooks/react-error-overlay/overlay.js","webpack:///../sandbox-hooks/react-error-overlay/styles.js","webpack:///../sandbox-hooks/react-error-overlay/utils/dom/consumeEvent.js","webpack:///../sandbox-hooks/react-error-overlay/utils/dom/css.js","webpack:///../sandbox-hooks/react-error-overlay/utils/dom/enableTabClick.js","webpack:///../sandbox-hooks/react-error-overlay/utils/errorRegister.js","webpack:///../sandbox-hooks/react-error-overlay/utils/getLinesAround.js","webpack:///../sandbox-hooks/react-error-overlay/utils/getSourceMap.js","webpack:///../sandbox-hooks/react-error-overlay/utils/getStackFrames.js","webpack:///../sandbox-hooks/react-error-overlay/utils/isInternalFile.js","webpack:///../sandbox-hooks/react-error-overlay/utils/mapper.js","webpack:///../sandbox-hooks/react-error-overlay/utils/parser.js","webpack:///../sandbox-hooks/react-error-overlay/utils/stack-frame.js","webpack:///../sandbox-hooks/react-error-overlay/utils/unmapper.js","webpack:///../sandbox-hooks/react-error-overlay/utils/warnings.js","webpack:///../sandpack-core/lib/cache.js","webpack:///../sandpack-core/lib/utils/benchmark.js","webpack:///../sandpack-core/lib/transpiled-module/errors/module-error.js","webpack:///../sandpack-core/lib/transpiled-module/errors/module-warning.js","webpack:///../sandpack-core/lib/runner/utils/process.js","webpack:///../sandpack-core/lib/runner/eval.js","webpack:///../sandpack-core/lib/transpiled-module/hmr.js","webpack:///../sandpack-core/lib/transpiled-module/utils/query-path.js","webpack:///../sandpack-core/lib/transpiled-module/transpiled-module.js","webpack:///../sandpack-core/lib/runner/dependency-resolver.js","webpack:///../sandpack-core/lib/npm/get-core-libraries.js","webpack:///../sandpack-core/lib/npm/dynamic/fetch-protocols/file.js","webpack:///../sandpack-core/lib/manager.js","webpack:///../sandpack-core/lib/preset/preset.js","webpack:///../sandpack-core/lib/index.js","webpack:///../sandpack-core/lib/npm/dependencies-to-query.js","webpack:///../sandpack-core/lib/npm/dynamic/fetch-npm-module.js","webpack:///../sandpack-core/lib/npm/dynamic/fetch-protocols/csb.js","webpack:///../sandpack-core/lib/npm/dynamic/fetch-protocols/unpkg.js","webpack:///../sandpack-core/lib/npm/dynamic/fetch-protocols/jsdelivr/utils.js","webpack:///../sandpack-core/lib/npm/dynamic/fetch-protocols/jsdelivr/jsdelivr-npm.js","webpack:///../sandpack-core/lib/npm/dynamic/fetch-protocols/jsdelivr/jsdelivr-gh.js","webpack:///../sandpack-core/lib/npm/dynamic/fetch-protocols/tar.js","webpack:///../sandpack-core/lib/npm/dynamic/fetch-protocols/gist.js","webpack:///../sandpack-core/lib/npm/dynamic/fetch-protocols/index.js","webpack:///../sandpack-core/lib/npm/dynamic/fetch-protocols/utils.js","webpack:///../sandpack-core/lib/npm/dynamic/fetch-protocols/utils/tar-store.js","webpack:///../sandpack-core/lib/transpiler/transpiler.js","webpack:///../sandpack-core/lib/transpiler/index.js","webpack:///../sandpack-core/lib/transpiler/transpilers/webpack/index.js","webpack:///../sandpack-core/lib/transpiler/utils/loader-utils/parse-query.js","webpack:///../sandpack-core/lib/transpiler/utils/loader-utils/stringify-request.js","webpack:///../sandpack-core/lib/transpiler/utils/loader-utils/index.js","webpack:///../sandpack-core/lib/transpiler/utils/loader-utils/get-remaining-request.js","webpack:///../sandpack-core/lib/transpiler/utils/loader-utils/get-options.js","webpack:///../sandpack-core/lib/utils/delay.js","webpack:///../sandpack-core/lib/utils/extensions.js","webpack:///../sandpack-core/lib/utils/get-dependency-name.js","webpack:///../sandpack-core/lib/utils/resolve-utils.js","webpack:///./config/polyfills.js","webpack:///../sandpack-core/lib/npm/dynamic/resolutions.js","webpack:///../sandpack-core/lib/npm/dynamic/resolve-dependency.js","webpack:///../sandpack-core/lib/npm/preloaded/fetch-dependencies.js","webpack:///../sandpack-core/lib/npm/merge-dependency.js","webpack:///../sandpack-core/lib/npm/index.js","webpack:///../sandpack-core/lib/npm/dynamic/fetch-protocols/npm-registry.js","webpack:///./src/sandbox/boilerplates/index.js","webpack:///./src/sandbox/boilerplates/default-boilerplates.js","webpack:///./src/sandbox/codesandbox-overlay/index.ts","webpack:///./src/sandbox/eval/transpilers/style/utils/insert-css.ts","webpack:///./src/sandbox/eval/transpilers/style/utils/to-definition.ts","webpack:///./src/sandbox/eval/transpilers/style/get-modules.ts","webpack:///./src/sandbox/eval/transpilers/style/index.ts","webpack:///./src/sandbox/eval/utils/is-es-module.ts","webpack:///./src/sandbox/eval/transpilers/utils/worker-error-handler.js","webpack:///./src/sandbox/eval/transpilers/worker-transpiler.ts","webpack:///./src/sandbox/eval/transpilers/babel/babel-parser.ts","webpack:///./src/sandbox/eval/transpilers/babel/convert-esmodule/syntax.ts","webpack:///./src/sandbox/eval/transpilers/babel/convert-esmodule/utils.ts","webpack:///./src/sandbox/eval/transpilers/babel/convert-esmodule/generator.ts","webpack:///./src/sandbox/eval/transpilers/babel/convert-esmodule/generator-jsx.ts","webpack:///./src/sandbox/eval/transpilers/babel/convert-esmodule/index.ts","webpack:///./src/sandbox/eval/transpilers/babel/worker/simple-get-require-statements.ts","webpack:///./src/sandbox/eval/transpilers/babel/syntax-info.ts","webpack:///./src/sandbox/eval/transpilers/babel/index.ts","webpack:///./src/sandbox/eval/transpilers/json/index.ts","webpack:///./src/sandbox/eval/transpilers/raw/index.ts","webpack:///./src/sandbox/eval/presets/create-react-app/utils.ts","webpack:///./src/sandbox/eval/presets/create-react-app/v1.ts","webpack:///./src/sandbox/eval/transpilers/utils/binary.ts","webpack:///./src/sandbox/eval/transpilers/svgr/index.ts","webpack:///./src/sandbox/eval/transpilers/sass/index.ts","webpack:///./src/sandbox/eval/transpilers/react/refresh-transpiler.ts","webpack:///./src/sandbox/eval/transpilers/postcss/index.ts","webpack:///./src/sandbox/eval/presets/create-react-app/utils/initDevTools.ts","webpack:///./src/sandbox/eval/presets/create-react-app/utils/createRefreshEntry.ts","webpack:///./src/sandbox/eval/presets/create-react-app/utils/reactPreset.ts","webpack:///./src/sandbox/eval/presets/create-react-app/v3.ts","webpack:///./src/sandbox/eval/presets/create-react-app/v4.ts","webpack:///./src/sandbox/eval/presets/create-react-app-typescript/index.ts","webpack:///./src/sandbox/eval/transpilers/typescript/index.ts","webpack:///./src/sandbox/eval/utils/get-dependencies.ts","webpack:///./src/sandbox/eval/transpilers/stylus/index.ts","webpack:///./src/sandbox/eval/transpilers/less/index.ts","webpack:///./src/sandbox/eval/transpilers/noop/index.ts","webpack:///./src/sandbox/eval/transpilers/binary/index.ts","webpack:///./src/sandbox/eval/transpilers/vue/v2/index.ts","webpack:///./src/sandbox/eval/transpilers/vue/v2/template-compiler/index.ts","webpack:///./src/sandbox/eval/transpilers/vue/v2/style-compiler/index.ts","webpack:///./src/sandbox/eval/transpilers/vue/v2/selector/index.ts","webpack:///./src/sandbox/eval/transpilers/vue/v2/style-loader/index.ts","webpack:///./src/sandbox/eval/transpilers/vue/v2/style-loader/loader.js","webpack:///./src/sandbox/eval/transpilers/vue/v2/css-loader/index.ts","webpack:///./src/sandbox/eval/transpilers/base64/index.ts","webpack:///./src/sandbox/eval/transpilers/pug/index.ts","webpack:///./src/sandbox/eval/transpilers/coffee/index.ts","webpack:///./src/sandbox/eval/presets/vue-cli/v2.ts","webpack:///./src/sandbox/eval/presets/vue-cli/v3.ts","webpack:///./src/sandbox/eval/presets/vue-cli/index.ts","webpack:///./src/sandbox/eval/presets/preact-cli/transpilers/async.ts","webpack:///./src/sandbox/eval/presets/preact-cli/v8.ts","webpack:///./src/sandbox/eval/presets/preact-cli/preset.ts","webpack:///./src/sandbox/eval/transpilers/svelte/index.ts","webpack:///./src/sandbox/eval/presets/svelte/index.ts","webpack:///../sandpack-core/lib/transpiler/transpilers/csb-dynamic-import/dynamic-import/index.js","webpack:///../sandpack-core/lib/transpiler/transpilers/csb-dynamic-import/index.js","webpack:///./src/sandbox/eval/transpilers/angular2-template/index.ts","webpack:///./src/sandbox/eval/presets/angular-cli/index.ts","webpack:///./src/sandbox/eval/presets/parcel/transpilers/html-transpiler.ts","webpack:///./src/sandbox/eval/presets/parcel/index.ts","webpack:///./src/sandbox/eval/presets/babel-repl/index.ts","webpack:///./src/sandbox/eval/presets/cxjs/index.ts","webpack:///./src/sandbox/eval/transpilers/reason/index.ts","webpack:///./src/sandbox/eval/presets/reason/reason-remap.ts","webpack:///./src/sandbox/eval/presets/reason/index.ts","webpack:///./src/sandbox/eval/presets/dojo/transpilers/style.ts","webpack:///./src/sandbox/eval/presets/dojo/index.ts","webpack:///./src/sandbox/eval/presets/custom/index.ts","webpack:///./src/sandbox/eval/index.ts","webpack:///./src/sandbox/external-resources.ts","webpack:///./src/sandbox/status-screen/overlay-manager.ts","webpack:///./src/sandbox/status-screen/index.ts","webpack:///./src/sandbox/compile.ts","webpack:///./src/sandbox/index.js","webpack:///external \"jsdom\""],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","7","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","p","jsonpScriptSrc","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","this","oldJsonpFunction","slice","Worker","BrowserFS","BFSRequire","transformers","transformError","map","filter","x","clearErrorTransformers","registerErrorTransformer","check","__awaiter","thisArg","_arguments","P","generator","step","next","rejected","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","iterator","v","op","TypeError","pop","generateId","Math","floor","random","Protocol","handleMessage","_this","outgoingMessages","Set","_messageListener","returnMessage","_a","$type","getTypeId","has","$id","$data","$originId","internalId","source","postMessage","_postMessage","createConnection","isWorker","constructor","getConstructorName","self","addEventListener","dispose","removeEventListener","sendMessage","messageId","add","listenFunction","DedicatedWorkerGlobalScope","notifications","freeze","show","title","notificationType","timeAlive","action","editor","openModule","id","lineNumber","column","path","dependencies","dependencyName","dependency","rename","actions","line","lineEnd","columnEnd","payload","severity","clear","correction","_b","_c","_d","glyph","className","__assign","assign","arguments","bundlers","Map","iframeHandshakeDone","isStandalone","window","location","href","indexOf","opener","parent","iframeHandshake","parentOrigin","parentId","parentOriginListener","origin","resetState","dispatch","newMessage","codesandbox","notifyListeners","rawMessage","JSON","parse","stringify","forEach","frame","notifyFrames","listeners","listenerId","listen","callback","keys","eventListener","registerFrame","bundlerId","set","reattach","jsonlint","parser","trace","yy","symbols_","JSONString","STRING","JSONNumber","NUMBER","JSONNullLiteral","NULL","JSONBooleanLiteral","TRUE","FALSE","JSONText","JSONValue","EOF","JSONObject","JSONArray","JSONMemberList","JSONMember","JSONElementList","$accept","$end","terminals_","2","4","6","8","10","11","14","17","18","21","22","23","24","productions_","performAction","yytext","yyleng","yylineno","yystate","$$","_$","$0","$","replace","Number","table","3","5","9","12","13","15","16","1","19","20","25","defaultActions","parseError","str","hash","input","stack","vstack","lstack","recovering","lexer","setInput","yylloc","yyloc","lex","token","symbol","preErrorSymbol","state","len","newState","expected","yyval","errStr","showPosition","join","text","match","loc","toString","Array","first_line","last_line","first_column","last_column","_input","_more","_less","matched","conditionStack","ch","unput","more","less","pastInput","past","substr","upcomingInput","pre","tempMatch","index","lines","rules","_currentRules","options","flex","begin","condition","popState","conditions","topState","pushState","yy_","$avoiding_name_collisions","YY_START","INITIAL","inclusive","default","printWidth","tabWidth","useTabs","semi","singleQuote","trailingComma","bracketSpacing","jsxBracketSameLine","__importDefault","mod","template_1","decorate_selector_1","decorateSelector","mainFile","showOnHomePage","netlify","path_1","configuration_1","AngularTemplate","configurationFiles","entries","generated","parsed","concat","app","apps","root","main","absolute","getAngularCLIEntries","defaultProject","project","projects","architect","build","getAngularJSONEntries","package","getAngularCLIHTMLEntry","getAngularJSONHTMLEntry","extraConfigurations","angularCli","angularJSON","tsconfig","isTypescript","distDir","popular","babelrc","babelTranspiler","config","description","moreInfoUrl","getDefaultCode","outDir","polyfills","styles","scripts","schema","partialSupportDisclaimer","version","newProjectRoot","sourceRoot","projectType","prefix","schematics","builder","outputPath","tsConfig","assets","configurations","production","fileReplacements","with","optimization","outputHashing","sourceMap","extractCss","namedChunks","aot","extractLicenses","vendorChunk","buildOptimizer","serve","browserTarget","test","karmaConfig","lint","exclude","e2e","protractorConfig","devServerTarget","is_babel_7_1","is_preact_10_1","JSX_PRAGMA","react","preact","template","resolveModule","isV7","isPreactV10","packageJSON","code","isBabel7","devDependencies","isPreact10","presets","plugins","legacy","loose","pragma","pragmaFrag","export","import","targets","browsers","env","polyfill","regenerator","parserOpts","packageJSONModule","dep","chrome","ie","ff","edge","safari","useBuiltIns","templateName","templateColor","sandpack","defaultExtensions","aliases","transpilers","package_json_1","prettierRC_1","sandbox_1","babelrc_1","now_1","netlify_1","angular_cli_1","angular_json_1","tsconfig_1","jsconfig_1","babel_transpiler_1","custom_codesandbox_1","configs","prettierRC","sandboxConfig","customCodeSandbox","nowConfig","netlifyConfig","jsconfig","compilerOptions","baseUrl","generateFileFromSandbox","slugify_1","sandbox","jsonFile","keywords","tags","entry","npmDependencies","markty_toml_1","jsonlint_browser_1","getCode","configurationFile","titleIncludes","includes","paths","baseObject","prettify_default_config_1","generateFileFromState","prettierConfig","infiniteLoopProtection","hardReloadOnChange","view","lib","allowJs","jsx","moduleResolution","rootDir","forceConsistentCasingInFileNames","noImplicitReturns","noImplicitThis","noImplicitAny","strictNullChecks","suppressImplicitAnyIndexErrors","noUnusedLocals","jsxFactory","esModuleInterop","declaration","removeComments","noLib","allowSyntheticDefaultImports","emitDecoratorMetadata","experimentalDecorators","importHelpers","downLevelIteration","strict","compileOnSave","downlevelIteration","CxJSTemplate","showCube","externalResourcesEnabled","DocusaurusTemplate","DojoTemplate","super","getEntries","GatsbyTemplate","views","closeable","url","open","GridsomeTemplate","isServer","SERVER_TEMPLATE_NAMES","ReactTemplate","unibit","quasar","mdxDeck","docusaurus","vuepress","gridsome","styleguidist","staticTemplate","ember","nest","sapper","vue","svelte","reason","reactTs","parcel","dojo","cxjs","babel","node","nuxt","marko","gatsby","apollo","custom","angular","adonis","adonis_1","angular_1","apollo_server_1","babel_1","custom_1","cxjs_1","dojo_1","ember_1","gatsby_1","gridsome_1","marko_1","mdx_deck_1","nest_1","next_1","node_1","nuxt_1","parcel_1","preact_1","quasar_1","react_1","react_ts_1","reason_1","sapper_1","static_1","styleguidist_1","svelte_1","unibit_1","vue_1","vuepress_1","docusaurus_1","theme","backgroundColor","ParcelTemplate","pathname","Boolean","configFiles","defaultOpenedFile","react_template_1","extendedSandboxConfig","container","port","is_server_1","defaultConfigurations","CLIENT_VIEWS","SERVER_VIEWS","niceName","shortid","color","alterDeploymentData","apiData","packageJSONFile","files","find","file","parsedFile","newParsedFile","pkg","isArray","log","getMainFromPackage","VueTemplate","VuePressTemplate","formatVersion","CSB_PKG_PROTOCOL","commitSha","global_1","search","global","getGlobal","Raven","captureBreadcrumb","category","getDebugger","memoize_one_1","color_1","colorMethods","selector","method","args","fn","modifierArgs","rgbString","addModifier","getAbsoluteDependencies","getAbsoluteDependency","isValidSemver","isAbsoluteVersion","fetchPackageJSON","semver_1","fetchWithRetries","fetch","ok","json","encodeURIComponent","depName","depVersion","valid","nonAbsoluteDependencies","newDependencies","commonPostMessage","url_generator_1","Window","protocolAndHost","ver","maj","split","reactScriptsVersion","intersects","isCRAVersion2","preactVersion","persistMeasurements","getMeasurements","clearMeasurements","getCumulativeMeasure","endMeasure","measure","debug_1","debug","runningMeasurements","measurements","startsWith","totalTime","reduce","prev","silent","displayName","toFixed","performance","mark","now","Date","warn","lastTime","lastMeasurement","nowMeasurement","hadKey","delete","measurement","browser","cache_used","cacheUsed","fields","transpilation","evaluation","external_resources","compilation","boot","total","headers","Accept","extname","basename","dirname","normalize","isAbsolute","splitPathRe","charAt","isAbs","trailingSlash","newPath","parts","allowAboveRoot","res","normalizeArray","segment","filename","exec","dir","ext","sections","lastPart","assertPath","startDot","startPart","end","matchedSlash","preDotState","charCodeAt","a","RegExp","toLowerCase","__createBinding","k","k2","__setModuleDefault","__importStar","dashboard","teamInviteLink","getSandboxId","privacyUrl","tosUrl","curatorUrl","patronUrl","searchUrl","gitHubToSandboxUrl","optionsToParameterizedUrl","githubRepoUrl","profileLikesUrl","profileSandboxesUrl","teamOverviewUrl","exploreUrl","dashboardUrl","profileUrl","signInVercelUrl","signInUrl","signInPageUrl","forkSandboxUrl","frameUrl","embedUrl","sandboxUrl","editorUrl","uploadFromCliUrl","newCxJSSandboxUrl","newAngularSandboxUrl","newSvelteSandboxUrl","importFromGitHubUrl","newVueSandboxUrl","newPreactSandboxUrl","newDojoSandboxUrl","newReactTypeScriptSandboxUrl","parcelSandboxUrl","newSandboxUrl","newSandboxWizard","host","gitHubRepoPattern","gitHubPrefix","dotGit","sandboxHost","buildEncodedUri","strings","values","protocol","sandboxGitUrl","git","username","repo","branch","sandboxDetails","alias","append","useFallbackDomain","templateIsServer","sHost","redirectTo","extraScopes","teamId","page","keyValues","sort","githubUrl","query","csbHost","tryHost","hostRegex","sandboxRegex","matches","inviteToken","appendTeamIdQueryParam","createWorkspace","teamInvite","permissionSettings","registrySettings","settings","home","deleted","recents","templates","alwaysOn","repos","drafts","allSandboxes","ALL_SANDBOXES_URL_PREFIX","DASHBOARD_URL_PREFIX","sanitizePath","getTimestamp","DependencyNotFoundError","fromPath","second","parsedName","suggestions","SandboxError","ref","errorToSend","manager","getCurrentManager","relevantFrame","enhancedFrames","wrappedResolveModule","_originalFileName","fileName","tModule","resolveTranspiledModule","_originalLineNumber","_originalColumnNumber","hideLine","babelMatched","parseInt","buildErrorMessage","buildDynamicError","columnNumber","ModuleNotFoundError","isDependency","currentPath","number","rawReactErrorTransformer","findRawModule","rawModule","from","foundResult","sourceModule","additionalReference","currentError","totalErrors","switchCallback","lastChild","removeChild","div","applyStyles","additionalChildStyle","group","groupStyle","left","groupElemLeft","consumeEvent","createTextNode","enableTabClick","right","groupElemRight","hints","hintsStyle","close","hint","span","hintStyle","createHint","closeButtonStyle","sourceLines","lineNum","columnNum","contextSize","onSourceClick","sourceCode","whiteSpace","Infinity","content","min","isFinite","substring","ansiHighlight","forceColor","linesAbove","linesBelow","htmlHighlight","innerHTML","codeStyle","ccn","childNodes","oLoop","ccn2","index2","innerText","primaryErrorStyle","secondaryErrorStyle","primaryPreStyle","secondaryPreStyle","handler","style","cursor","footerStyle","frameSetting","critical","omits","omitBundle","parentContainer","lastElement","errorName","compiled","functionName","sourceFileName","scriptLines","_scriptCode","sourceLineNumber","sourceColumnNumber","_originalScriptCode","prettyURL","trimMatch","getPrettyURL","needsHidden","isInternalUrl","isInternalFile","isThrownIntentionally","isBultinErrorName","shouldCollapse","hasReachedAppCode","collapseElement","capV","omittedFrames","omitsCount","text1","hide","textContent","list","getElementsByName","display","omittedFramesCollapsedStyle","omittedFramesExpandedStyle","getGroupToggle","requestAnimationFrame","actionElement","children","first","parentNode","click","insertBefore","insertBeforeBundle","bundle","trim","elem","internalUrl","cleanedFunctionName","frameFunctionName","cleanedUrl","functionNameStyle","depStyle","frameLink","linkStyle","frameAnchor","anchorStyle","frameDiv","hiddenStyle","hasSource","createCode","resolvedFrames","frameSettings","traceStyle","lIndex","createFrameWrapper","factory","fac","elemWrapper","compiledDiv","toggleStyle","compiledText","createFrame","frames","closeCallback","overlay","overlayStyle","containerStyle","createClose","additional","updateAdditional","header","headerStyle","messageHeader","messageHeaderStyle","finalMessage","originalName","originalMessage","originalErrorContainer","errorHeader","originalHeaderStyle","originalMessageHeader","originalMessageHeaderStyle","areActionsEnabled","createSuggestions","createFrames","createFooter","suggestionsContainerStyle","suggestionsTitleStyle","suggestion","button","suggestionsButtonStyle","preventDefault","reactFrameStack","reactStack","reactStackEnd","orig","limit","stackTraceRegistered","restoreStackTraceValue","stackTraceLimit","boundErrorHandler","errorHandler","boundRejectionHandler","rejectionHandler","crash","crashWithFramesRunTime","crashWithFrames","register","registerReactStack","permanentRegister","warning","massage","__unmap_source","unregister","unregisterReactStack","unhandledRejection","stackFrames","catch","listenToRuntimeErrorsUnmounter","listenToRuntimeErrors","consume","errorReferences","sendErrorsToEditor","transformErrors","iframeReference","contentDocument","currReferenceIndex","offset","switchError","renderErrorByIndex","unmount","render","disposeCurrentView","iframe","iframeStyle","w","contentWindow","createOverlay","onkeydown","keyEventHandler","SHORTCUT_ESCAPE","SHORTCUT_LEFT","SHORTCUT_RIGHT","shortcutHandler","margin","getErrorRecord","nextView","force","drain","errRef","transformation","getTranspiledModules","newError","ex","position","top","width","height","border","padding","overflow","_preStyle","_groupElemStyle","transition","blur","css","getHead","injectedCache","injectedCount","element","getElementsByTagName","which","keyCode","parsedFrames","unmap","recorded","errorsConsumed","getLinesAround","count","max","ScriptLine","SourceMap","__source_map","originalPositionFor","generatedPositionFor","sourceName","sourceContentFor","sources","extractSourceMapUrl","fileUri","fileContents","regex","getSourceMap","sm","base64","match2","atob","SourceMapConsumer","lastIndexOf","obj","getStackFrames","contextLines","cache","settle","transpiledModule","getTranspiledModuleByHash","fileSource","compiledCode","getOriginalPosition","originalSource","getSource","StackFrame","regexExtractLocation","extractLocation","isNaN","regexValidFrame_Chrome","regexValidFrame_FireFox","parseStack","isEval","last","highlight","scriptCode","sourceFunctionName","sourceScriptCode","_originalFunctionName","getFunctionName","string","_fileUri","contents","uri","fN","getSources","seps","sep","penalties","b","sign","sourceT","getGeneratedPosition","lastFilename","lastLineNumber","stripInlineStacktrace","abs","defineDriver","setDriver","INDEXEDDB","LOCALSTORAGE","WEBSQL","APICacheUsed","storeName","clearIndexedDBCache","saveCache","sandboxId","managerModuleToTranspile","changes","firstRun","managerState","serialize","entryPath","optimizeForSize","setItem","clearCache","__SANDBOX_DATA__","shouldSaveOnlineCache","stringifiedManagerState","deleteAPICache","ignoreNextCache","localStorage","consumeCache","getItem","removeItem","cacheData","localData","cache1","cache2","timestamp","load","ErrorClass","ModuleError","ModuleWarning","cachedSetTimeout","cachedClearTimeout","currentQueue","queue","draining","queueIndex","defaultSetTimout","defaultClearTimeout","runTimeout","fun","drainQueue","cleanUpNextTick","run","marker","runClearTimeout","Item","array","nextTick","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","binding","cwd","chdir","umask","requestFrame","raf","mozRequestAnimationFrame","webkitRequestAnimationFrame","hasGlobalDeclaration","globals","asUMD","process","NODE_ENV","allGlobals","require","setImmediate","allGlobalKeys","globalsCode","globalsValues","eval","isEvalError","HMR","dirty","selfAccepted","invalidated","disposeHandler","setSelfAccepted","isEntry","isHot","splitQueryFromPath","queryPath","modulePath","ModuleSource","sourceEqualsCompiled","previousSource","isTestFile","hmrConfig","hasMissingDependencies","createSourceForAsset","logWarnings","warnings","isCompilationCached","errors","childModules","transpilationDependencies","asyncDependencies","transpilationInitiators","initiators","markHardReload","reset","resetTranspilation","preset","getLoaders","transpiler","cleanModule","getLoaderContext","removeTranspiledModule","setIsEntry","setIsTestFile","setDirty","resetCompilation","size","depPath","isTranspilationDep","downloadDependency","fileResolver","transpilerOptions","emitWarning","emitError","emitModule","directoryPath","overwrite","isChild","moduleCopy","getTranspiledModule","update","addTranspiledModule","addTranspilationDependency","addDependency","addDependenciesInDirectory","folderPath","resolveTranspiledModulesInDirectory","ignoredExtensions","resolveTranspiledModuleAsync","getModules","context","webpack","_module","remainingRequests","resourceQuery","getLoaderQuery","getQuery","finalSourceMap","requires","loaderContext","reGlob","transpilerConfig","measureKey","getId","transpiledCode","transpile","some","HMREnabled","flattenDeep","transpileJobs","delay","doTranspile","finally","initiator","endsWith","localModule","webpackHMR","isDirty","isDeclined","isFirstLoad","reload","setHmrStatus","callDisposeHandler","hotData","hot","accept","cb","setType","setAcceptCallback","enableWebpackHMR","decline","setDisposeHandler","invalidate","setInvalidated","status","hmrStatus","addStatusHandler","removeStatusHandler","usedPath","getPresetAliasedPath","bfsModule","os","homedir","loaded","toPath","dependencyPath","requiredTranspiledModule","evaluateTranspiledModule","usedGlobals","__dirname","__filename","$csbImport","evaluate","envVariables","callAcceptCallback","stubbed","cacheable","serializableObject","war","isNpmDependency","loadModule","queryParts","transpiledModules","getModule","assert","buffer","child_process","cluster","constants","crypto","dgram","dns","domain","events","fs","http","https","net","punycode","querystring","readline","repl","stream","_stream_duplex","_stream_passthrough","_stream_readable","_stream_transform","_stream_writable","sys","timers","tls","tty","util","vm","zlib","tarStore","tarLocation","getUrlFromFileProtocol","meta","NODE_LIBS","SKIPPED_BROWSER_FIELD_DEPENDENCIES","SHIMMED_MODULE","getShimmedModuleFromPath","triggerFileWatch","getFSModule","fileWatcher","triggerWatch","manifest","dependencyDependencies","dependencyAliases","bfsWrapper","addModule","removeModule","moveModule","updateModule","isFile","hasCallback","returnValue","stage","bool","readFileSync","readFile","setStage","currentTModule","hmrStatusChangeListeners","cachedPaths","hardReload","transpiledModulesByHash","versionIdentifier","configure","hasFileResolver","setupFileResolver","baseTModule","pJsonCode","evaluateModule","postEvaluate","tModules","existingModule","hasDotEnv","envCode","envLine","val","setEnvironmentVariables","postTranspile","shouldTranspile","previousDependencyName","aliasedDependencyName","getAliasedPath","moduleDirectoriesCache","baseTSCompilerConfig","typescript","NODE_PATH","dirredPath","cachedPath","promiseResolve","promiseReject","presetAliasedPath","aliasedPath","getAliasedDependencyPath","shimmedPath","extensions","packageFilter","moduleDirectory","getModuleDirectories","foundPath","connectedPath","resolvedPath","sync","getTranspiledModulesByModule","async","resolveModuleAsync","joinedPath","resetAllModules","addedModules","updatedModules","mirrorModule","tModulesToUpdate","uniq","modulesWithErrors","flattenedTModulesToUpdate","allModulesToUpdate","transpiledModulesToUpdate","serializedTModules","downloaded","dependenciesQuery","getDependencyQuery","getTime","normalizedDependencies","cacheVersion","newCombinedMetas","sTModule","info","getTranspilerContext","processDependencies","setup","teardown","htmlDisabled","preEvaluate","preTranspilers","postTranspilers","setAdditionalAliases","defaultAliases","aliasedPathCache","loaders","resetTranspilers","parseOptions","noop","deps","aliasCache","exactFoundAlias","pathParts","foundAlias","orderBy","every","replacedPath","prepend","transpilerObject","unshift","evaluator","loader","extraTranspilers","loaderName","webpackLoader","reverse","configStringified","encode","loaderQuery","metas","combinedMetas","normalizedMetas","packages","setCombinedMetas","givenCombinedMetas","ALIAS_REGEX","resolveNPMAlias","getMeta","packageJSONPath","useFallback","nameWithoutAlias","relativePath","resolvePath","subDepVersionVersionInfo","getDependencyVersion","subDepVersion","er","foundPackageJSONPath","rootDependency","savedDepDep","resolved","semver","fetchModule","versionInfo","rootPath","normalizedCacheKey","normalizedMeta","newMeta","prependRootPath","normalizeJSDelivr","fileObject","convertGitHubURLToVersion","contributedProtocols","preloadedProtocols","jsdelivr","latestVersion","unpkg","childFiles","protocols","fetchedGists","getAPIURl","fetchGist","truncated","raw_url","normalizedResponse","fileNames","sha","_name","_version","prependToContributedProtocols","newProtocols","getFetchProtocol","runCondition","retries","requestInit","lastTryTime","responseObject","TarStore","fetchedTars","tarContents","normalized","tar","Buffer","tarKey","generateKey","arrayBuffer","unzippedFile","Uint8Array","untarredFile","normalizeTar","fetchTar","Transpiler","doTranspilation","WebpackTranspiler","webpackCode","webpackLoaderContext","raw","specialValues","null","true","false","matchRelativePath","isAbsolutePath","getRemainingRequest","parseQuery","queryArgs","arg","idx","decodeURIComponent","stringifyRequest","splitted","part","splittedPart","singlePath","relative","getOptions","DEFAULT_EXTENSIONS","getDependencyName","dependencyParts","pkgLocation","enable","cosmiconfig","prettier","jsdom","JSDOM","fragment","htmlString","WRONG_PATTERNS","parsePatternInfo","globPattern","range","parsePackagePath","pattern","getPackageJSON","getLatestVersionForSemver","getDependencyDependencies","parsedResolutions","peerDependencyResult","packageJSONCode","parents","absoluteVersion","originalDep","applicableResolutions","getAbsoluteVersion","resolveDependencyInfo","response","peerDependencies","resolutionsByPackage","URLS","packager","bucket","BUCKET_URL","PACKAGER_URL","callApi","statusText","statusCode","requestPackager","isEqual","s1","s2","replacePaths","oldName","newName","al","replaceDependencyInfo","depDepName","newDepDep","v1","v2","loadedDependencyCombination","PRELOADED_PROTOCOLS","splitDependencies","forceFetchDynamically","dynamicDependencies","prebundledDependencies","fetchProtocol","shouldFetchDynamically","getDependenciesFromSources","resolutions","updateProgress","parseResolutions","remainingDependencies","totalDependencies","depsWithNodeLibs","newDeps","removeSpacesFromDependencies","updateLoadScreen","progress","dynamicPromise","prebundledPromise","dependencyUrl","bucketDependencyUrl","dependencyToPackagePath","fullUrl","dynamicLoadedDependencies","prebundledLoadedDependencies","responses","sortedResponses","localeCompare","exDepDep","replacingDepDep","mergeDependencies","loadDependencies","disableExternalConnection","isNewCombination","dependenciesWithoutTypings","pickBy","depQuery","registryLocation","packageMetadata","scopeWhitelist","scope","proxyUrl","authToken","provideTarballUrl","tarballUrl","getProxiedUrl","encodedName","Headers","getRequestInit","errorMessage","detail","fetchRegistry","getPackageUrl","metadata","getPackageMetadata","foundVersion","getVersionInfo","tarball","getTarballUrl","dist","cachedBoilerplates","evalBoilerplates","boilerplates","boilerplate","fakeModule","extension","transpileModules","getBoilerplates","findBoilerplate","isBinary","parameters","getParameters","webpackHMREnabled","wrapper","toDefinition","classes","previous","core","Core","injectableSource","exportTokens","getStyleId","StyleTranspiler","getElementById","insertCss","hmrEnabled","expr","isESModule","lastIndex","parseWorkerError","reconstructedError","_debug","WorkerTranspiler","workerCount","navigator","hardwareConcurrency","workers","idleWorkers","tasks","initialized","hasFS","loadingWorkers","preload","loadWorker","getWorker","worker","readyListener","FileSystem","WorkerFS","attachRemoteListener","executeRemainingTasks","terminate","taskIds","taskId","task","executeTask","callbacks","onmessage","runCallbacks","found","isGlob","DEFAULT_BABEL_CONFIG","Syntax","generateRequireStatement","varName","requirePath","declarations","init","callee","kind","generateAllExportsIterator","expression","computed","params","operator","consequent","argument","alternate","generateExportGetter","generateExportStatement","exportName","exportObj","local","properties","shorthand","generateInteropRequireExpression","localName","EXPRESSIONS_PRECEDENCE","ArrayExpression","TaggedTemplateExpression","ThisExpression","Identifier","Literal","TemplateLiteral","Super","SequenceExpression","MemberExpression","CallExpression","NewExpression","ArrowFunctionExpression","ClassExpression","FunctionExpression","ObjectExpression","UpdateExpression","UnaryExpression","BinaryExpression","LogicalExpression","ConditionalExpression","AssignmentExpression","AwaitExpression","YieldExpression","RestElement","customGenerator","astring","FieldDefinition","write","ImportExpression","JSXElement","openingElement","closingElement","child","JSXOpeningElement","attributes","attr","JSXClosingElement","JSXIdentifier","JSXMemberExpression","JSXAttribute","JSXNamespacedName","namespace","JSXExpressionContainer","JSXText","convertEsModule","usedVarNames","varsToRename","trackedExports","exportNames","getVarName","usedName","program","meriyah","importOffset","addNodeInImportSpace","oldPosition","addedSpecifier","addEsModuleSpecifier","addedDefaultInterop","addDefaultInterop","exportsDefined","walk","enter","skip","declNode","idNode","statement","specifiers","specifier","exported","positionToInsert","newDeclaration","importName","imported","prop","scopeManager","escope","ecmaVersion","acquire","scopes","references","identifier","writeExpr","isWrite","detach","exportNamesArray","exportNamesToUse","totalNode","currentNode","addExportVoids","finalCode","ast","lineRegex","partRegex","commentRegex","JSXSyntax","BabelWorker","babelworkers","newCode","isNodeModule","convertedToEsmodule","esModuleInfo","syntaxInfo","esm","getSyntaxInfoFromAst","syntax","jsxMatch","startOfLine","checkComment","getSyntaxInfoFromCode","simpleRequire","results","commentMatch","codePart","regexGetRequireStatements","foundConfig","loaderOptions","hasMacros","babelConfig","resolvedConfig","disableCodeSandboxPlugins","finalConfig","sourceMaps","commonjsPluginName","getBabelConfig","queueTask","babelTranspilerOptions","sandboxOptions","baseConfig","availablePlugins","availablePresets","babelVersion","isMinimalSemverVersion","minimalVersion","gte","isMinimalReactDomVersion","isMinimalAbsoluteVersion","isMinimalReactVersion","absoluteDependencies","hasRefresh","reactDom","supportsNewReactTransform","reactScripts","isReact","isReactScripts","cleanUsingUnmount","reactDOMModule","reactDOM","unmountComponentAtNode","tagName","initialize","Preset","registerTranspiler","stylesTranspiler","helpers","jsonTranspiler","rawTranspiler","getModuleHTTPPath","svgrTransform","codeIsHttp","previousExport","downloadedCode","SassWorker","indentedSyntax","HELPER_PATH","HELPER_CODE","initializeReactDevTools","initializeDevTools","activate","__REACT_DEVTOOLS_GLOBAL_HOOK__","createRefreshEntry","entryModule","tEntryModule","reactPreset","refreshInitialized","isRefresh","refreshTranspiler","svgrTranspiler","sassTranspiler","styleProcessor","BABEL7_CONFIG","compileNodeModulesWithEnv","corejs","ignoreBrowserslistConfig","runtime","TypeScriptWorker","typescriptVersion","StylusWorker","LessWorker","interMediateFiles","NoopTranspiler","blob","addStylesClientRaw","listToStylesRaw","loaderUtils","shared","reader","FileReader","readAsDataURL","onloadend","base64data","PugWorker","CoffeeWorker","vuePreset","vue$","sassWithConfig","lessWithConfig","lessTranspiler","stylusWithConfig","stylusTranspiler","typescriptTranspiler","vueTranspiler","coffeeTranspiler","scss","sass","styl","registerStyleTranspilers","vueTemplateTranspiler","vueStyleTranspiler","vueSelector","vueStyleLoader","cssLoader","binaryTranspiler","base64Transpiler","noopTranspiler","pugTranspiler","scssWithConfig","stylePostLoader","vueLoader","templateLoader","getFileNameFromVm","cid","_isVue","$options","__file","isV3","initializeV3","initializeV2","vueModule","Vue","warnHandler","msg","PreactPresetV8","preactPreset","preact$","cssModulesPaths","cssTypes","cssType","asyncTranspiler","PreactPreset","SvelteWorker","coerce","babelOptions","sveltePreset","svelteTranspiler","importRegex","convertDynamicImport","templateUrlRegex","stylesRegex","stringRegex","replaceStringsWithRequires","extensionConfig","quote","urlParts","finalUrl","newSource","templateProperty","urls","styleProperty","polyfillsLoaded","addAngularJSONPolyfills","polyfillLocation","addAngularCLIPolyfills","addAngularJSONResources","finalPath","getPathFromResource","addAngularCLIResources","environmentSource","environments","dev","zone","angular2Transpiler","csbDynamicImportTranspiler","HTMLWorker","parcelPreset","dynamicCSSModules","tsTranspiler","htmlTranspiler","babelPreset","cxjsPreset","addScript","IGNORED_DEPENDENCIES","getModuleName","moduleParts","unCapitalizedModuleName","toUpperCase","cachedDependencies","getDependencyList","listFunction","ocaml","reason_list_dependencies","list_dependencies","foundModule","moduleName","reasonModules","mainReasonModule","modulesToAdd","usedCode","printRE","parseML","typesPath","typesModule","reasonCode","reason_compile_super_errors","js_code","js_error_msg","row","stripANSI","reasonRemap","reasonTranspiler","packageJson","packageName","baseName","cssResult","stylesPath","dojoStylesTranspiler","transpilerMap","registerTranspilers","savedTranspilers","configModule","evaluatedTranspilers","initializers","customPreset","customConfig","customTemplate","getPreset","reactPresetV4","reactPresetV3","reactPresetV1","preactPresetV8","reactTsPreset","reasonPreset","angularPreset","dojoPreset","getExternalResourcesConcatenation","resources","clearExternalResources","el","remove","addCSS","resource","link","rel","media","createExternalCSSLink","addJS","createExternalJSLink","addResource","resourceIsCss","waitForLoaded","readyState","cachedExternalResources","handleExternalResources","externalResources","extResString","iframeRenderedAt","setIframeStyle","showFullScreen","createIframe","opacity","html","currentScreen","loadTimeoutID","changeText","getElementsByClassName","item","resetScreen","lastIframeRenderedAt","resetOverlay","setScreen","screen","loadingHtml","indicatorHtml","testRunner","initializedResizeListener","actionsEnabled","getHTMLParts","headMatch","bodyMatch","sendTestCount","tests","findTests","firstLoad","hadError","lastHeadHTML","lastBodyHTML","lastHeight","changedModuleCount","usedCache","DEPENDENCY_ALIASES","WHITELISTED_DEV_DEPENDENCIES","PREINSTALLED_DEPENDENCIES","getDependencies","parsedPackage","templateDefinition","returnedDependencies","foundWhitelistedDevDependencies","prefixedName","usedDep","sandpackConfig","preinstalledDependencies","preInstalledDependencies","initializeManager","customNpmRegistries","Manager","SCRIPT_VERSION","newManager","registry","cleanUrl","registryUrl","limitToScopes","enabledScopes","NpmRegistryFetcher","prependNpmProtocolDefinition","updateManager","managerModules","updateConfigurations","updateData","sendResize","documentElement","scrollHeight","offsetHeight","clientHeight","getDocumentHeight","initializeResizeListener","setInterval","compile","hasActions","isModuleView","showOpenInCodeSandbox","skipEval","disableDependencyPreprocessing","clearConsoleDisabled","metrics","startTime","inject","initializeErrorTransformers","getDefinition","parseConfigurations","parsedPackageJSON","shouldReloadManager","setManifest","possibleEntries","foundMain","verifyTreeTranspiled","htmlEntries","getHTMLEntries","htmlModulePath","htmlModule","clearCompiledCache","oldHTML","evalled","domChanged","defaultBoilerplates","createCodeSandboxOverlay","TestRunner","Event","dispatchEvent","userAgent","VERSION","compilatonError","__puppeteer__","oldClose","overrideDocumentClose","runningTask","executeTaskIfAvailable","getTemplate","getTemplateDefinition"],"mappings":"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","file":"static/js/sandbox.798af73c8.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t7: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"static/js/\" + ({\"0\":\"vendors~vue-loader~vue-selector~vue-template-compiler\",\"2\":\"vendors~postcss-compiler~vue-style-compiler\",\"3\":\"vendors~vue-loader~vue-selector\",\"4\":\"css-loader\",\"5\":\"css-modules-loader-core\",\"6\":\"postcss-compiler\",\"9\":\"vendors~css-modules-loader-core\",\"10\":\"vendors~react-devtools-backend\",\"13\":\"vendors~vue-style-compiler\",\"14\":\"vendors~vue-template-compiler\",\"15\":\"vue-loader\",\"16\":\"vue-selector\",\"17\":\"vue-style-compiler\",\"18\":\"vue-template-compiler\"}[chunkId]||chunkId) + \".\" + {\"0\":\"efa346ee8\",\"1\":\"51f4e5df7\",\"2\":\"dddd95754\",\"3\":\"45e40239b\",\"4\":\"1a1fda658\",\"5\":\"e1a8d581a\",\"6\":\"74364ccac\",\"9\":\"da1c58374\",\"10\":\"f11a1961d\",\"13\":\"e3a99abac\",\"14\":\"d816e26cf\",\"15\":\"b47ff2fb6\",\"16\":\"33a4278b6\",\"17\":\"dc587ea99\",\"18\":\"2c3b1fc1e\",\"19\":\"01a197c58\",\"21\":\"820900509\",\"23\":\"fb43d6af2\",\"24\":\"bc215cadd\",\"25\":\"0538acc11\"}[chunkId] + \".chunk.js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = this[\"csbJsonP\"] = this[\"csbJsonP\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,11]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = \"/* eslint-disable */\\n/*\\n  MIT License http://www.opensource.org/licenses/mit-license.php\\n  Author Tobias Koppers @sokra\\n  Modified by Evan You @yyx990803\\n*/\\n\\nvar hasDocument = typeof document !== 'undefined';\\n\\nif (typeof DEBUG !== 'undefined' && DEBUG) {\\n  if (!hasDocument) {\\n    throw new Error(\\n      'vue-style-loader cannot be used in a non-browser environment. ' +\\n        \\\"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\\\"\\n    );\\n  }\\n}\\n\\nvar listToStyles = require('./listToStyles');\\n\\n/*\\n* type StyleObject = {\\n*   id: number;\\n*   parts: Array<StyleObjectPart>\\n* }\\n*\\n* type StyleObjectPart = {\\n*   css: string;\\n*   media: string;\\n*   sourceMap: ?string\\n}\\n*/\\n\\nvar stylesInDom = {\\n  /*\\n   *   [id: number]: {\\n   *     id: number,\\n   *     refs: number,\\n   *     parts: Array<(obj?: StyleObjectPart) => void>\\n   *   }\\n   */\\n};\\n\\nvar head =\\n  hasDocument && (document.head || document.getElementsByTagName('head')[0]);\\nvar singletonElement = null;\\nvar singletonCounter = 0;\\nvar isProduction = false;\\nvar noop = function() {};\\n\\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\\n// tags it will allow on a page\\nvar isOldIE =\\n  typeof navigator !== 'undefined' &&\\n  /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\\n\\nmodule.exports = function(parentId, list, _isProduction) {\\n  isProduction = _isProduction;\\n\\n  var styles = listToStyles(parentId, list);\\n  addStylesToDom(styles);\\n\\n  return function update(newList) {\\n    var mayRemove = [];\\n    for (var i = 0; i < styles.length; i++) {\\n      var item = styles[i];\\n      var domStyle = stylesInDom[item.id];\\n      domStyle.refs--;\\n      mayRemove.push(domStyle);\\n    }\\n    if (newList) {\\n      styles = listToStyles(parentId, newList);\\n      addStylesToDom(styles);\\n    } else {\\n      styles = [];\\n    }\\n    for (var i = 0; i < mayRemove.length; i++) {\\n      var domStyle = mayRemove[i];\\n      if (domStyle.refs === 0) {\\n        for (var j = 0; j < domStyle.parts.length; j++) {\\n          domStyle.parts[j]();\\n        }\\n        delete stylesInDom[domStyle.id];\\n      }\\n    }\\n  };\\n};\\n\\nfunction addStylesToDom(styles /* Array<StyleObject> */) {\\n  for (var i = 0; i < styles.length; i++) {\\n    var item = styles[i];\\n    var domStyle = stylesInDom[item.id];\\n    if (domStyle) {\\n      domStyle.refs++;\\n      for (var j = 0; j < domStyle.parts.length; j++) {\\n        domStyle.parts[j](item.parts[j]);\\n      }\\n      for (; j < item.parts.length; j++) {\\n        domStyle.parts.push(addStyle(item.parts[j]));\\n      }\\n      if (domStyle.parts.length > item.parts.length) {\\n        domStyle.parts.length = item.parts.length;\\n      }\\n    } else {\\n      var parts = [];\\n      for (var j = 0; j < item.parts.length; j++) {\\n        parts.push(addStyle(item.parts[j]));\\n      }\\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts };\\n    }\\n  }\\n}\\n\\nfunction createStyleElement() {\\n  var styleElement = document.createElement('style');\\n  styleElement.type = 'text/css';\\n  head.appendChild(styleElement);\\n  return styleElement;\\n}\\n\\nfunction addStyle(obj /* StyleObjectPart */) {\\n  var update, remove;\\n  var styleElement = document.querySelector(\\n    'style[data-vue-ssr-id~=\\\"' + obj.id + '\\\"]'\\n  );\\n\\n  if (styleElement) {\\n    if (isProduction) {\\n      // has SSR styles and in production mode.\\n      // simply do nothing.\\n      return noop;\\n    } else {\\n      // has SSR styles but in dev mode.\\n      // for some reason Chrome can't handle source map in server-rendered\\n      // style tags - source maps in <style> only works if the style tag is\\n      // created and inserted dynamically. So we remove the server rendered\\n      // styles and inject new ones.\\n      styleElement.parentNode.removeChild(styleElement);\\n    }\\n  }\\n\\n  if (isOldIE) {\\n    // use singleton mode for IE9.\\n    var styleIndex = singletonCounter++;\\n    styleElement =\\n      singletonElement || (singletonElement = createStyleElement());\\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\\n  } else {\\n    // use multi-style-tag mode in all other cases\\n    styleElement = createStyleElement();\\n    update = applyToTag.bind(null, styleElement);\\n    remove = function() {\\n      styleElement.parentNode.removeChild(styleElement);\\n    };\\n  }\\n\\n  update(obj);\\n\\n  return function updateStyle(newObj /* StyleObjectPart */) {\\n    if (newObj) {\\n      if (\\n        newObj.css === obj.css &&\\n        newObj.media === obj.media &&\\n        newObj.sourceMap === obj.sourceMap\\n      ) {\\n        return;\\n      }\\n      update((obj = newObj));\\n    } else {\\n      remove();\\n    }\\n  };\\n}\\n\\nvar replaceText = (function() {\\n  var textStore = [];\\n\\n  return function(index, replacement) {\\n    textStore[index] = replacement;\\n    return textStore.filter(Boolean).join('\\\\n');\\n  };\\n})();\\n\\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\\n  var css = remove ? '' : obj.css;\\n\\n  if (styleElement.styleSheet) {\\n    styleElement.styleSheet.cssText = replaceText(index, css);\\n  } else {\\n    var cssNode = document.createTextNode(css);\\n    var childNodes = styleElement.childNodes;\\n    if (childNodes[index]) styleElement.removeChild(childNodes[index]);\\n    if (childNodes.length) {\\n      styleElement.insertBefore(cssNode, childNodes[index]);\\n    } else {\\n      styleElement.appendChild(cssNode);\\n    }\\n  }\\n}\\n\\nfunction applyToTag(styleElement, obj) {\\n  var css = obj.css;\\n  var media = obj.media;\\n  var sourceMap = obj.sourceMap;\\n\\n  if (media) {\\n    styleElement.setAttribute('media', media);\\n  }\\n\\n  if (sourceMap) {\\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\\n    // this makes source maps inside style tags work properly in Chrome\\n    css += '\\\\n/*# sourceURL=' + sourceMap.sources[0] + ' */';\\n    // http://stackoverflow.com/a/26603875\\n    css +=\\n      '\\\\n/*# sourceMappingURL=data:application/json;base64,' +\\n      btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) +\\n      ' */';\\n  }\\n\\n  if (styleElement.styleSheet) {\\n    styleElement.styleSheet.cssText = css;\\n  } else {\\n    while (styleElement.firstChild) {\\n      styleElement.removeChild(styleElement.firstChild);\\n    }\\n    styleElement.appendChild(document.createTextNode(css));\\n  }\\n}\\n\"","module.exports = \"/* eslint-disable */\\n/**\\n * Translates the list format produced by css-loader into something\\n * easier to manipulate.\\n */\\nmodule.exports = function listToStyles(parentId, list) {\\n  var styles = [];\\n  var newStyles = {};\\n  for (var i = 0; i < list.length; i++) {\\n    var item = list[i];\\n    var id = item[0];\\n    var css = item[1];\\n    var media = item[2];\\n    var sourceMap = item[3];\\n    var part = {\\n      id: parentId + ':' + i,\\n      css: css,\\n      media: media,\\n      sourceMap: sourceMap,\\n    };\\n    if (!newStyles[id]) {\\n      styles.push((newStyles[id] = { id: id, parts: [part] }));\\n    } else {\\n      newStyles[id].parts.push(part);\\n    }\\n  }\\n  return styles;\\n};\\n\"","module.exports = \"<style>\\n  body {\\n    color: #fff;\\n    font-family: 'Inter', sans-serif;\\n    background: transparent;\\n    -webkit-font-smoothing: antialiased;\\n  }\\n\\n  .container {\\n    display: flex;\\n    align-items: center;\\n    flex-direction: row;\\n  }\\n\\n  .text {\\n    font-size: 0.8rem;\\n    width: 100%;\\n    font-weight: 400;\\n    margin-left: 1rem;\\n  }\\n\\n  .cube {\\n    transform: translate(-34px, 15px) scale(0.25, 0.25);\\n  }\\n\\n  .cube,\\n  .cube * {\\n    position: absolute;\\n    width: 6rem;\\n    height: 6rem;\\n  }\\n  .cube .sides * {\\n    box-sizing: border-box;\\n    border: 10px solid rgba(0,0,0,0.7);\\n    border-radius: 8px;\\n    background: rgba(255, 255, 255, 0.6);\\n  }\\n\\n  @keyframes rotate {\\n    0% {\\n      transform: rotateX(-25.5deg) rotateY(45deg);\\n    }\\n\\n    100% {\\n      transform: rotateX(-25.5deg) rotateY(405deg);\\n    }\\n  }\\n\\n  .sides {\\n    animation: rotate 0.8s linear infinite;\\n    animation-fill-mode: forwards;\\n    transform-style: preserve-3d;\\n    transform: rotateX(-25.5deg) rotateY(45deg);\\n  }\\n\\n  .cube .sides .top {\\n    animation: top-animation 3s ease infinite;\\n    animation-delay: 0ms;\\n    transform: rotateX(90deg) translateZ(44px);\\n    animation-fill-mode: forwards;\\n    transform-origin: 50% 50%;\\n  }\\n\\n  .cube .sides .bottom {\\n    animation: bottom-animation 3s ease infinite;\\n    animation-delay: 0ms;\\n    transform: rotateX(-90deg) translateZ(44px);\\n    animation-fill-mode: forwards;\\n    transform-origin: 50% 50%;\\n  }\\n\\n  .cube .sides .front {\\n    animation: front-animation 3s ease infinite;\\n    animation-delay: 100ms;\\n    transform: rotateY(0deg) translateZ(44px);\\n    animation-fill-mode: forwards;\\n    transform-origin: 50% 50%;\\n  }\\n\\n  .cube .sides .back {\\n    animation: back-animation 3s ease infinite;\\n    animation-delay: 100ms;\\n    transform: rotateY(-180deg) translateZ(44px);\\n    animation-fill-mode: forwards;\\n    transform-origin: 50% 50%;\\n  }\\n\\n  .cube .sides .left {\\n    animation: left-animation 3s ease infinite;\\n    animation-delay: 100ms;\\n    transform: rotateY(-90deg) translateZ(44px);\\n    animation-fill-mode: forwards;\\n    transform-origin: 50% 50%;\\n  }\\n\\n  .cube .sides .right {\\n    animation: right-animation 3s ease infinite;\\n    animation-delay: 100ms;\\n    transform: rotateY(90deg) translateZ(44px);\\n    animation-fill-mode: forwards;\\n    transform-origin: 50% 50%;\\n  }\\n\\n</style>\\n<div class=\\\"container\\\">\\n  <div class=\\\"cube\\\">\\n    <div class=\\\"sides\\\">\\n      <div class=\\\"top\\\"></div>\\n      <div class=\\\"right\\\"></div>\\n      <div class=\\\"bottom\\\"></div>\\n      <div class=\\\"left\\\"></div>\\n      <div class=\\\"front\\\"></div>\\n      <div class=\\\"back\\\"></div>\\n    </div>\\n  </div>\\n</div>\\n<link href=\\\"https://fonts.googleapis.com/css2?family=Inter:wght@200;400&display=swap\\\" rel=\\\"stylesheet\\\">\\n\"","module.exports = \"<style>\\n  body {\\n    color: #fff;\\n    font-family: 'Inter', sans-serif;\\n    background: #151515;\\n  }\\n\\n  .container {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    flex-direction: row;\\n  }\\n\\n  .text {\\n    margin-top: 22rem;\\n    font-size: 1rem;\\n    width: 100%;\\n    font-weight: 200;\\n    text-align: center;\\n  }\\n\\n  .cube,\\n  .cube * {\\n    position: absolute;\\n    width: 6rem;\\n    height: 6rem;\\n  }\\n  .cube .sides * {\\n    box-sizing: border-box;\\n    border: 0.12rem solid white;\\n    border-radius: 0.25rem;\\n    background: rgba(255, 255, 255, 0.1);\\n  }\\n\\n  @keyframes rotate {\\n    0% {\\n      transform: rotateX(-37.5deg) rotateY(45deg);\\n    }\\n    50% {\\n      transform: rotateX(-37.5deg) rotateY(405deg);\\n    }\\n    100% {\\n      transform: rotateX(-37.5deg) rotateY(405deg);\\n    }\\n  }\\n\\n  .sides {\\n    animation: rotate 3s ease infinite;\\n    animation-delay: 0.8s;\\n    transform-style: preserve-3d;\\n    transform: rotateX(-37.5deg) rotateY(45deg);\\n  }\\n\\n  .cube .sides .top {\\n    animation: top-animation 3s ease infinite;\\n    animation-delay: 0ms;\\n    transform: rotateX(90deg) translateZ(96px);\\n    animation-fill-mode: forwards;\\n    transform-origin: 50% 50%;\\n  }\\n\\n  @keyframes top-animation {\\n    0% {\\n      opacity: 1;\\n      transform: rotateX(90deg) translateZ(100px);\\n    }\\n    20% {\\n      opacity: 1;\\n      transform: rotateX(90deg) translateZ(48px);\\n    }\\n    70% {\\n      opacity: 1;\\n      transform: rotateX(90deg) translateZ(48px);\\n    }\\n    90% {\\n      opacity: 1;\\n      transform: rotateX(90deg) translateZ(100px);\\n    }\\n    100% {\\n      opacity: 1;\\n      transform: rotateX(90deg) translateZ(100px);\\n    }\\n  }\\n  .cube .sides .bottom {\\n    animation: bottom-animation 3s ease infinite;\\n    animation-delay: 0ms;\\n    transform: rotateX(-90deg) translateZ(96px);\\n    animation-fill-mode: forwards;\\n    transform-origin: 50% 50%;\\n  }\\n\\n  @keyframes bottom-animation {\\n    0% {\\n      opacity: 1;\\n      transform: rotateX(-90deg) translateZ(100px);\\n    }\\n    20% {\\n      opacity: 1;\\n      transform: rotateX(-90deg) translateZ(48px);\\n    }\\n    70% {\\n      opacity: 1;\\n      transform: rotateX(-90deg) translateZ(48px);\\n    }\\n    90% {\\n      opacity: 1;\\n      transform: rotateX(-90deg) translateZ(100px);\\n    }\\n    100% {\\n      opacity: 1;\\n      transform: rotateX(-90deg) translateZ(100px);\\n    }\\n  }\\n  .cube .sides .front {\\n    animation: front-animation 3s ease infinite;\\n    animation-delay: 100ms;\\n    transform: rotateY(0deg) translateZ(96px);\\n    animation-fill-mode: forwards;\\n    transform-origin: 50% 50%;\\n  }\\n\\n  @keyframes front-animation {\\n    0% {\\n      opacity: 1;\\n      transform: rotateY(0deg) translateZ(96px);\\n    }\\n    20% {\\n      opacity: 1;\\n      transform: rotateY(0deg) translateZ(48px);\\n    }\\n    70% {\\n      opacity: 1;\\n      transform: rotateY(0deg) translateZ(48px);\\n    }\\n    90% {\\n      opacity: 1;\\n      transform: rotateY(0deg) translateZ(96px);\\n    }\\n    100% {\\n      opacity: 1;\\n      transform: rotateY(0deg) translateZ(96px);\\n    }\\n  }\\n  .cube .sides .back {\\n    animation: back-animation 3s ease infinite;\\n    animation-delay: 100ms;\\n    transform: rotateY(-180deg) translateZ(96px);\\n    animation-fill-mode: forwards;\\n    transform-origin: 50% 50%;\\n  }\\n\\n  @keyframes back-animation {\\n    0% {\\n      opacity: 1;\\n      transform: rotateY(-180deg) translateZ(96px);\\n    }\\n    20% {\\n      opacity: 1;\\n      transform: rotateY(-180deg) translateZ(48px);\\n    }\\n    70% {\\n      opacity: 1;\\n      transform: rotateY(-180deg) translateZ(48px);\\n    }\\n    90% {\\n      opacity: 1;\\n      transform: rotateY(-180deg) translateZ(96px);\\n    }\\n    100% {\\n      opacity: 1;\\n      transform: rotateY(-180deg) translateZ(96px);\\n    }\\n  }\\n  .cube .sides .left {\\n    animation: left-animation 3s ease infinite;\\n    animation-delay: 100ms;\\n    transform: rotateY(-90deg) translateZ(96px);\\n    animation-fill-mode: forwards;\\n    transform-origin: 50% 50%;\\n  }\\n\\n  @keyframes left-animation {\\n    0% {\\n      opacity: 1;\\n      transform: rotateY(-90deg) translateZ(96px);\\n    }\\n    20% {\\n      opacity: 1;\\n      transform: rotateY(-90deg) translateZ(48px);\\n    }\\n    70% {\\n      opacity: 1;\\n      transform: rotateY(-90deg) translateZ(48px);\\n    }\\n    90% {\\n      opacity: 1;\\n      transform: rotateY(-90deg) translateZ(96px);\\n    }\\n    100% {\\n      opacity: 1;\\n      transform: rotateY(-90deg) translateZ(96px);\\n    }\\n  }\\n  .cube .sides .right {\\n    animation: right-animation 3s ease infinite;\\n    animation-delay: 100ms;\\n    transform: rotateY(90deg) translateZ(96px);\\n    animation-fill-mode: forwards;\\n    transform-origin: 50% 50%;\\n  }\\n\\n  @keyframes right-animation {\\n    0% {\\n      opacity: 1;\\n      transform: rotateY(90deg) translateZ(96px);\\n    }\\n    20% {\\n      opacity: 1;\\n      transform: rotateY(90deg) translateZ(48px);\\n    }\\n    70% {\\n      opacity: 1;\\n      transform: rotateY(90deg) translateZ(48px);\\n    }\\n    90% {\\n      opacity: 1;\\n      transform: rotateY(90deg) translateZ(96px);\\n    }\\n    100% {\\n      opacity: 1;\\n      transform: rotateY(90deg) translateZ(96px);\\n    }\\n  }\\n</style>\\n<div class=\\\"container\\\">\\n  <div class=\\\"cube\\\">\\n    <div class=\\\"sides\\\">\\n      <div class=\\\"top\\\"></div>\\n      <div class=\\\"right\\\"></div>\\n      <div class=\\\"bottom\\\"></div>\\n      <div class=\\\"left\\\"></div>\\n      <div class=\\\"front\\\"></div>\\n      <div class=\\\"back\\\"></div>\\n    </div>\\n  </div>\\n  <div class=\\\"text\\\">Downloading dependencies</div>\\n</div>\\n<link href=\\\"https://fonts.googleapis.com/css2?family=Inter:wght@200;400&display=swap\\\" rel=\\\"stylesheet\\\">\\n\"","module.exports = \"<style>\\n  body {\\n    color: #fff;\\n    font-family: 'Inter', sans-serif;\\n    background: #151515;\\n    cursor: pointer;\\n    -webkit-font-smoothing: auto;\\n    -moz-font-smoothing: auto;\\n    -moz-osx-font-smoothing: grayscale;\\n    font-smoothing: auto;\\n    text-rendering: optimizeLegibility;\\n    font-smooth: always;\\n    -webkit-tap-highlight-color: transparent;\\n    -webkit-touch-callout: none;\\n  }\\n\\n  .container {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    flex-direction: row;\\n  }\\n\\n  .text {\\n    margin-top: 24rem;\\n    font-size: 1rem;\\n    line-height: 1.4;\\n    width: 100%;\\n    max-width: 600px;\\n    font-weight: 400;\\n    text-align: center;\\n  }\\n\\n  .cube,\\n  .cube * {\\n    position: absolute;\\n    width: 6rem;\\n    height: 6rem;\\n  }\\n  .cube .sides * {\\n    opacity: 0.1;\\n    box-sizing: border-box;\\n    border: 0.12rem solid white;\\n    border-radius: 0.25rem;\\n    background: rgba(255, 255, 255, 0.1);\\n  }\\n  .sides {\\n    transform-style: preserve-3d;\\n    transform: rotateX(-37.5deg) rotateY(45deg);\\n  }\\n\\n  .cube .sides .top {\\n    transform: rotateX(90deg) translateZ(48px);\\n    transform-origin: 50% 50%;\\n  }\\n\\n  .cube .sides .bottom {\\n    transform: rotateX(-90deg) translateZ(48px);\\n    transform-origin: 50% 50%;\\n  }\\n\\n  .cube .sides .front {\\n    transform: rotateY(0deg) translateZ(48px);\\n    transform-origin: 50% 50%;\\n  }\\n\\n  .cube .sides .back {\\n    transform: rotateY(-180deg) translateZ(48px);\\n    transform-origin: 50% 50%;\\n  }\\n  .cube .sides .left {\\n    transform: rotateY(-90deg) translateZ(48px);\\n    transform-origin: 50% 50%;\\n  }\\n\\n  .cube .sides .right {\\n    transform: rotateY(90deg) translateZ(48px);\\n    transform-origin: 50% 50%;\\n  }\\n\\n  .play {\\n    position: absolute;\\n    background-color: white;\\n    text-align: left;\\n  }\\n  .play:before,\\n  .play:after {\\n    content: '';\\n    position: absolute;\\n    background-color: inherit;\\n  }\\n  .play,\\n  .play:before,\\n  .play:after {\\n    width: 1rem;\\n    height: 1rem;\\n    border-top-right-radius: 30%;\\n  }\\n\\n  .play {\\n    transform: rotate(-90deg) skewX(-30deg) scale(1, 0.866);\\n    box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.24);\\n  }\\n  .play:before {\\n    transform: rotate(-135deg) skewX(-45deg) scale(1.414, 0.707)\\n      translate(0, -50%);\\n  }\\n  .play:after {\\n    transform: rotate(135deg) skewY(-45deg) scale(0.707, 1.414) translate(50%);\\n  }\\n</style>\\n<div class=\\\"container\\\">\\n  <div class=\\\"cube\\\">\\n    <div class=\\\"sides\\\">\\n      <div class=\\\"top\\\"></div>\\n      <div class=\\\"right\\\"></div>\\n      <div class=\\\"bottom\\\"></div>\\n      <div class=\\\"left\\\"></div>\\n      <div class=\\\"front\\\"></div>\\n      <div class=\\\"back\\\"></div>\\n    </div>\\n  </div>\\n  <div class=\\\"play\\\"></div>\\n  <div class=\\\"text\\\">\\n    <h1>Aw, Snap?</h1>\\n    <p style=\\\"color:rgba(255,255,255,0.9)\\\">\\n      We noticed that the sandbox didn't complete its last run. This could be\\n      because of some code that crashed the browser. We paused execution so you\\n      can check the code.\\n    </p>\\n    <p style=\\\"color:rgba(255,255,255,0.9)\\\">Click to continue execution</p>\\n  </div>\\n</div>\\n<link href=\\\"https://fonts.googleapis.com/css2?family=Inter:wght@200;400&display=swap\\\" rel=\\\"stylesheet\\\">\\n\"","module.exports = function() {\n  return new Worker(\"/\" + \"babel-transpiler.d555f77c.worker.js\");\n};","module.exports = function() {\n  return new Worker(\"/\" + \"coffee-transpiler.93519aff.worker.js\");\n};","module.exports = function() {\n  return new Worker(\"/\" + \"less-transpiler.def3745a.worker.js\");\n};","module.exports = function() {\n  return new Worker(\"/\" + \"parcel-html-transpiler.9f0155b8.worker.js\");\n};","module.exports = function() {\n  return new Worker(\"/\" + \"pug-transpiler.d38ff949.worker.js\");\n};","module.exports = function() {\n  return new Worker(\"/\" + \"sass-transpiler.61b41111.worker.js\");\n};","module.exports = function() {\n  return new Worker(\"/\" + \"stylus-transpiler.01da604e.worker.js\");\n};","module.exports = function() {\n  return new Worker(\"/\" + \"svelte-transpiler.fd5dbb44.worker.js\");\n};","module.exports = function() {\n  return new Worker(\"/\" + \"typescript-transpiler.fbf368ed.worker.js\");\n};","module.exports = BrowserFS.BFSRequire('fs');\n","var transformers = [];\nfunction transformError(error, module, modules) {\n    var transformedErrors = transformers.map(function (c) { return c(error, module, modules); }).filter(function (x) { return x != null; });\n    return transformedErrors[0];\n}\nfunction clearErrorTransformers() {\n    transformers.length = 0;\n}\nfunction registerErrorTransformer(check) {\n    transformers.push(check);\n}\n\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar generateId = function () {\n    // Such a random ID\n    return Math.floor(Math.random() * 1000000 + Math.random() * 1000000);\n};\nvar getConstructorName = function (x) {\n    try {\n        return x.constructor.name;\n    }\n    catch (e) {\n        return '';\n    }\n};\nvar Protocol = /** @class */ (function () {\n    function Protocol(type, handleMessage, target) {\n        var _this = this;\n        this.type = type;\n        this.handleMessage = handleMessage;\n        this.target = target;\n        this.outgoingMessages = new Set();\n        this._messageListener = function (e) { return __awaiter(_this, void 0, void 0, function () {\n            var data, result, returnMessage;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        data = e.data;\n                        if (data.$type !== this.getTypeId()) {\n                            return [2 /*return*/];\n                        }\n                        // We are getting a response to the message\n                        if (this.outgoingMessages.has(data.$id)) {\n                            return [2 /*return*/];\n                        }\n                        return [4 /*yield*/, this.handleMessage(data.$data)];\n                    case 1:\n                        result = _a.sent();\n                        returnMessage = {\n                            $originId: this.internalId,\n                            $type: this.getTypeId(),\n                            $data: result,\n                            $id: data.$id,\n                        };\n                        if (e.source) {\n                            // @ts-ignore\n                            e.source.postMessage(returnMessage, '*');\n                        }\n                        else {\n                            this._postMessage(returnMessage);\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        this.createConnection();\n        this.internalId = generateId();\n        this.isWorker = getConstructorName(target) === 'Worker';\n    }\n    Protocol.prototype.getTypeId = function () {\n        return \"p-\" + this.type;\n    };\n    Protocol.prototype.createConnection = function () {\n        self.addEventListener('message', this._messageListener);\n    };\n    Protocol.prototype.dispose = function () {\n        self.removeEventListener('message', this._messageListener);\n    };\n    Protocol.prototype.sendMessage = function (data) {\n        var _this = this;\n        return new Promise(function (resolve) {\n            var messageId = generateId();\n            var message = {\n                $originId: _this.internalId,\n                $type: _this.getTypeId(),\n                $data: data,\n                $id: messageId,\n            };\n            _this.outgoingMessages.add(messageId);\n            var listenFunction = function (e) {\n                var data = e.data;\n                if (data.$type === _this.getTypeId() &&\n                    data.$id === messageId &&\n                    data.$originId !== _this.internalId) {\n                    resolve(data.$data);\n                    self.removeEventListener('message', listenFunction);\n                }\n            };\n            self.addEventListener('message', listenFunction);\n            _this._postMessage(message);\n        });\n    };\n    Protocol.prototype._postMessage = function (m) {\n        if (this.isWorker ||\n            // @ts-ignore Unknown to TS\n            (typeof DedicatedWorkerGlobalScope !== 'undefined' &&\n                // @ts-ignore Unknown to TS\n                this.target instanceof DedicatedWorkerGlobalScope)) {\n            // @ts-ignore\n            this.target.postMessage(m);\n        }\n        else {\n            this.target.postMessage(m, '*');\n        }\n    };\n    return Protocol;\n}());\n\n/**\n * Returns an action that describes to open a notification in the editor\n *\n * @export\n * @param {string} title\n * @param {('notice' | 'warning' | 'error' | 'success')} [notificationType='notice']\n * @param {number} [timeAlive=2] How long the notification should show in seconds\n * @returns {NotificationAction}\n */\nfunction show(title, notificationType, timeAlive) {\n    if (notificationType === void 0) { notificationType = 'notice'; }\n    if (timeAlive === void 0) { timeAlive = 2; }\n    // TODO automatically add type: 'action', maybe do this after conversion to TS\n    return {\n        type: 'action',\n        action: 'notification',\n        title: title,\n        notificationType: notificationType,\n        timeAlive: timeAlive,\n    };\n}\n\n\nvar notifications = Object.freeze({\n\tshow: show\n});\n\nfunction openModule(id, lineNumber, column) {\n    // TODO automatically add type: 'action', maybe do this after conversion to TS\n    return {\n        type: 'action',\n        action: 'editor.open-module',\n        path: id,\n        lineNumber: lineNumber,\n        column: column,\n    };\n}\n\n\nvar editor = Object.freeze({\n\topenModule: openModule\n});\n\nfunction add(dependencyName) {\n    return {\n        type: 'action',\n        action: 'source.dependencies.add',\n        dependency: dependencyName,\n    };\n}\n\n\nvar d = Object.freeze({\n\tadd: add\n});\n\nfunction rename(path, title) {\n    return {\n        type: 'action',\n        action: 'source.module.rename',\n        path: path,\n        title: title,\n    };\n}\n\n\nvar m = Object.freeze({\n\trename: rename\n});\n\nvar dependencies = d;\nvar modules = m;\n\n\nvar source = Object.freeze({\n\tdependencies: dependencies,\n\tmodules: modules\n});\n\n/**\n * Returns an action that describes to show an error\n * in the code of the editor (with the red squiggles)\n *\n * @export\n * @param {string} title\n * @param {string} message\n * @param {ErrorOptions} { line, column, path, payload }\n * @returns {ErrorAction}\n */\nfunction show$1(title, message, _a) {\n    var line = _a.line, column = _a.column, lineEnd = _a.lineEnd, columnEnd = _a.columnEnd, path = _a.path, payload = _a.payload, source = _a.source;\n    return {\n        title: title,\n        message: message,\n        line: line,\n        column: column,\n        path: path,\n        payload: payload,\n        lineEnd: lineEnd,\n        columnEnd: columnEnd,\n        severity: 'error',\n        type: 'action',\n        action: 'show-error',\n        source: source || 'browser',\n    };\n}\nfunction clear(path, source) {\n    return {\n        type: 'action',\n        action: 'clear-errors',\n        path: path,\n        source: source,\n    };\n}\n\n\nvar error = Object.freeze({\n\tshow: show$1,\n\tclear: clear\n});\n\n/**\n * Returns an action that describes to show a correction\n * in the code of the editor (with the yellow/blue squiggles)\n *\n * @export\n * @param {string} title\n * @param {string} message\n * @param {CorrectionOptions} { line, column, payload }\n * @returns {CorrectionAction}\n */\nfunction show$2(message, _a) {\n    var _b = _a === void 0 ? {\n        path: '',\n        severity: 'warning',\n        source: '',\n    } : _a, line = _b.line, column = _b.column, lineEnd = _b.lineEnd, columnEnd = _b.columnEnd, path = _b.path, payload = _b.payload, _c = _b.severity, severity = _c === void 0 ? 'warning' : _c, _d = _b.source, source = _d === void 0 ? '' : _d;\n    return {\n        message: message,\n        line: line,\n        column: column,\n        lineEnd: lineEnd,\n        columnEnd: columnEnd,\n        path: path,\n        payload: payload,\n        severity: severity,\n        source: source,\n        type: 'action',\n        action: 'show-correction',\n    };\n}\nfunction clear$1(path, source) {\n    return {\n        type: 'action',\n        action: 'clear-corrections',\n        path: path,\n        source: source,\n    };\n}\n\n\nvar correction = Object.freeze({\n\tshow: show$2,\n\tclear: clear$1\n});\n\n/**\n * Returns an action that describes to show a correction\n * in the code of the editor (with the yellow/blue squiggles)\n *\n * @export\n * @param {string} title\n * @param {string} message\n * @param {CorrectionOptions} { line, column, payload }\n * @returns {CorrectionAction}\n */\nfunction show$3(_a) {\n    var line = _a.line, path = _a.path, className = _a.className;\n    return {\n        line: line,\n        path: path,\n        className: className,\n        type: 'action',\n        action: 'show-glyph',\n    };\n}\n\n\nvar glyph = Object.freeze({\n\tshow: show$3\n});\n\n// All actions of the editor are defined here. The sandbox can send messages\n// like `source.files.rename` which the editor will see as an action to rename\n// a module. This will allow plugins to alter project content in the future\nvar actions = {\n    notifications: notifications,\n    editor: editor,\n    source: source,\n    error: error,\n    correction: correction,\n    glyph: glyph,\n};\n\nvar host = process.env.CODESANDBOX_HOST;\nvar host$1 = host || 'https://codesandbox.io';\n\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n// import * as debug from 'debug';\nvar bundlers = new Map();\nfunction checkIsStandalone() {\n    if (typeof window === 'undefined') {\n        return true;\n    }\n    if (window.location && window.location.href.indexOf('?standalone') > -1) {\n        return true;\n    }\n    if (window.opener || window.parent !== window) {\n        if (window.location && window.location.href.indexOf(host$1) > -1) {\n            // If this location href is codesandbox.io or something, we're most probably in an embed\n            // iframed on another page. This means that we're actually standalone, but we're fooled\n            // by the fact that we're embedded somewhere else.\n            return true;\n        }\n        return false;\n    }\n    return true;\n}\n// Whether the tab has a connection with the editor\nvar isStandalone = checkIsStandalone();\nvar iframeHandshakeDone;\n/**\n * Resolves when the handshake between the frame and the editor has succeeded\n */\nvar iframeHandshake = new Promise(function (resolve) {\n    iframeHandshakeDone = resolve;\n});\n// Field used by a \"child\" frame to determine its parent origin\nvar parentOrigin = null;\nvar parentId = null;\nvar parentOriginListener = function (e) {\n    var _a;\n    if (e.data.type === 'register-frame' && !parentId) {\n        parentOrigin = e.data.origin;\n        parentId = (_a = e.data.id) !== null && _a !== void 0 ? _a : null;\n        if (iframeHandshakeDone) {\n            iframeHandshakeDone();\n        }\n        self.removeEventListener('message', parentOriginListener);\n    }\n};\nif (typeof window !== 'undefined') {\n    self.addEventListener('message', parentOriginListener);\n}\nfunction resetState() {\n    parentOrigin = null;\n    bundlers.clear();\n}\n/**\n * Send a message to the editor, this is most probably an action you generated\n *\n * @export\n * @param {*} message\n * @returns\n */\nfunction dispatch(message) {\n    if (!message)\n        return;\n    var newMessage = __assign(__assign({}, message), { codesandbox: true });\n    if (parentId !== null) {\n        newMessage.$id = parentId;\n    }\n    notifyListeners(newMessage);\n    notifyFrames(newMessage);\n    if (isStandalone)\n        return;\n    if (parentOrigin === null && message.type !== 'initialized')\n        return;\n    if (window.opener) {\n        window.opener.postMessage(newMessage, parentOrigin === null ? '*' : parentOrigin);\n    }\n    else {\n        window.parent.postMessage(newMessage, parentOrigin === null ? '*' : parentOrigin);\n    }\n}\nvar listeners = {};\nvar listenerId = 0;\n/**\n * Listen to everything that comes in from either the editor or the sandbox\n * @param callback Call this function to 'unlisten'\n */\nfunction listen(callback) {\n    var id = ++listenerId;\n    listeners[id] = callback;\n    return function () {\n        delete listeners[id];\n    };\n}\nfunction notifyListeners(data, source) {\n    // eslint-disable-next-line no-shadow\n    Object.keys(listeners).forEach(function (listenerId) {\n        if (listeners[listenerId]) {\n            try {\n                listeners[listenerId](data, source);\n            }\n            catch (e) {\n                /**/\n            }\n        }\n    });\n}\nfunction notifyFrames(message) {\n    var rawMessage = JSON.parse(JSON.stringify(message));\n    bundlers.forEach(function (origin, frame) {\n        if (frame && frame.postMessage) {\n            frame.postMessage(__assign(__assign({}, rawMessage), { codesandbox: true }), origin);\n        }\n    });\n}\nfunction eventListener(e) {\n    var data = e.data;\n    if (data &&\n        data.codesandbox &&\n        (parentOrigin === null || e.origin === parentOrigin) &&\n        (data.$id == null || parentId === null || parentId === data.$id)) {\n        notifyListeners(data, e.source);\n    }\n}\n/**\n * Register an window as a output the `dispatch` function can send messages to.\n *\n * @param frame\n */\nfunction registerFrame(frame, origin, bundlerId) {\n    bundlers.set(frame, origin);\n    frame.postMessage({\n        type: 'register-frame',\n        origin: document.location.origin,\n        id: bundlerId,\n    }, origin);\n}\nif (typeof window !== 'undefined') {\n    if (isStandalone) {\n        window.addEventListener('message', eventListener);\n    }\n    else {\n        iframeHandshake.then(function () {\n            // We now start listening so we can let our listeners know\n            window.addEventListener('message', eventListener);\n        });\n    }\n}\nfunction reattach() {\n    if (isStandalone) {\n        window.addEventListener('message', eventListener);\n    }\n    else {\n        iframeHandshake.then(function () {\n            window.addEventListener('message', eventListener);\n        });\n    }\n}\n\n// Errors\n\nexport { Protocol, transformError, clearErrorTransformers, registerErrorTransformer, actions, isStandalone, iframeHandshake, resetState, dispatch, listen, notifyListeners, registerFrame, reattach };\n//# sourceMappingURL=codesandbox.es5.js.map\n","\"use strict\";\n\n/**\n  This is a modified version of jsonlint lib.\n\n  It removes some of the native bindings to make\n  it safe to use in the browser.\n\n  Original: https://github.com/zaach/jsonlint/blob/master/lib/jsonlint.js\n*/\n\n/* Jison generated parser */\nvar jsonlint = function () {\n  var parser = {\n    trace: function trace() {},\n    yy: {},\n    symbols_: {\n      error: 2,\n      JSONString: 3,\n      STRING: 4,\n      JSONNumber: 5,\n      NUMBER: 6,\n      JSONNullLiteral: 7,\n      NULL: 8,\n      JSONBooleanLiteral: 9,\n      TRUE: 10,\n      FALSE: 11,\n      JSONText: 12,\n      JSONValue: 13,\n      EOF: 14,\n      JSONObject: 15,\n      JSONArray: 16,\n      '{': 17,\n      '}': 18,\n      JSONMemberList: 19,\n      JSONMember: 20,\n      ':': 21,\n      ',': 22,\n      '[': 23,\n      ']': 24,\n      JSONElementList: 25,\n      $accept: 0,\n      $end: 1\n    },\n    terminals_: {\n      2: 'error',\n      4: 'STRING',\n      6: 'NUMBER',\n      8: 'NULL',\n      10: 'TRUE',\n      11: 'FALSE',\n      14: 'EOF',\n      17: '{',\n      18: '}',\n      21: ':',\n      22: ',',\n      23: '[',\n      24: ']'\n    },\n    productions_: [0, [3, 1], [5, 1], [7, 1], [9, 1], [9, 1], [12, 2], [13, 1], [13, 1], [13, 1], [13, 1], [13, 1], [13, 1], [15, 2], [15, 3], [20, 3], [19, 1], [19, 3], [16, 2], [16, 3], [25, 1], [25, 3]],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n      var $0 = $$.length - 1;\n\n      switch (yystate) {\n        case 1:\n          // replace escaped characters with actual character\n          this.$ = yytext.replace(/\\\\(\\\\|\")/g, '$' + '1').replace(/\\\\n/g, '\\n').replace(/\\\\r/g, '\\r').replace(/\\\\t/g, '\\t').replace(/\\\\v/g, '\\v').replace(/\\\\f/g, '\\f').replace(/\\\\b/g, '\\b');\n          break;\n\n        case 2:\n          this.$ = Number(yytext);\n          break;\n\n        case 3:\n          this.$ = null;\n          break;\n\n        case 4:\n          this.$ = true;\n          break;\n\n        case 5:\n          this.$ = false;\n          break;\n\n        case 6:\n          return this.$ = $$[$0 - 1];\n          break;\n\n        case 13:\n          this.$ = {};\n          break;\n\n        case 14:\n          this.$ = $$[$0 - 1];\n          break;\n\n        case 15:\n          this.$ = [$$[$0 - 2], $$[$0]];\n          break;\n\n        case 16:\n          this.$ = {};\n          this.$[$$[$0][0]] = $$[$0][1];\n          break;\n\n        case 17:\n          this.$ = $$[$0 - 2];\n          $$[$0 - 2][$$[$0][0]] = $$[$0][1];\n          break;\n\n        case 18:\n          this.$ = [];\n          break;\n\n        case 19:\n          this.$ = $$[$0 - 1];\n          break;\n\n        case 20:\n          this.$ = [$$[$0]];\n          break;\n\n        case 21:\n          this.$ = $$[$0 - 2];\n          $$[$0 - 2].push($$[$0]);\n          break;\n      }\n    },\n    table: [{\n      3: 5,\n      4: [1, 12],\n      5: 6,\n      6: [1, 13],\n      7: 3,\n      8: [1, 9],\n      9: 4,\n      10: [1, 10],\n      11: [1, 11],\n      12: 1,\n      13: 2,\n      15: 7,\n      16: 8,\n      17: [1, 14],\n      23: [1, 15]\n    }, {\n      1: [3]\n    }, {\n      14: [1, 16]\n    }, {\n      14: [2, 7],\n      18: [2, 7],\n      22: [2, 7],\n      24: [2, 7]\n    }, {\n      14: [2, 8],\n      18: [2, 8],\n      22: [2, 8],\n      24: [2, 8]\n    }, {\n      14: [2, 9],\n      18: [2, 9],\n      22: [2, 9],\n      24: [2, 9]\n    }, {\n      14: [2, 10],\n      18: [2, 10],\n      22: [2, 10],\n      24: [2, 10]\n    }, {\n      14: [2, 11],\n      18: [2, 11],\n      22: [2, 11],\n      24: [2, 11]\n    }, {\n      14: [2, 12],\n      18: [2, 12],\n      22: [2, 12],\n      24: [2, 12]\n    }, {\n      14: [2, 3],\n      18: [2, 3],\n      22: [2, 3],\n      24: [2, 3]\n    }, {\n      14: [2, 4],\n      18: [2, 4],\n      22: [2, 4],\n      24: [2, 4]\n    }, {\n      14: [2, 5],\n      18: [2, 5],\n      22: [2, 5],\n      24: [2, 5]\n    }, {\n      14: [2, 1],\n      18: [2, 1],\n      21: [2, 1],\n      22: [2, 1],\n      24: [2, 1]\n    }, {\n      14: [2, 2],\n      18: [2, 2],\n      22: [2, 2],\n      24: [2, 2]\n    }, {\n      3: 20,\n      4: [1, 12],\n      18: [1, 17],\n      19: 18,\n      20: 19\n    }, {\n      3: 5,\n      4: [1, 12],\n      5: 6,\n      6: [1, 13],\n      7: 3,\n      8: [1, 9],\n      9: 4,\n      10: [1, 10],\n      11: [1, 11],\n      13: 23,\n      15: 7,\n      16: 8,\n      17: [1, 14],\n      23: [1, 15],\n      24: [1, 21],\n      25: 22\n    }, {\n      1: [2, 6]\n    }, {\n      14: [2, 13],\n      18: [2, 13],\n      22: [2, 13],\n      24: [2, 13]\n    }, {\n      18: [1, 24],\n      22: [1, 25]\n    }, {\n      18: [2, 16],\n      22: [2, 16]\n    }, {\n      21: [1, 26]\n    }, {\n      14: [2, 18],\n      18: [2, 18],\n      22: [2, 18],\n      24: [2, 18]\n    }, {\n      22: [1, 28],\n      24: [1, 27]\n    }, {\n      22: [2, 20],\n      24: [2, 20]\n    }, {\n      14: [2, 14],\n      18: [2, 14],\n      22: [2, 14],\n      24: [2, 14]\n    }, {\n      3: 20,\n      4: [1, 12],\n      20: 29\n    }, {\n      3: 5,\n      4: [1, 12],\n      5: 6,\n      6: [1, 13],\n      7: 3,\n      8: [1, 9],\n      9: 4,\n      10: [1, 10],\n      11: [1, 11],\n      13: 30,\n      15: 7,\n      16: 8,\n      17: [1, 14],\n      23: [1, 15]\n    }, {\n      14: [2, 19],\n      18: [2, 19],\n      22: [2, 19],\n      24: [2, 19]\n    }, {\n      3: 5,\n      4: [1, 12],\n      5: 6,\n      6: [1, 13],\n      7: 3,\n      8: [1, 9],\n      9: 4,\n      10: [1, 10],\n      11: [1, 11],\n      13: 31,\n      15: 7,\n      16: 8,\n      17: [1, 14],\n      23: [1, 15]\n    }, {\n      18: [2, 17],\n      22: [2, 17]\n    }, {\n      18: [2, 15],\n      22: [2, 15]\n    }, {\n      22: [2, 21],\n      24: [2, 21]\n    }],\n    defaultActions: {\n      16: [2, 6]\n    },\n    parseError: function parseError(str, hash) {\n      throw new Error(str);\n    },\n    parse: function parse(input) {\n      var self = this,\n          stack = [0],\n          vstack = [null],\n          // semantic value stack\n      lstack = [],\n          // location stack\n      table = this.table,\n          yytext = '',\n          yylineno = 0,\n          yyleng = 0,\n          recovering = 0,\n          TERROR = 2,\n          EOF = 1; //this.reductionCount = this.shiftCount = 0;\n\n      this.lexer.setInput(input);\n      this.lexer.yy = this.yy;\n      this.yy.lexer = this.lexer;\n      if (typeof this.lexer.yylloc == 'undefined') this.lexer.yylloc = {};\n      var yyloc = this.lexer.yylloc;\n      lstack.push(yyloc);\n      if (typeof this.yy.parseError === 'function') this.parseError = this.yy.parseError;\n\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n\n      function lex() {\n        var token;\n        token = self.lexer.lex() || 1; // $end = 1\n        // if token isn't its numeric value, convert\n\n        if (typeof token !== 'number') {\n          token = self.symbols_[token] || token;\n        }\n\n        return token;\n      }\n\n      var symbol,\n          preErrorSymbol,\n          state,\n          action,\n          a,\n          r,\n          yyval = {},\n          p,\n          len,\n          newState,\n          expected;\n\n      while (true) {\n        // retreive state number from top of stack\n        state = stack[stack.length - 1]; // use default actions if available\n\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol == null) symbol = lex(); // read action for current state and first input\n\n          action = table[state] && table[state][symbol];\n        } // handle parse error\n\n\n        _handle_error: if (typeof action === 'undefined' || !action.length || !action[0]) {\n          if (!recovering) {\n            // Report error\n            expected = [];\n\n            for (p in table[state]) {\n              if (this.terminals_[p] && p > 2) {\n                expected.push(\"'\" + this.terminals_[p] + \"'\");\n              }\n            }\n\n            var errStr = '';\n\n            if (this.lexer.showPosition) {\n              errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + this.lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + \", got '\" + this.terminals_[symbol] + \"'\";\n            } else {\n              errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == 1\n              /*EOF*/\n              ? 'end of input' : \"'\" + (this.terminals_[symbol] || symbol) + \"'\");\n            }\n\n            this.parseError(errStr, {\n              text: this.lexer.match,\n              token: this.terminals_[symbol] || symbol,\n              line: this.lexer.yylineno,\n              loc: yyloc,\n              expected: expected\n            });\n          } // just recovered from another error\n\n\n          if (recovering == 3) {\n            if (symbol == EOF) {\n              throw new Error(errStr || 'Parsing halted.');\n            } // discard current lookahead and grab another\n\n\n            yyleng = this.lexer.yyleng;\n            yytext = this.lexer.yytext;\n            yylineno = this.lexer.yylineno;\n            yyloc = this.lexer.yylloc;\n            symbol = lex();\n          } // try to recover from error\n\n\n          while (1) {\n            // check for error recovery rule in this state\n            if (TERROR.toString() in table[state]) {\n              break;\n            }\n\n            if (state == 0) {\n              throw new Error(errStr || 'Parsing halted.');\n            }\n\n            popStack(1);\n            state = stack[stack.length - 1];\n          }\n\n          preErrorSymbol = symbol; // save the lookahead token\n\n          symbol = TERROR; // insert generic error symbol as new lookahead\n\n          state = stack[stack.length - 1];\n          action = table[state] && table[state][TERROR];\n          recovering = 3; // allow 3 real symbols to be shifted before reporting a new error\n        } // this shouldn't happen, unless resolve defaults are off\n\n\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n\n        switch (action[0]) {\n          case 1:\n            // shift\n            //this.shiftCount++;\n            stack.push(symbol);\n            vstack.push(this.lexer.yytext);\n            lstack.push(this.lexer.yylloc);\n            stack.push(action[1]); // push state\n\n            symbol = null;\n\n            if (!preErrorSymbol) {\n              // normal execution/no error\n              yyleng = this.lexer.yyleng;\n              yytext = this.lexer.yytext;\n              yylineno = this.lexer.yylineno;\n              yyloc = this.lexer.yylloc;\n              if (recovering > 0) recovering--;\n            } else {\n              // error just occurred, resume old lookahead f/ before error\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n\n            break;\n\n          case 2:\n            // reduce\n            //this.reductionCount++;\n            len = this.productions_[action[1]][1]; // perform semantic action\n\n            yyval.$ = vstack[vstack.length - len]; // default to $$ = $1\n            // default location, uses first token for firsts, last for lasts\n\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            r = this.performAction.call(yyval, yytext, yyleng, yylineno, this.yy, action[1], vstack, lstack);\n\n            if (typeof r !== 'undefined') {\n              return r;\n            } // pop off stack\n\n\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n\n            stack.push(this.productions_[action[1]][0]); // push nonterminal (reduce)\n\n            vstack.push(yyval.$);\n            lstack.push(yyval._$); // goto new state = table[STATE][NONTERMINAL]\n\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n\n          case 3:\n            // accept\n            return true;\n        }\n      }\n\n      return true;\n    }\n  };\n  /* Jison generated lexer */\n\n  var lexer = function () {\n    var lexer = {\n      EOF: 1,\n      parseError: function parseError(str, hash) {\n        if (this.yy.parseError) {\n          this.yy.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      },\n      setInput: function setInput(input) {\n        this._input = input;\n        this._more = this._less = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        return this;\n      },\n      input: function input() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/\\n/);\n        if (lines) this.yylineno++;\n        this._input = this._input.slice(1);\n        return ch;\n      },\n      unput: function unput(ch) {\n        this._input = ch + this._input;\n        return this;\n      },\n      more: function more() {\n        this._more = true;\n        return this;\n      },\n      less: function less(n) {\n        this._input = this.match.slice(n) + this._input;\n      },\n      pastInput: function pastInput() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, '');\n      },\n      upcomingInput: function upcomingInput() {\n        var next = this.match;\n\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n\n        return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, '');\n      },\n      showPosition: function showPosition() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join('-');\n        return pre + this.upcomingInput() + '\\n' + c + '^';\n      },\n      next: function next() {\n        if (this.done) {\n          return this.EOF;\n        }\n\n        if (!this._input) this.done = true;\n        var token, match, tempMatch, index, col, lines;\n\n        if (!this._more) {\n          this.yytext = '';\n          this.match = '';\n        }\n\n        var rules = this._currentRules();\n\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (!this.options.flex) break;\n          }\n        }\n\n        if (match) {\n          lines = match[0].match(/\\n.*/g);\n          if (lines) this.yylineno += lines.length;\n          this.yylloc = {\n            first_line: this.yylloc.last_line,\n            last_line: this.yylineno + 1,\n            first_column: this.yylloc.last_column,\n            last_column: lines ? lines[lines.length - 1].length - 1 : this.yylloc.last_column + match[0].length\n          };\n          this.yytext += match[0];\n          this.match += match[0];\n          this.yyleng = this.yytext.length;\n          this._more = false;\n          this._input = this._input.slice(match[0].length);\n          this.matched += match[0];\n          token = this.performAction.call(this, this.yy, this, rules[index], this.conditionStack[this.conditionStack.length - 1]);\n          if (this.done && this._input) this.done = false;\n          if (token) return token;else return;\n        }\n\n        if (this._input === '') {\n          return this.EOF;\n        } else {\n          this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n            text: '',\n            token: null,\n            line: this.yylineno\n          });\n        }\n      },\n      lex: function lex() {\n        var r = this.next();\n\n        if (typeof r !== 'undefined') {\n          return r;\n        } else {\n          return this.lex();\n        }\n      },\n      begin: function begin(condition) {\n        this.conditionStack.push(condition);\n      },\n      popState: function popState() {\n        return this.conditionStack.pop();\n      },\n      _currentRules: function _currentRules() {\n        return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n      },\n      topState: function topState() {\n        return this.conditionStack[this.conditionStack.length - 2];\n      },\n      pushState: function begin(condition) {\n        this.begin(condition);\n      }\n    };\n    lexer.options = {};\n\n    lexer.performAction = function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n      var YYSTATE = YY_START;\n\n      switch ($avoiding_name_collisions) {\n        case 0\n        /* skip whitespace */\n        :\n          break;\n\n        case 1:\n          return 6;\n          break;\n\n        case 2:\n          yy_.yytext = yy_.yytext.substr(1, yy_.yyleng - 2);\n          return 4;\n          break;\n\n        case 3:\n          return 17;\n          break;\n\n        case 4:\n          return 18;\n          break;\n\n        case 5:\n          return 23;\n          break;\n\n        case 6:\n          return 24;\n          break;\n\n        case 7:\n          return 22;\n          break;\n\n        case 8:\n          return 21;\n          break;\n\n        case 9:\n          return 10;\n          break;\n\n        case 10:\n          return 11;\n          break;\n\n        case 11:\n          return 8;\n          break;\n\n        case 12:\n          return 14;\n          break;\n\n        case 13:\n          return 'INVALID';\n          break;\n      }\n    };\n\n    lexer.rules = [/^(?:\\s+)/, /^(?:(-?([0-9]|[1-9][0-9]+))(\\.[0-9]+)?([eE][-+]?[0-9]+)?\\b)/, /^(?:\"(?:\\\\[\\\\\"bfnrt/]|\\\\u[a-fA-F0-9]{4}|[^\\\\\\0-\\x09\\x0a-\\x1f\"])*\")/, /^(?:\\{)/, /^(?:\\})/, /^(?:\\[)/, /^(?:\\])/, /^(?:,)/, /^(?::)/, /^(?:true\\b)/, /^(?:false\\b)/, /^(?:null\\b)/, /^(?:$)/, /^(?:.)/];\n    lexer.conditions = {\n      INITIAL: {\n        rules: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13],\n        inclusive: true\n      }\n    };\n    return lexer;\n  }();\n\n  parser.lexer = lexer;\n  return parser;\n}();\n\nexports.parser = jsonlint;\n\nexports.parse = function () {\n  return jsonlint.parse.apply(jsonlint, arguments);\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = {\n    printWidth: 80,\n    tabWidth: 2,\n    useTabs: false,\n    semi: true,\n    singleQuote: false,\n    trailingComma: 'none',\n    bracketSpacing: true,\n    jsxBracketSameLine: false,\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nexports.default = new template_1.default('adonis', 'AdonisJs', 'https://adonisjs.com/', 'github/adonisjs/adonis-starter-codesandbox', decorate_selector_1.decorateSelector(() => '#fff'), {\n    mainFile: ['/start/routes.js'],\n    showOnHomePage: true,\n    netlify: false,\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path_1 = require(\"../utils/path\");\nconst template_1 = __importDefault(require(\"./template\"));\nconst configuration_1 = __importDefault(require(\"./configuration\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nfunction getAngularCLIEntries(parsed) {\n    const entries = [];\n    if (parsed) {\n        const app = parsed.apps && parsed.apps[0];\n        if (app && app.root && app.main) {\n            entries.push(path_1.absolute(path_1.join(app.root, app.main)));\n        }\n    }\n    return entries;\n}\nfunction getAngularJSONEntries(parsed) {\n    const entries = [];\n    if (parsed) {\n        const { defaultProject } = parsed;\n        const project = parsed.projects[defaultProject];\n        if (project && project.architect) {\n            const { build } = project.architect;\n            if (build.options.main) {\n                entries.push(path_1.absolute(path_1.join(project.root, build.options.main)));\n            }\n        }\n    }\n    return entries;\n}\nfunction getAngularCLIHTMLEntry(parsed) {\n    if (parsed) {\n        const app = parsed.apps && parsed.apps[0];\n        if (app && app.root && app.index) {\n            return [path_1.absolute(path_1.join(app.root, app.index))];\n        }\n    }\n    return [];\n}\nfunction getAngularJSONHTMLEntry(parsed) {\n    if (parsed) {\n        const { defaultProject } = parsed;\n        const project = parsed.projects[defaultProject];\n        if (project && project.architect) {\n            const { build } = project.architect;\n            if (build &&\n                project.root != null &&\n                build.options &&\n                build.options.index) {\n                return [path_1.absolute(path_1.join(project.root, build.options.index))];\n            }\n        }\n    }\n    return [];\n}\nclass AngularTemplate extends template_1.default {\n    /**\n     * Override entry file because of angular-cli\n     */\n    getEntries(configurationFiles) {\n        let entries = [];\n        if (!configurationFiles['angular-config'].generated) {\n            const { parsed } = configurationFiles['angular-config'];\n            entries = entries.concat(getAngularJSONEntries(parsed));\n        }\n        else {\n            const { parsed } = configurationFiles['angular-cli'];\n            entries = entries.concat(getAngularCLIEntries(parsed));\n        }\n        if (configurationFiles.package.parsed &&\n            configurationFiles.package.parsed.main) {\n            entries.push(path_1.absolute(configurationFiles.package.parsed.main));\n        }\n        entries.push('/src/main.ts');\n        entries.push('/main.ts');\n        return entries;\n    }\n    getHTMLEntries(configurationFiles) {\n        let entries = [];\n        if (!configurationFiles['angular-config'].generated) {\n            const { parsed } = configurationFiles['angular-config'];\n            entries = entries.concat(getAngularJSONHTMLEntry(parsed));\n        }\n        else if (configurationFiles['angular-cli']) {\n            const { parsed } = configurationFiles['angular-cli'];\n            entries = entries.concat(getAngularCLIHTMLEntry(parsed));\n        }\n        entries.push('/public/index.html');\n        entries.push('/index.html');\n        return entries;\n    }\n}\nexports.default = new AngularTemplate('angular-cli', 'Angular', 'https://github.com/angular/angular', 'angular', decorate_selector_1.decorateSelector(() => '#DD0031'), {\n    extraConfigurations: {\n        '/.angular-cli.json': configuration_1.default.angularCli,\n        '/angular.json': configuration_1.default.angularJSON,\n        '/tsconfig.json': configuration_1.default.tsconfig,\n    },\n    netlify: false,\n    isTypescript: true,\n    distDir: 'dist',\n    showOnHomePage: true,\n    popular: true,\n    main: true,\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nexports.default = new template_1.default('apollo', 'Apollo', 'https://www.apollographql.com/docs/apollo-server/', 'apollo-server', decorate_selector_1.decorateSelector(() => '#c4198b'), {\n    netlify: false,\n    mainFile: ['/src/index.js'],\n    showOnHomePage: true,\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nconst configuration_1 = __importDefault(require(\"./configuration\"));\nexports.default = new template_1.default('babel-repl', 'Babel', 'https://github.com/@babel/core', 'babel', decorate_selector_1.decorateSelector(() => '#F5DA55'), {\n    extraConfigurations: {\n        '/.babelrc': configuration_1.default.babelrc,\n        '/babel-transpiler.json': configuration_1.default.babelTranspiler,\n    },\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst config = {\n    title: '.angular-cli.json',\n    type: 'angular-cli',\n    description: 'The configuration used for angular-cli, the cli to run angular projects.',\n    moreInfoUrl: 'https://github.com/angular/angular-cli/wiki/angular-cli',\n    getDefaultCode: () => JSON.stringify({\n        apps: [\n            {\n                root: 'src',\n                outDir: 'dist',\n                index: 'index.html',\n                main: 'main.ts',\n                polyfills: 'polyfills.ts',\n                styles: [],\n                scripts: [],\n            },\n        ],\n    }, null, 2),\n    schema: 'https://raw.githubusercontent.com/angular/angular-cli/master/packages/@angular/cli/lib/config/schema.json',\n};\nexports.default = config;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst config = {\n    title: 'angular.json',\n    type: 'angular-config',\n    description: 'The configuration used for angular-cli v6, the new cli to run angular projects.',\n    moreInfoUrl: 'https://github.com/angular/angular-cli/wiki/angular-cli',\n    partialSupportDisclaimer: `Only \\`project.build\\` field is supported.`,\n    getDefaultCode: () => JSON.stringify({\n        version: 1,\n        newProjectRoot: 'projects',\n        projects: {\n            codesandbox: {\n                root: '',\n                sourceRoot: 'src',\n                projectType: 'application',\n                prefix: 'app',\n                schematics: {},\n                architect: {\n                    build: {\n                        builder: '@angular-devkit/build-angular:browser',\n                        options: {\n                            outputPath: 'dist/codesandbox',\n                            index: 'src/index.html',\n                            main: 'src/main.ts',\n                            polyfills: 'src/polyfills.ts',\n                            tsConfig: 'src/tsconfig.app.json',\n                            assets: ['src/favicon.png', 'src/assets'],\n                            styles: ['src/styles.css'],\n                            scripts: [],\n                        },\n                        configurations: {\n                            production: {\n                                fileReplacements: [\n                                    {\n                                        replace: 'src/environments/environment.ts',\n                                        with: 'src/environments/environment.prod.ts',\n                                    },\n                                ],\n                                optimization: true,\n                                outputHashing: 'all',\n                                sourceMap: false,\n                                extractCss: true,\n                                namedChunks: false,\n                                aot: true,\n                                extractLicenses: true,\n                                vendorChunk: false,\n                                buildOptimizer: true,\n                            },\n                        },\n                    },\n                    serve: {\n                        builder: '@angular-devkit/build-angular:dev-server',\n                        options: {\n                            browserTarget: 'codesandbox:build',\n                        },\n                        configurations: {\n                            production: {\n                                browserTarget: 'codesandbox:build:production',\n                            },\n                        },\n                    },\n                    'extract-i18n': {\n                        builder: '@angular-devkit/build-angular:extract-i18n',\n                        options: {\n                            browserTarget: 'codesandbox:build',\n                        },\n                    },\n                    test: {\n                        builder: '@angular-devkit/build-angular:karma',\n                        options: {\n                            main: 'src/test.ts',\n                            polyfills: 'src/polyfills.ts',\n                            tsConfig: 'src/tsconfig.spec.json',\n                            karmaConfig: 'src/karma.conf.js',\n                            styles: ['src/styles.css'],\n                            scripts: [],\n                            assets: ['src/favicon.png', 'src/assets'],\n                        },\n                    },\n                    lint: {\n                        builder: '@angular-devkit/build-angular:tslint',\n                        options: {\n                            tsConfig: ['src/tsconfig.app.json', 'src/tsconfig.spec.json'],\n                            exclude: ['**/node_modules/**'],\n                        },\n                    },\n                },\n            },\n            'codesandbox-e2e': {\n                root: 'e2e/',\n                projectType: 'application',\n                architect: {\n                    e2e: {\n                        builder: '@angular-devkit/build-angular:protractor',\n                        options: {\n                            protractorConfig: 'e2e/protractor.conf.js',\n                            devServerTarget: 'codesandbox:serve',\n                        },\n                        configurations: {\n                            production: {\n                                devServerTarget: 'codesandbox:serve:production',\n                            },\n                        },\n                    },\n                    lint: {\n                        builder: '@angular-devkit/build-angular:tslint',\n                        options: {\n                            tsConfig: 'e2e/tsconfig.e2e.json',\n                            exclude: ['**/node_modules/**'],\n                        },\n                    },\n                },\n            },\n        },\n        defaultProject: 'codesandbox',\n    }, null, 2),\n    schema: 'https://raw.githubusercontent.com/angular/angular-cli/master/packages/angular/cli/lib/config/schema.json',\n};\nexports.default = config;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst config = {\n    title: 'babel-transpiler.json',\n    type: 'babelTranspiler',\n    description: 'Configuration for the Babel REPL.',\n    moreInfoUrl: 'https://eslint.org/docs/user-guide/configuring',\n    getDefaultCode: () => '{}',\n};\nexports.default = config;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_babel_7_1 = require(\"../../../utils/is-babel-7\");\nconst is_preact_10_1 = require(\"../../../utils/is-preact-10\");\nconst JSX_PRAGMA = {\n    react: 'React.createElement',\n    preact: 'h',\n};\nconst config = {\n    title: '.babelrc',\n    type: 'babel',\n    description: 'Custom configuration for Babel, the transpiler we use.',\n    moreInfoUrl: 'https://babeljs.io/docs/usage/babelrc/',\n    getDefaultCode: (template, resolveModule) => {\n        let isV7 = false;\n        let isPreactV10 = false;\n        try {\n            const packageJSON = resolveModule('/package.json');\n            const parsed = JSON.parse(packageJSON.code || '');\n            isV7 = is_babel_7_1.isBabel7(parsed.dependencies, parsed.devDependencies);\n            isPreactV10 = is_preact_10_1.isPreact10(parsed.dependencies, parsed.devDependencies);\n        }\n        catch (e) {\n            console.error(e);\n        }\n        if (template === 'preact-cli') {\n            if (isPreactV10) {\n                return JSON.stringify({\n                    presets: ['env', 'typescript'],\n                    plugins: [\n                        'syntax-dynamic-import',\n                        'transform-object-assign',\n                        ['proposal-decorators', { legacy: true }],\n                        ['proposal-class-properties', { loose: true }],\n                        'proposal-object-rest-spread',\n                        'babel-plugin-macros',\n                        ['transform-react-jsx', { pragma: 'h', pragmaFrag: 'Fragment' }],\n                        [\n                            'jsx-pragmatic',\n                            {\n                                module: 'preact',\n                                export: 'h',\n                                import: 'h',\n                            },\n                        ],\n                    ],\n                }, null, 2);\n            }\n            return JSON.stringify({\n                presets: ['latest', 'stage-1'],\n                plugins: [\n                    'transform-object-assign',\n                    'transform-decorators-legacy',\n                    ['transform-react-jsx', { pragma: 'h' }],\n                    [\n                        'jsx-pragmatic',\n                        {\n                            module: 'preact',\n                            export: 'h',\n                            import: 'h',\n                        },\n                    ],\n                ],\n            }, null, 2);\n        }\n        if (template === 'vue-cli') {\n            // TODO remove this\n            /**\n             * This hacky fix got added for vue cli templates that are v3, but don't have a config.\n             *\n             * We correctly detect v3 templates, so start using babel 7, but they don't work with the old version of babel config. We need to create a new one.\n             *\n             * Need to fix this ASAP and make vue-cli 3 a separate template.\n             */\n            if (isV7) {\n                return JSON.stringify({\n                    presets: ['@vue/app'],\n                });\n            }\n            return JSON.stringify({\n                presets: [\n                    [\n                        'env',\n                        {\n                            modules: false,\n                            targets: {\n                                browsers: ['> 1%', 'last 2 versions', 'not ie <= 8'],\n                            },\n                        },\n                    ],\n                    'stage-2',\n                ],\n                plugins: ['transform-vue-jsx', 'transform-runtime'],\n                env: {\n                    test: {\n                        presets: ['env', 'stage-2'],\n                        plugins: [\n                            'transform-vue-jsx',\n                            'transform-es2015-modules-commonjs',\n                            'dynamic-import-node',\n                        ],\n                    },\n                },\n            }, null, 2);\n        }\n        if (template === 'parcel') {\n            const presets = ['env'];\n            const plugins = isV7\n                ? ['transform-runtime']\n                : [\n                    [\n                        'transform-runtime',\n                        {\n                            polyfill: false,\n                            regenerator: true,\n                        },\n                    ],\n                    'transform-object-rest-spread',\n                ];\n            const parserOpts = isV7 ? { plugins: ['dynamicImport'] } : {};\n            const packageJSONModule = resolveModule('/package.json');\n            if (packageJSONModule) {\n                try {\n                    const parsed = JSON.parse(packageJSONModule.code);\n                    let pragma = null;\n                    Object.keys(JSX_PRAGMA).forEach(dep => {\n                        if ((parsed.dependencies && parsed.dependencies[dep]) ||\n                            (parsed.devDependencies && parsed.devDependencies[dep])) {\n                            pragma = JSX_PRAGMA[dep];\n                        }\n                    });\n                    if (pragma !== null) {\n                        // @ts-ignore\n                        plugins.push(['transform-react-jsx', { pragma }]);\n                    }\n                }\n                catch (e) {\n                    /* do nothing */\n                }\n            }\n            return JSON.stringify({ presets, plugins, parserOpts }, null, 2);\n        }\n        if (template === 'cxjs') {\n            if (isV7) {\n                return JSON.stringify({\n                    presets: ['env'],\n                    plugins: [\n                        '@babel/plugin-proposal-class-properties',\n                        '@babel/plugin-proposal-object-rest-spread',\n                        '@babel/plugin-proposal-function-bind',\n                        'transform-cx-jsx',\n                        '@babel/plugin-transform-parameters',\n                        '@babel/plugin-syntax-dynamic-import',\n                        [\n                            '@babel/plugin-transform-react-jsx',\n                            { pragma: 'VDOM.createElement' },\n                        ],\n                    ],\n                }, null, 2);\n            }\n            return JSON.stringify({\n                presets: [\n                    [\n                        'env',\n                        {\n                            targets: {\n                                chrome: 50,\n                                ie: 11,\n                                ff: 30,\n                                edge: 12,\n                                safari: 9,\n                            },\n                            modules: false,\n                            loose: true,\n                            useBuiltIns: true,\n                        },\n                    ],\n                    'stage-2',\n                ],\n                plugins: [\n                    ['transform-cx-jsx'],\n                    ['transform-react-jsx', { pragma: 'VDOM.createElement' }],\n                    'transform-function-bind',\n                    'transform-runtime',\n                    'transform-regenerator',\n                ],\n            }, null, 2);\n        }\n        return JSON.stringify({ presets: [], plugins: [] }, null, 2);\n    },\n    schema: 'https://raw.githubusercontent.com/SchemaStore/schemastore/master/src/schemas/json/babelrc.json',\n};\nexports.default = config;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst config = {\n    title: 'template.json',\n    type: 'customTemplate',\n    description: 'Configuration for the custom template',\n    moreInfoUrl: 'https://codesandbox.io',\n    getDefaultCode: () => JSON.stringify({\n        templateName: 'custom',\n        templateColor: '#aaa',\n        sandpack: {\n            defaultExtensions: ['js', 'jsx', 'ts', 'tsx', 'json'],\n            aliases: {},\n            transpilers: {\n                '\\\\.jsx?$': ['codesandbox:babel'],\n                '\\\\.json$': ['codesandbox:json'],\n            },\n        },\n    }, null, 2),\n};\nexports.default = config;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst package_json_1 = __importDefault(require(\"./package-json\"));\nconst prettierRC_1 = __importDefault(require(\"./prettierRC\"));\nconst sandbox_1 = __importDefault(require(\"./sandbox\"));\nconst babelrc_1 = __importDefault(require(\"./babelrc\"));\nconst now_1 = __importDefault(require(\"./now\"));\nconst netlify_1 = __importDefault(require(\"./netlify\"));\nconst angular_cli_1 = __importDefault(require(\"./angular-cli\"));\nconst angular_json_1 = __importDefault(require(\"./angular-json\"));\nconst tsconfig_1 = __importDefault(require(\"./tsconfig\"));\nconst jsconfig_1 = __importDefault(require(\"./jsconfig\"));\nconst babel_transpiler_1 = __importDefault(require(\"./babel-transpiler\"));\nconst custom_codesandbox_1 = __importDefault(require(\"./custom-codesandbox\"));\nconst configs = {\n    babelrc: babelrc_1.default,\n    babelTranspiler: babel_transpiler_1.default,\n    packageJSON: package_json_1.default,\n    prettierRC: prettierRC_1.default,\n    sandboxConfig: sandbox_1.default,\n    angularCli: angular_cli_1.default,\n    angularJSON: angular_json_1.default,\n    tsconfig: tsconfig_1.default,\n    customCodeSandbox: custom_codesandbox_1.default,\n    nowConfig: now_1.default,\n    netlifyConfig: netlify_1.default,\n    jsconfig: jsconfig_1.default,\n};\nexports.default = configs;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst config = {\n    title: 'jsconfig.json',\n    type: 'jsconfig',\n    description: 'Configuration for how the editor (and sometimes the bundler) reads and parses JavaScript.',\n    moreInfoUrl: 'https://code.visualstudio.com/docs/languages/jsconfig',\n    getDefaultCode: (template, resolveModule) => JSON.stringify({ compilerOptions: { baseUrl: '.' } }, null, 2),\n    schema: 'https://raw.githubusercontent.com/SchemaStore/schemastore/master/src/schemas/json/jsconfig.json',\n    partialSupportDisclaimer: `Only \\`compilerOptions.baseUrl\\` field is supported.`,\n};\nexports.default = config;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst config = {\n    title: 'netlify.toml',\n    type: 'netlify',\n    description: 'Configuration for your deployments in netlify.',\n    moreInfoUrl: 'https://www.netlify.com/docs/netlify-toml-reference/',\n    getDefaultCode: () => '',\n};\nexports.default = config;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst config = {\n    title: 'vercel.json',\n    type: 'now',\n    description: 'Configuration for your deployments on Vercel.',\n    moreInfoUrl: 'https://vercel.com/docs/configuration#introduction/configuration-reference',\n    getDefaultCode: () => JSON.stringify({}, null, 2),\n};\nexports.default = config;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateFileFromSandbox = void 0;\nconst slugify_1 = __importDefault(require(\"../../../utils/slugify\"));\nfunction generateFileFromSandbox(sandbox) {\n    const jsonFile = {\n        name: slugify_1.default(sandbox.title || sandbox.id),\n        version: '1.0.0',\n        description: sandbox.description || '',\n        keywords: sandbox.tags,\n        main: sandbox.entry,\n        dependencies: sandbox.npmDependencies,\n    };\n    return JSON.stringify(jsonFile, null, 2);\n}\nexports.generateFileFromSandbox = generateFileFromSandbox;\nconst config = {\n    title: 'package.json',\n    type: 'package',\n    description: 'Describes the overall configuration of your project.',\n    moreInfoUrl: 'https://docs.npmjs.com/files/package.json',\n    generateFileFromSandbox,\n    schema: 'https://raw.githubusercontent.com/SchemaStore/schemastore/master/src/schemas/json/package.json',\n};\nexports.default = config;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst markty_toml_1 = __importDefault(require(\"markty-toml\"));\nconst jsonlint_browser_1 = require(\"../../forked-vendors/jsonlint.browser\");\nfunction stripJSONComments(jsonString) {\n    return jsonString.replace(/\\\\\"|\"(?:\\\\\"|[^\"])*\"|(\\/\\/.*|\\/\\*[\\s\\S]*?\\*\\/)/g, (m, g) => (g ? '' : m));\n}\nfunction getCode(template, module, sandbox, resolveModule, configurationFile) {\n    if (module) {\n        return { code: module.code, generated: false };\n    }\n    if (configurationFile.getDefaultCode) {\n        return {\n            code: configurationFile.getDefaultCode(template, resolveModule),\n            generated: true,\n        };\n    }\n    if (sandbox && configurationFile.generateFileFromSandbox) {\n        return {\n            code: configurationFile.generateFileFromSandbox(sandbox),\n            generated: true,\n        };\n    }\n    return { code: '', generated: false };\n}\nfunction titleIncludes(module, test) {\n    if ('title' in module) {\n        return module.title.includes(test);\n    }\n    if ('path' in module) {\n        return module.path.includes(test);\n    }\n    return false;\n}\n/**\n * We convert all configuration file configs to an object with configuration per\n * type. This makes configs universal.\n */\nfunction parseConfigurations(template, configurationFiles, resolveModule, sandbox) {\n    const configurations = {};\n    const paths = Object.keys(configurationFiles);\n    for (let i = 0; i < paths.length; i++) {\n        const path = paths[i];\n        const module = resolveModule(path);\n        const configurationFile = configurationFiles[path];\n        const baseObject = Object.assign({ path }, getCode(template, module, sandbox, resolveModule, configurationFile));\n        const { code } = baseObject;\n        if (code) {\n            try {\n                let parsed;\n                // it goes here three times and the third time it doesn't have a title but a path\n                // that took a while ffs\n                // if toml do it with toml parser\n                if (module && titleIncludes(module, 'toml')) {\n                    // never throws\n                    parsed = markty_toml_1.default(code);\n                }\n                else if (module && titleIncludes(module, 'tsconfig.json')) {\n                    parsed = jsonlint_browser_1.parse(stripJSONComments(code));\n                }\n                else {\n                    parsed = jsonlint_browser_1.parse(code);\n                }\n                configurations[configurationFile.type] = Object.assign(Object.assign({}, baseObject), { parsed });\n            }\n            catch (e) {\n                configurations[configurationFile.type] = Object.assign(Object.assign({}, baseObject), { error: e });\n            }\n        }\n    }\n    return configurations;\n}\nexports.default = parseConfigurations;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst prettify_default_config_1 = __importDefault(require(\"../../../prettify-default-config\"));\nconst config = {\n    title: '.prettierrc',\n    type: 'prettier',\n    description: 'Defines how all files will be prettified by Prettier.',\n    moreInfoUrl: 'https://prettier.io/docs/en/configuration.html',\n    generateFileFromState: prettierConfig => JSON.stringify(Object.assign(Object.assign({}, prettify_default_config_1.default), (prettierConfig || {})), null, 2),\n    schema: 'https://raw.githubusercontent.com/SchemaStore/schemastore/master/src/schemas/json/prettierrc.json',\n};\nexports.default = config;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst config = {\n    title: 'sandbox.config.json',\n    type: 'sandbox',\n    description: 'Configuration specific to the current sandbox.',\n    moreInfoUrl: 'https://codesandbox.io/docs/configuration#sandbox-configuration',\n    getDefaultCode: () => JSON.stringify({\n        infiniteLoopProtection: true,\n        hardReloadOnChange: false,\n        view: 'browser',\n    }, null, 2),\n};\nexports.default = config;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst JSX_PRAGMA = {\n    react: 'React.createElement',\n    preact: 'h',\n};\nconst config = {\n    title: 'tsconfig.json',\n    type: 'typescript',\n    description: 'Configuration for how TypeScript transpiles.',\n    moreInfoUrl: 'http://www.typescriptlang.org/docs/handbook/tsconfig-json.html',\n    getDefaultCode: (template, resolveModule) => {\n        if (template === 'create-react-app-typescript') {\n            return JSON.stringify({\n                compilerOptions: {\n                    outDir: 'build/dist',\n                    module: 'esnext',\n                    target: 'es5',\n                    lib: ['es6', 'dom'],\n                    sourceMap: true,\n                    allowJs: true,\n                    jsx: 'react',\n                    moduleResolution: 'node',\n                    rootDir: 'src',\n                    forceConsistentCasingInFileNames: true,\n                    noImplicitReturns: true,\n                    noImplicitThis: true,\n                    noImplicitAny: true,\n                    strictNullChecks: true,\n                    suppressImplicitAnyIndexErrors: true,\n                    noUnusedLocals: true,\n                },\n                exclude: [\n                    'node_modules',\n                    'build',\n                    'scripts',\n                    'acceptance-tests',\n                    'webpack',\n                    'jest',\n                    'src/setupTests.ts',\n                ],\n            }, null, 2);\n        }\n        if (template === 'parcel') {\n            const tsconfig = {\n                compilerOptions: {\n                    module: 'commonjs',\n                    jsx: 'preserve',\n                    jsxFactory: undefined,\n                    esModuleInterop: true,\n                    sourceMap: true,\n                    allowJs: true,\n                    lib: ['es6', 'dom'],\n                    rootDir: 'src',\n                    moduleResolution: 'node',\n                },\n            };\n            const packageJSONModule = resolveModule('/package.json');\n            if (packageJSONModule) {\n                try {\n                    const parsed = JSON.parse(packageJSONModule.code);\n                    let pragma = null;\n                    Object.keys(JSX_PRAGMA).forEach(dep => {\n                        if ((parsed.dependencies && parsed.dependencies[dep]) ||\n                            (parsed.devDependencies && parsed.devDependencies[dep])) {\n                            pragma = JSX_PRAGMA[dep];\n                        }\n                    });\n                    if (pragma !== null) {\n                        tsconfig.compilerOptions.jsx = 'react';\n                        tsconfig.compilerOptions.jsxFactory = pragma;\n                    }\n                }\n                catch (e) {\n                    /* do nothing */\n                }\n            }\n            return JSON.stringify(tsconfig, null, 2);\n        }\n        if (template === 'nest') {\n            return JSON.stringify({\n                compilerOptions: {\n                    module: 'commonjs',\n                    declaration: true,\n                    noImplicitAny: false,\n                    removeComments: true,\n                    noLib: false,\n                    allowSyntheticDefaultImports: true,\n                    emitDecoratorMetadata: true,\n                    experimentalDecorators: true,\n                    target: 'es6',\n                    sourceMap: true,\n                    outDir: './dist',\n                    baseUrl: './src',\n                },\n            }, null, 2);\n        }\n        if (template === '@dojo/cli-create-app') {\n            return JSON.stringify({\n                compilerOptions: {\n                    declaration: false,\n                    experimentalDecorators: true,\n                    jsx: 'react',\n                    jsxFactory: 'tsx',\n                    lib: [\n                        'dom',\n                        'es5',\n                        'es2015.promise',\n                        'es2015.iterable',\n                        'es2015.symbol',\n                        'es2015.symbol.wellknown',\n                    ],\n                    module: 'commonjs',\n                    moduleResolution: 'node',\n                    noUnusedLocals: true,\n                    outDir: '_build/',\n                    removeComments: false,\n                    importHelpers: true,\n                    downLevelIteration: true,\n                    sourceMap: true,\n                    strict: true,\n                    target: 'es5',\n                },\n            });\n        }\n        if (template === 'angular-cli') {\n            return JSON.stringify({\n                compileOnSave: false,\n                compilerOptions: {\n                    baseUrl: './',\n                    outDir: './dist/out-tsc',\n                    sourceMap: true,\n                    declaration: false,\n                    downlevelIteration: true,\n                    experimentalDecorators: true,\n                    moduleResolution: 'node',\n                    importHelpers: true,\n                    target: 'es2015',\n                    module: 'es2020',\n                    lib: ['es2018', 'dom'],\n                },\n            }, null, 2);\n        }\n        return JSON.stringify({\n            compilerOptions: {\n                outDir: 'build/dist',\n                module: 'esnext',\n                target: 'es5',\n                lib: ['es6', 'dom'],\n                sourceMap: true,\n                allowJs: true,\n                jsx: 'react',\n                moduleResolution: 'node',\n                rootDir: 'src',\n                forceConsistentCasingInFileNames: true,\n                noImplicitReturns: true,\n                noImplicitThis: true,\n                noImplicitAny: true,\n                strictNullChecks: true,\n                suppressImplicitAnyIndexErrors: true,\n                noUnusedLocals: true,\n            },\n        }, null, 2);\n    },\n    schema: 'https://raw.githubusercontent.com/SchemaStore/schemastore/master/src/schemas/json/tsconfig.json',\n    partialSupportDisclaimer: `Only \\`compilerOptions\\` field is supported.`,\n};\nexports.default = config;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nconst configuration_1 = __importDefault(require(\"./configuration\"));\nexports.default = new template_1.default('custom', 'Custom', 'https://codesandbox.io', 'custom', decorate_selector_1.decorateSelector(() => '#F5DA55'), {\n    extraConfigurations: {\n        '/.codesandbox/template.json': configuration_1.default.customCodeSandbox,\n    },\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nconst configuration_1 = __importDefault(require(\"./configuration\"));\nclass CxJSTemplate extends template_1.default {\n    getEntries() {\n        return ['/app/index.js', '/src/index.js', '/index.html'];\n    }\n    getHTMLEntries() {\n        return ['/app/index.html', '/src/index.html', '/index.html'];\n    }\n}\nexports.default = new CxJSTemplate('cxjs', 'CxJS', 'https://cxjs.io/', 'github/codaxy/cxjs-codesandbox-template', decorate_selector_1.decorateSelector(() => '#11689f'), {\n    showOnHomePage: true,\n    showCube: false,\n    extraConfigurations: {\n        '/.babelrc': configuration_1.default.babelrc,\n        '/tsconfig.json': configuration_1.default.tsconfig,\n    },\n    externalResourcesEnabled: false,\n    distDir: 'dist',\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocusaurusTemplate = void 0;\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nclass DocusaurusTemplate extends template_1.default {\n    // The file to open by the editor\n    getDefaultOpenedFiles() {\n        return ['/src/pages/index.js'];\n    }\n}\nexports.DocusaurusTemplate = DocusaurusTemplate;\nexports.default = new DocusaurusTemplate('docusaurus', 'Docusaurus', 'https://docusaurus.io/', 'github/facebook/docusaurus/tree/master/examples/classic', decorate_selector_1.decorateSelector(() => '#3ECC5F'), {\n    mainFile: [],\n    distDir: 'build',\n    showOnHomePage: true,\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DojoTemplate = void 0;\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nconst configuration_1 = __importDefault(require(\"./configuration\"));\nclass DojoTemplate extends template_1.default {\n    // eslint-disable-next-line no-unused-vars\n    getHTMLEntries(configurationFiles) {\n        return ['/src/index.html'];\n    }\n    getEntries(configurationFiles) {\n        const entries = super.getEntries(configurationFiles);\n        entries.push('/src/main.ts');\n        return entries;\n    }\n}\nexports.DojoTemplate = DojoTemplate;\nexports.default = new DojoTemplate('@dojo/cli-create-app', 'Dojo', 'https://github.com/dojo/cli-create-app', 'github/dojo/dojo-codesandbox-template', decorate_selector_1.decorateSelector(() => '#D3471C'), {\n    showOnHomePage: true,\n    showCube: false,\n    distDir: 'output/dist',\n    isTypescript: true,\n    extraConfigurations: {\n        '/tsconfig.json': configuration_1.default.tsconfig,\n    },\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nexports.default = new template_1.default('ember', 'Ember', 'https://emberjs.com/', \n/**\n * Ideally, we'd point to https://github.com/ember-cli/ember-new-output\n * but there are a few tweaks that must be addressed before then.\n *  - Auto-detection of ember-cli projects as node projects,\n *    without requiring a sandbox.config.json\n *    PR: https://github.com/codesandbox-app/codesandbox-importers/pull/16\n *  - Ember-CLI initial build chokes on empty app/styles/app.css file\n *  - A small livereload fix, for proper port detection through the CSB proxy stuff\n *    BUG: https://github.com/ember-cli/ember-cli/issues/8073\n *\n * Here is a complete diff of these changes, w.r.t. the code generated by\n * `ember new my-app`\n *\n * https://github.com/ember-cli/ember-new-output/compare/master...mike-north:master\n */\n'github/mike-north/ember-new-output', decorate_selector_1.decorateSelector(() => '#E04E39'), {\n    showOnHomePage: true,\n    main: false,\n    netlify: false,\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nconst configuration_1 = __importDefault(require(\"./configuration\"));\nclass GatsbyTemplate extends template_1.default {\n    getViews() {\n        const GATSBY_VIEWS = [\n            {\n                views: [\n                    { id: 'codesandbox.browser' },\n                    {\n                        id: 'codesandbox.browser',\n                        closeable: true,\n                        options: {\n                            url: '/___graphql',\n                            title: 'GraphiQL',\n                        },\n                    },\n                ],\n            },\n            {\n                open: true,\n                views: [\n                    { id: 'codesandbox.terminal' },\n                    { id: 'codesandbox.console' },\n                    { id: 'codesandbox.problems' },\n                ],\n            },\n        ];\n        return GATSBY_VIEWS;\n    }\n}\nexports.default = new GatsbyTemplate('gatsby', 'Gatsby', 'https://www.gatsbyjs.org/', 'github/gatsbyjs/gatsby-starter-default', decorate_selector_1.decorateSelector(() => '#8C65B3'), {\n    extraConfigurations: {\n        '/.babelrc': configuration_1.default.babelrc,\n    },\n    distDir: 'public',\n    mainFile: ['/src/pages/index.js'],\n    showOnHomePage: true,\n    main: true,\n    popular: true,\n    showCube: false,\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nclass GridsomeTemplate extends template_1.default {\n    getViews() {\n        const GRIDSOME_VIEWS = [\n            {\n                views: [\n                    { id: 'codesandbox.browser' },\n                    {\n                        id: 'codesandbox.browser',\n                        closeable: true,\n                        options: {\n                            url: '/___explore',\n                            title: 'GraphiQL',\n                        },\n                    },\n                ],\n            },\n            {\n                open: true,\n                views: [\n                    { id: 'codesandbox.terminal' },\n                    { id: 'codesandbox.console' },\n                    { id: 'codesandbox.problems' },\n                ],\n            },\n        ];\n        return GRIDSOME_VIEWS;\n    }\n}\nexports.default = new GridsomeTemplate('gridsome', 'Gridsome', 'https://gridsome.org/', 'github/SaraVieira/gridsome-starter-codesandbox', decorate_selector_1.decorateSelector(() => '#00a672'), {\n    distDir: 'dist',\n    mainFile: ['/src/pages/Index.vue'],\n    showOnHomePage: true,\n    main: true,\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isServer = void 0;\nconst SERVER_TEMPLATE_NAMES = [\n    'adonis',\n    'apollo',\n    'ember',\n    'gatsby',\n    'gridsome',\n    'marko',\n    'mdx-deck',\n    'nest',\n    'next',\n    'node',\n    'nuxt',\n    'quasar',\n    'sapper',\n    'styleguidist',\n    'unibit',\n    'vuepress',\n    'docusaurus',\n];\nexports.isServer = (template) => SERVER_TEMPLATE_NAMES.indexOf(template) !== -1;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReactTemplate = void 0;\nconst template_1 = __importDefault(require(\"../template\"));\nclass ReactTemplate extends template_1.default {\n    getViews() {\n        const REACT_VIEWS = [\n            {\n                views: [{ id: 'codesandbox.browser' }, { id: 'codesandbox.tests' }],\n            },\n            {\n                views: [\n                    { id: 'codesandbox.console' },\n                    { id: 'codesandbox.problems' },\n                    { id: 'codesandbox.react-devtools' },\n                ],\n            },\n        ];\n        return REACT_VIEWS;\n    }\n    getDefaultOpenedFiles(configurationFiles) {\n        let entries = [];\n        entries.push('/src/App.js');\n        entries.push('/src/App.tsx');\n        entries = entries.concat(this.getEntries(configurationFiles));\n        return entries;\n    }\n}\nexports.ReactTemplate = ReactTemplate;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.unibit = exports.quasar = exports.mdxDeck = exports.docusaurus = exports.vuepress = exports.gridsome = exports.styleguidist = exports.staticTemplate = exports.ember = exports.nest = exports.sapper = exports.vue = exports.svelte = exports.reason = exports.reactTs = exports.react = exports.preact = exports.parcel = exports.dojo = exports.cxjs = exports.babel = exports.node = exports.nuxt = exports.next = exports.marko = exports.gatsby = exports.apollo = exports.custom = exports.angular = exports.adonis = void 0;\nconst adonis_1 = __importDefault(require(\"./adonis\"));\nexports.adonis = adonis_1.default;\nconst angular_1 = __importDefault(require(\"./angular\"));\nexports.angular = angular_1.default;\nconst apollo_server_1 = __importDefault(require(\"./apollo-server\"));\nexports.apollo = apollo_server_1.default;\nconst babel_1 = __importDefault(require(\"./babel\"));\nexports.babel = babel_1.default;\nconst custom_1 = __importDefault(require(\"./custom\"));\nexports.custom = custom_1.default;\nconst cxjs_1 = __importDefault(require(\"./cxjs\"));\nexports.cxjs = cxjs_1.default;\nconst dojo_1 = __importDefault(require(\"./dojo\"));\nexports.dojo = dojo_1.default;\nconst ember_1 = __importDefault(require(\"./ember\"));\nexports.ember = ember_1.default;\nconst gatsby_1 = __importDefault(require(\"./gatsby\"));\nexports.gatsby = gatsby_1.default;\nconst gridsome_1 = __importDefault(require(\"./gridsome\"));\nexports.gridsome = gridsome_1.default;\nconst marko_1 = __importDefault(require(\"./marko\"));\nexports.marko = marko_1.default;\nconst mdx_deck_1 = __importDefault(require(\"./mdx-deck\"));\nexports.mdxDeck = mdx_deck_1.default;\nconst nest_1 = __importDefault(require(\"./nest\"));\nexports.nest = nest_1.default;\nconst next_1 = __importDefault(require(\"./next\"));\nexports.next = next_1.default;\nconst node_1 = __importDefault(require(\"./node\"));\nexports.node = node_1.default;\nconst nuxt_1 = __importDefault(require(\"./nuxt\"));\nexports.nuxt = nuxt_1.default;\nconst parcel_1 = __importDefault(require(\"./parcel\"));\nexports.parcel = parcel_1.default;\nconst preact_1 = __importDefault(require(\"./preact\"));\nexports.preact = preact_1.default;\nconst quasar_1 = __importDefault(require(\"./quasar\"));\nexports.quasar = quasar_1.default;\nconst react_1 = __importDefault(require(\"./react\"));\nexports.react = react_1.default;\nconst react_ts_1 = __importDefault(require(\"./react-ts\"));\nexports.reactTs = react_ts_1.default;\nconst reason_1 = __importDefault(require(\"./reason\"));\nexports.reason = reason_1.default;\nconst sapper_1 = __importDefault(require(\"./sapper\"));\nexports.sapper = sapper_1.default;\nconst static_1 = __importDefault(require(\"./static\"));\nexports.staticTemplate = static_1.default;\nconst styleguidist_1 = __importDefault(require(\"./styleguidist\"));\nexports.styleguidist = styleguidist_1.default;\nconst svelte_1 = __importDefault(require(\"./svelte\"));\nexports.svelte = svelte_1.default;\nconst unibit_1 = __importDefault(require(\"./unibit\"));\nexports.unibit = unibit_1.default;\nconst vue_1 = __importDefault(require(\"./vue\"));\nexports.vue = vue_1.default;\nconst vuepress_1 = __importDefault(require(\"./vuepress\"));\nexports.vuepress = vuepress_1.default;\nconst docusaurus_1 = __importDefault(require(\"./docusaurus\"));\nexports.docusaurus = docusaurus_1.default;\nfunction getDefinition(theme) {\n    switch (theme) {\n        case adonis_1.default.name:\n            return adonis_1.default;\n        case react_1.default.name:\n            return react_1.default;\n        case vue_1.default.name:\n            return vue_1.default;\n        case preact_1.default.name:\n            return preact_1.default;\n        case react_ts_1.default.name:\n            return react_ts_1.default;\n        case svelte_1.default.name:\n            return svelte_1.default;\n        case angular_1.default.name:\n            return angular_1.default;\n        case parcel_1.default.name:\n            return parcel_1.default;\n        case babel_1.default.name:\n            return babel_1.default;\n        case cxjs_1.default.name:\n            return cxjs_1.default;\n        case dojo_1.default.name:\n            return dojo_1.default;\n        case custom_1.default.name:\n            return custom_1.default;\n        case gatsby_1.default.name:\n            return gatsby_1.default;\n        case marko_1.default.name:\n            return marko_1.default;\n        case nuxt_1.default.name:\n            return nuxt_1.default;\n        case next_1.default.name:\n            return next_1.default;\n        case reason_1.default.name:\n            return reason_1.default;\n        case node_1.default.name:\n            return node_1.default;\n        case apollo_server_1.default.name:\n            return apollo_server_1.default;\n        case sapper_1.default.name:\n            return sapper_1.default;\n        case nest_1.default.name:\n            return nest_1.default;\n        case static_1.default.name:\n            return static_1.default;\n        case styleguidist_1.default.name:\n            return styleguidist_1.default;\n        case mdx_deck_1.default.name:\n            return mdx_deck_1.default;\n        case gridsome_1.default.name:\n            return gridsome_1.default;\n        case ember_1.default.name:\n            return ember_1.default;\n        case vuepress_1.default.name:\n            return vuepress_1.default;\n        case docusaurus_1.default.name:\n            return docusaurus_1.default;\n        case quasar_1.default.name:\n            return quasar_1.default;\n        case unibit_1.default.name:\n            return unibit_1.default;\n        default:\n            return react_1.default;\n    }\n}\nexports.default = getDefinition;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nexports.default = new template_1.default('marko', 'Marko', 'https://markojs.com/', 'github/nm123github/marko-codesandbox', decorate_selector_1.decorateSelector(() => '#f5ac00'), {\n    showOnHomePage: true,\n    main: false,\n    netlify: false,\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nexports.default = new template_1.default('mdx-deck', 'MDX Deck', 'https://github.com/jxnblk/mdx-deck', 'github/jxnblk/mdx-deck/tree/master/templates/basic', decorate_selector_1.decorateSelector(() => '#FAD961'), {\n    distDir: 'dist',\n    mainFile: ['deck.mdx'],\n    showOnHomePage: true,\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nconst configuration_1 = __importDefault(require(\"./configuration\"));\nexports.default = new template_1.default('nest', 'Nest', 'https://nestjs.com/', 'github/nestjs/typescript-starter', decorate_selector_1.decorateSelector(() => '#ed2945'), {\n    extraConfigurations: {\n        '/tsconfig.json': configuration_1.default.tsconfig,\n    },\n    mainFile: ['/src/main.ts'],\n    showOnHomePage: true,\n    netlify: false,\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nconst configuration_1 = __importDefault(require(\"./configuration\"));\nexports.default = new template_1.default('next', 'Next.js', 'https://nextjs.org/', 'github/zeit/next.js/tree/master/examples/hello-world', decorate_selector_1.decorateSelector(() => '#ffffff'), {\n    extraConfigurations: {\n        '/.babelrc': configuration_1.default.babelrc,\n    },\n    distDir: 'out',\n    netlify: false,\n    mainFile: ['/pages/index.js'],\n    backgroundColor: decorate_selector_1.decorateSelector(() => '#000000'),\n    showOnHomePage: true,\n    main: true,\n    popular: true,\n    showCube: false,\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nexports.default = new template_1.default('node', 'Node', 'https://codesandbox.io/docs/environment#container-environment', 'node', decorate_selector_1.decorateSelector(() => '#66cc33'), {\n    showOnHomePage: true,\n    main: true,\n    netlify: false,\n    popular: true,\n    mainFile: ['/pages/index.vue', '/pages/index.js', '/src/pages/index.js'],\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nconst configuration_1 = __importDefault(require(\"./configuration\"));\nexports.default = new template_1.default('nuxt', 'Nuxt.js', 'https://nuxtjs.org/', 'github/nuxt/codesandbox-nuxt', decorate_selector_1.decorateSelector(() => '#3B8070'), {\n    extraConfigurations: {\n        '/.babelrc': configuration_1.default.babelrc,\n    },\n    distDir: 'dist',\n    popular: true,\n    mainFile: ['/pages/index.vue'],\n    showOnHomePage: true,\n    main: true,\n    showCube: false,\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ParcelTemplate = void 0;\nconst path_1 = require(\"../utils/path\");\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nconst configuration_1 = __importDefault(require(\"./configuration\"));\nclass ParcelTemplate extends template_1.default {\n    getEntries(configurationFiles) {\n        const entries = [];\n        if (typeof document !== 'undefined' && document.location.pathname !== '/') {\n            // Push the location of the address bar, eg. when someone has a file\n            // /2.html open, you actually want to have that as entry point instead\n            // of index.html.\n            entries.push(document.location.pathname);\n        }\n        entries.push(configurationFiles.package &&\n            configurationFiles.package.parsed &&\n            configurationFiles.package.parsed.main &&\n            path_1.absolute(configurationFiles.package.parsed.main));\n        entries.push('/index.html');\n        entries.push('/src/index.html');\n        return entries.filter(Boolean);\n    }\n    /**\n     * The file to open by the editor\n     */\n    getDefaultOpenedFiles(configFiles) {\n        let entries = [];\n        entries.push('/index.js');\n        entries.push('/src/index.js');\n        entries.push('/index.ts');\n        entries.push('/src/index.ts');\n        entries = entries.concat(this.getEntries(configFiles));\n        return entries;\n    }\n}\nexports.ParcelTemplate = ParcelTemplate;\nexports.default = new ParcelTemplate('parcel', 'Vanilla', 'https://parceljs.org/', 'vanilla', decorate_selector_1.decorateSelector(() => '#dfb07a'), {\n    showOnHomePage: true,\n    showCube: true,\n    extraConfigurations: {\n        '/.babelrc': configuration_1.default.babelrc,\n        '/tsconfig.json': configuration_1.default.tsconfig,\n    },\n    externalResourcesEnabled: false,\n    distDir: 'dist',\n    main: true,\n    isTypescript: true,\n    popular: true,\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nconst configuration_1 = __importDefault(require(\"./configuration\"));\nexports.default = new template_1.default('preact-cli', 'Preact', 'https://github.com/developit/preact-cli', 'preact', decorate_selector_1.decorateSelector(() => '#AD78DC'), {\n    showOnHomePage: true,\n    extraConfigurations: {\n        '/.babelrc': configuration_1.default.babelrc,\n    },\n    defaultOpenedFile: ['/src/app.js'],\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nexports.default = new template_1.default('quasar', 'Quasar', 'https://quasar-framework.org/', 'github/quasarframework/quasar-codesandbox', decorate_selector_1.decorateSelector(() => '#43A4F2'), {\n    mainFile: ['/src/pages/Index.vue'],\n    showOnHomePage: true,\n    netlify: false,\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nconst react_template_1 = require(\"./helpers/react-template\");\nconst configuration_1 = __importDefault(require(\"./configuration\"));\nexports.default = new react_template_1.ReactTemplate('create-react-app-typescript', 'React + TS', 'https://github.com/wmonk/create-react-app-typescript', 'react-ts', decorate_selector_1.decorateSelector(() => '#009fff'), {\n    isTypescript: true,\n    showOnHomePage: false,\n    extraConfigurations: {\n        '/tsconfig.json': configuration_1.default.tsconfig,\n    },\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nconst configuration_1 = __importDefault(require(\"./configuration\"));\nconst react_template_1 = require(\"./helpers/react-template\");\nexports.default = new react_template_1.ReactTemplate('create-react-app', 'React', 'https://github.com/facebookincubator/create-react-app', 'new', decorate_selector_1.decorateSelector(() => '#61DAFB'), {\n    showOnHomePage: true,\n    popular: true,\n    main: true,\n    mainFile: ['/src/index.js', '/src/index.tsx', '/src/index.ts'],\n    extraConfigurations: {\n        '/jsconfig.json': configuration_1.default.jsconfig,\n        '/tsconfig.json': configuration_1.default.tsconfig,\n    },\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nexports.default = new template_1.default('reason', 'Reason', 'https://reasonml.github.io/reason-react/en/', 'reason', decorate_selector_1.decorateSelector(() => '#CB5747'), {\n    showOnHomePage: true,\n    main: false,\n    netlify: false,\n    mainFile: ['/src/Main.re', 'App.re', 'Index.re'],\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst configuration_1 = __importDefault(require(\"./configuration\"));\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nconst extendedSandboxConfig = Object.assign(Object.assign({}, configuration_1.default.sandboxConfig), { getDefaultCode: () => JSON.stringify({\n        container: {\n            port: 3000,\n        },\n    }, null, 2) });\nexports.default = new template_1.default('sapper', 'Sapper', 'https://sapper.svelte.dev/', 'github/codesandbox-app/sapper-template', decorate_selector_1.decorateSelector(() => '#159497'), {\n    extraConfigurations: {\n        '/sandbox.config.json': extendedSandboxConfig,\n    },\n    netlify: false,\n    mainFile: ['/src/routes/index.html'],\n    showOnHomePage: true,\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nexports.default = new template_1.default('static', 'Static', 'https://developer.mozilla.org/en-US/docs/Learn/HTML', 'github/codesandbox-app/static-template', decorate_selector_1.decorateSelector(() => '#3AA855'), {\n    showOnHomePage: true,\n    distDir: './',\n    main: false,\n    mainFile: ['/index.html'],\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nconst configuration_1 = __importDefault(require(\"./configuration\"));\nexports.default = new template_1.default('styleguidist', 'Styleguidist', 'https://react-styleguidist.js.org/', 'github/styleguidist/example', decorate_selector_1.decorateSelector(() => '#25d8fc'), {\n    extraConfigurations: {\n        '/.babelrc': configuration_1.default.babelrc,\n    },\n    distDir: 'styleguide',\n    mainFile: [],\n    showOnHomePage: true,\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nexports.default = new template_1.default('svelte', 'Svelte', 'https://svelte.dev', 'svelte', decorate_selector_1.decorateSelector(() => '#FF3E00'), {\n    showOnHomePage: true,\n    showCube: false,\n    distDir: 'public',\n    mainFile: ['/app.svelte'],\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path_1 = require(\"../utils/path\");\nconst configuration_1 = __importDefault(require(\"./configuration\"));\nconst is_server_1 = require(\"./helpers/is-server\");\nconst defaultConfigurations = {\n    '/package.json': configuration_1.default.packageJSON,\n    '/.prettierrc': configuration_1.default.prettierRC,\n    '/sandbox.config.json': configuration_1.default.sandboxConfig,\n    '/vercel.json': configuration_1.default.nowConfig,\n    '/netlify.toml': configuration_1.default.netlifyConfig,\n};\nconst CLIENT_VIEWS = [\n    {\n        views: [{ id: 'codesandbox.browser' }, { id: 'codesandbox.tests' }],\n    },\n    {\n        views: [{ id: 'codesandbox.console' }, { id: 'codesandbox.problems' }],\n    },\n];\nconst SERVER_VIEWS = [\n    {\n        views: [{ id: 'codesandbox.browser' }],\n    },\n    {\n        open: true,\n        views: [\n            { id: 'codesandbox.terminal' },\n            { id: 'codesandbox.console' },\n            { id: 'codesandbox.problems' },\n        ],\n    },\n];\nclass Template {\n    constructor(name, niceName, url, shortid, color, options = {}) {\n        /**\n         * Alter the apiData to Vercel for making deployment work\n         */\n        this.alterDeploymentData = (apiData) => {\n            const packageJSONFile = apiData.files.find(x => x.file === 'package.json');\n            const parsedFile = JSON.parse(packageJSONFile.data);\n            const newParsedFile = Object.assign(Object.assign({}, parsedFile), { devDependencies: Object.assign(Object.assign({}, parsedFile.devDependencies), { serve: '^10.1.1' }), scripts: Object.assign({ 'now-start': `cd ${this.distDir} && serve -s ./` }, parsedFile.scripts) });\n            return Object.assign(Object.assign({}, apiData), { files: [\n                    ...apiData.files.filter(x => x.file !== 'package.json'),\n                    {\n                        file: 'package.json',\n                        data: JSON.stringify(newParsedFile, null, 2),\n                    },\n                ] });\n        };\n        this.name = name;\n        this.niceName = niceName;\n        this.url = url;\n        this.shortid = shortid;\n        this.color = color;\n        this.popular = options.popular || false;\n        this.isServer = is_server_1.isServer(this.name);\n        this.main = options.main || false;\n        this.showOnHomePage = options.showOnHomePage || false;\n        this.distDir = options.distDir || 'build';\n        this.configurationFiles = Object.assign(Object.assign({}, defaultConfigurations), (options.extraConfigurations || {}));\n        this.isTypescript = options.isTypescript || false;\n        this.externalResourcesEnabled =\n            options.externalResourcesEnabled != null\n                ? options.externalResourcesEnabled\n                : true;\n        this.mainFile = options.mainFile;\n        this.netlify = options.netlify;\n        this.backgroundColor = options.backgroundColor;\n        this.showCube = options.showCube != null ? options.showCube : true;\n        this.defaultOpenedFile = options.defaultOpenedFile || [];\n    }\n    // eslint-disable-next-line\n    getMainFromPackage(pkg) {\n        try {\n            if (!pkg.main) {\n                return undefined;\n            }\n            if (Array.isArray(pkg.main)) {\n                return path_1.absolute(pkg.main[0]);\n            }\n            if (typeof pkg.main === 'string') {\n                return path_1.absolute(pkg.main);\n            }\n        }\n        catch (e) {\n            // eslint-disable-next-line\n            console.log(e);\n        }\n    }\n    /**\n     * Get possible entry files to evaluate, differs per template\n     */\n    getEntries(configurationFiles) {\n        var _a;\n        return [\n            ((_a = configurationFiles.package) === null || _a === void 0 ? void 0 : _a.parsed) &&\n                this.getMainFromPackage(configurationFiles.package.parsed),\n            ...(this.mainFile || []),\n            '/index.' + (this.isTypescript ? 'ts' : 'js'),\n            '/src/index.' + (this.isTypescript ? 'ts' : 'js'),\n            '/src/index.ts',\n            '/src/index.tsx',\n            '/src/index.js',\n            '/src/pages/index.js',\n            '/src/pages/index.vue',\n            '/index.js',\n            '/index.ts',\n            '/index.tsx',\n            '/README.md',\n            '/package.json',\n        ].filter(x => x);\n    }\n    /**\n     * Files to be opened by default by the editor when opening the editor\n     */\n    getDefaultOpenedFiles(configurationFiles) {\n        return [...this.defaultOpenedFile, ...this.getEntries(configurationFiles)];\n    }\n    /**\n     * Get the views that are tied to the template\n     */\n    getViews(configurationFiles) {\n        if (this.isServer) {\n            return SERVER_VIEWS;\n        }\n        return CLIENT_VIEWS;\n    }\n    // eslint-disable-next-line no-unused-vars\n    getHTMLEntries(configurationFiles) {\n        return ['/public/index.html', '/index.html'];\n    }\n}\nexports.default = Template;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nexports.default = new template_1.default('unibit', 'Unibit', 'https://www.stackbit.com', 'github/stackbithq/stackbit-theme-universal/tree/master/', decorate_selector_1.decorateSelector(() => '#3EB0FD'), {\n    distDir: 'public',\n    popular: true,\n    mainFile: ['README.md'],\n    showOnHomePage: true,\n    main: false,\n    showCube: false,\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nconst configuration_1 = __importDefault(require(\"./configuration\"));\nclass VueTemplate extends template_1.default {\n    getEntries(configurationFiles) {\n        const entries = super.getEntries(configurationFiles);\n        entries.push('/src/main.js');\n        entries.push('/main.js');\n        return entries;\n    }\n    getHTMLEntries() {\n        return ['/static/index.html', '/public/index.html', '/index.html'];\n    }\n}\nexports.default = new VueTemplate('vue-cli', 'Vue', 'https://github.com/vuejs/vue-cli', 'vue', decorate_selector_1.decorateSelector(() => '#41B883'), {\n    showOnHomePage: true,\n    extraConfigurations: {\n        '/.babelrc': configuration_1.default.babelrc,\n        '/tsconfig.json': configuration_1.default.tsconfig,\n    },\n    distDir: 'dist',\n    main: true,\n    popular: true,\n    mainFile: ['/src/main.js', '/src/main.ts'],\n});\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VuePressTemplate = void 0;\nconst template_1 = __importDefault(require(\"./template\"));\nconst decorate_selector_1 = require(\"../utils/decorate-selector\");\nclass VuePressTemplate extends template_1.default {\n    // The file to open by the editor\n    getDefaultOpenedFiles() {\n        return ['/README.md', '/guide/README.md'];\n    }\n}\nexports.VuePressTemplate = VuePressTemplate;\nexports.default = new VuePressTemplate('vuepress', 'VuePress', 'https://vuepress.vuejs.org/', 'github/vicbergquist/codesandbox-vuepress', decorate_selector_1.decorateSelector(() => '#4abf8a'), {\n    mainFile: [],\n    distDir: '.vuepress/dist',\n    showOnHomePage: true,\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatVersion = exports.CSB_PKG_PROTOCOL = void 0;\nexports.CSB_PKG_PROTOCOL = /https:\\/\\/pkg(-staging)?\\.csb.dev/;\nexports.formatVersion = (version) => {\n    if (exports.CSB_PKG_PROTOCOL.test(version)) {\n        const commitSha = version.match(/commit\\/([\\w\\d]*)\\//);\n        if (commitSha && commitSha[1]) {\n            return `csb:${commitSha[1]}`;\n        }\n    }\n    return version;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst global_1 = require(\"./global\");\nconst shouldShowDebugger = () => {\n    if (typeof __DEV__ !== 'undefined' && __DEV__) {\n        return true;\n    }\n    if (process.env.NODE_ENV === 'development') {\n        return true;\n    }\n    if (typeof document !== 'undefined' &&\n        document.location.search.includes('debug')) {\n        return true;\n    }\n    return false;\n};\nconst getDebugger = () => {\n    if (!shouldShowDebugger()) {\n        const global = global_1.getGlobal();\n        // Return a debugger that will log to sentry\n        return (key) => (message) => {\n            // Disable it for now, seems to affect performance. That's the last thing we want\n            // from this (https://github.com/codesandbox/codesandbox-client/issues/1671)\n            // TODO: move this to sentry\n            if (false || typeof global.Raven === 'object') {\n                try {\n                    global.Raven.captureBreadcrumb({\n                        message: `${key} - ${message}`,\n                        category: 'logging',\n                    });\n                }\n                catch (e) {\n                    console.error(e);\n                }\n            }\n        };\n    }\n    // @ts-ignore\n    const debug = require('debug'); // eslint-disable-line global-require\n    // debug.enable('cs:*');\n    // debug.disable('cs:cp-*');\n    return debug;\n};\nexports.default = getDebugger();\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decorateSelector = void 0;\nconst memoize_one_1 = __importDefault(require(\"memoize-one\"));\nconst color_1 = __importDefault(require(\"color\"));\nconst colorMethods = [\n    'negate',\n    'lighten',\n    'darken',\n    'saturate',\n    'desaturate',\n    'greyscale',\n    'whiten',\n    'blacken',\n    'clearer',\n    'opaquer',\n    'rotate',\n];\n/**\n * Takes a selector that returns a color string and returns new decorated selector that calls the\n * original function to get the color and then modifies that color, ultimately returning another\n * color string.\n *\n * vy60q8l043\n */\nconst addModifier = (fn, method, ...modifierArgs) => (...args) => color_1.default(fn(...args))[method](...modifierArgs)\n    .rgbString();\n/**\n * Add useful methods directly to selector function, as well as put an rgbString() call at the end\n * @param selector\n */\nexports.decorateSelector = (selector) => {\n    // add member functions to our selector\n    colorMethods.forEach(method => {\n        selector[method] = memoize_one_1.default((...args) => exports.decorateSelector(addModifier(selector, method, ...args)));\n    });\n    return selector;\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction delay(timeout = 1000) {\n    return new Promise(resolve => setTimeout(resolve, timeout));\n}\nexports.default = delay;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getAbsoluteDependencies = exports.getAbsoluteDependency = exports.isValidSemver = exports.isAbsoluteVersion = exports.fetchPackageJSON = void 0;\nconst semver_1 = require(\"semver\");\nfunction fetchWithRetries(url) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let err;\n        for (let i = 0; i < 5; i++) {\n            try {\n                // eslint-disable-next-line\n                return yield fetch(url).then(x => {\n                    if (x.ok) {\n                        return x.json();\n                    }\n                    throw new Error('Could not fetch ' + url);\n                });\n            }\n            catch (e) {\n                err = e;\n            }\n        }\n        throw err;\n    });\n}\nfunction fetchPackageJSON(dep, version) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            return fetchWithRetries(`https://cdn.jsdelivr.net/npm/${dep}@${encodeURIComponent(version)}/package.json`);\n        }\n        catch (e) {\n            return fetchWithRetries(`https://unpkg.com/${dep}@${encodeURIComponent(version)}/package.json`);\n        }\n    });\n}\nexports.fetchPackageJSON = fetchPackageJSON;\nfunction isAbsoluteVersion(version) {\n    const isAbsolute = /^\\d+\\.\\d+\\.\\d+$/.test(version);\n    return isAbsolute || /\\//.test(version);\n}\nexports.isAbsoluteVersion = isAbsoluteVersion;\nfunction isValidSemver(version) {\n    return Boolean(semver_1.valid(version));\n}\nexports.isValidSemver = isValidSemver;\nfunction getAbsoluteDependency(depName, depVersion) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (isAbsoluteVersion(depVersion)) {\n            return { name: depName, version: depVersion };\n        }\n        let data;\n        if (depName === 'cerebral' && depVersion === 'latest') {\n            // Bug in JSDelivr, this returns the wrong package.json (of a beta version). So use Unpkg\n            data = yield fetchWithRetries(`https://unpkg.com/cerebral@${encodeURIComponent('latest')}/package.json`);\n        }\n        else {\n            data = yield fetchPackageJSON(depName, depVersion);\n        }\n        return { name: depName, version: data.version };\n    });\n}\nexports.getAbsoluteDependency = getAbsoluteDependency;\nfunction getAbsoluteDependencies(dependencies) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const nonAbsoluteDependencies = Object.keys(dependencies).filter(dep => !isAbsoluteVersion(dependencies[dep]));\n        const newDependencies = Object.assign({}, dependencies);\n        yield Promise.all(nonAbsoluteDependencies.map((dep) => __awaiter(this, void 0, void 0, function* () {\n            try {\n                const { version } = yield getAbsoluteDependency(dep, newDependencies[dep]);\n                newDependencies[dep] = version;\n            }\n            catch (e) {\n                /* ignore */\n            }\n        })));\n        return newDependencies;\n    });\n}\nexports.getAbsoluteDependencies = getAbsoluteDependencies;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.commonPostMessage = exports.getGlobal = void 0;\nconst url_generator_1 = require(\"./url-generator\");\nfunction getGlobal() {\n    try {\n        if (typeof window !== 'undefined') {\n            return window;\n        }\n        if (typeof self !== 'undefined') {\n            const returnedGlobal = self;\n            return returnedGlobal;\n        }\n        if (typeof global !== 'undefined') {\n            return global;\n        }\n    }\n    catch (e) {\n        /* Couldn't find anything */\n    }\n    return {};\n}\nexports.getGlobal = getGlobal;\nconst global = getGlobal();\n/**\n * A postmessage that works in main window and in worker.\n * It will send the message to the default origin.\n * @param message The message to send\n */\nfunction commonPostMessage(message) {\n    if (typeof Window !== 'undefined') {\n        global.postMessage(message, url_generator_1.protocolAndHost());\n    }\n    else {\n        global.postMessage(message);\n    }\n}\nexports.commonPostMessage = commonPostMessage;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isBabel7 = void 0;\nconst semver_1 = __importDefault(require(\"semver\"));\nfunction isCRAVersion2(dependencies, devDependencies) {\n    const reactScriptsVersion = dependencies['react-scripts'] || devDependencies['react-scripts'];\n    if (reactScriptsVersion) {\n        return (/^[a-z]/.test(reactScriptsVersion) ||\n            semver_1.default.intersects(reactScriptsVersion, '^2.0.0') ||\n            semver_1.default.intersects(reactScriptsVersion, '^3.0.0') ||\n            semver_1.default.intersects(reactScriptsVersion, '^4.0.0'));\n    }\n    return false;\n}\nfunction isBabel7(dependencies = {}, devDependencies = {}) {\n    if (dependencies['@vue/cli-plugin-babel'] ||\n        devDependencies['@vue/cli-plugin-babel']) {\n        return true;\n    }\n    if (devDependencies['@babel/core'] || dependencies['@babel/core']) {\n        return true;\n    }\n    if (dependencies.svelte || devDependencies.svelte) {\n        const ver = dependencies.svelte || devDependencies.svelte;\n        const [maj] = ver.split('.');\n        if (maj) {\n            return +maj > 2;\n        }\n        return false;\n    }\n    if ('typescript' in devDependencies && !dependencies['@angular/core']) {\n        return true;\n    }\n    if (isCRAVersion2(dependencies, devDependencies)) {\n        return true;\n    }\n    return false;\n}\nexports.isBabel7 = isBabel7;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isPreact10 = void 0;\nconst semver_1 = __importDefault(require(\"semver\"));\nfunction isPreact10(dependencies, devDependencies) {\n    const preactVersion = (dependencies || {}).preact || (devDependencies || {}).preact;\n    if (preactVersion) {\n        return (/^[a-z]/.test(preactVersion) ||\n            semver_1.default.intersects(preactVersion, '>=10.0.0'));\n    }\n    return false;\n}\nexports.isPreact10 = isPreact10;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.persistMeasurements = exports.getMeasurements = exports.clearMeasurements = exports.getCumulativeMeasure = exports.endMeasure = exports.measure = void 0;\nconst debug_1 = __importDefault(require(\"./debug\"));\nconst global_1 = require(\"./global\");\nconst debug = debug_1.default('cs:measurements');\nconst runningMeasurements = new Map();\nlet measurements = {};\nconst global = global_1.getGlobal();\nif (typeof global.performance === 'undefined') {\n    global.performance = {\n        mark: () => { },\n        now: () => Date.now(),\n        measure: () => { },\n    };\n}\nfunction measure(key) {\n    try {\n        performance.mark(`${key}_start`);\n        runningMeasurements.set(key, performance.now());\n    }\n    catch (e) {\n        console.warn(`Something went wrong while adding measure: ${e.message}`);\n    }\n}\nexports.measure = measure;\nfunction endMeasure(key, options = {}) {\n    try {\n        const { lastTime } = options;\n        performance.mark(`${key}_end`);\n        const lastMeasurement = typeof lastTime === 'undefined' ? runningMeasurements.get(key) : lastTime;\n        if (typeof lastMeasurement === 'undefined') {\n            console.warn(`Measurement for '${key}' was requested, but never was started`);\n            return 0;\n        }\n        const nowMeasurement = performance.now();\n        measurements[key] = nowMeasurement - lastMeasurement;\n        if (!options.silent) {\n            debug(`${options.displayName || key} Time: ${measurements[key].toFixed(2)}ms`);\n        }\n        const hadKey = runningMeasurements.delete(key);\n        performance.measure(key, hadKey ? `${key}_start` : undefined, `${key}_end`);\n        return measurements[key];\n    }\n    catch (e) {\n        console.warn(`Something went wrong while adding measure: ${e.message}`);\n        return 0;\n    }\n}\nexports.endMeasure = endMeasure;\n/**\n * Get the cumulative of a specific measurement by prefix. If you had for example these measurements:\n * - transpile-index.js\n * - transpile-test.js\n *\n * You can get the sum of these measurements with getCumulativeMeasure('transpile', 'Transpilation')\n */\nfunction getCumulativeMeasure(prefix, options = {}) {\n    const keys = Object.keys(measurements).filter(p => p.startsWith(prefix + '-'));\n    const totalTime = keys.reduce((prev, key) => prev + measurements[key], 0);\n    if (!options.silent) {\n        debug(`${options.displayName || prefix} Total Time: ${totalTime.toFixed(2)}ms`);\n        debug(`  Average Time: ${(totalTime / keys.length).toFixed(2)}ms`);\n    }\n    return totalTime;\n}\nexports.getCumulativeMeasure = getCumulativeMeasure;\nfunction clearMeasurements() {\n    measurements = {};\n    runningMeasurements.clear();\n}\nexports.clearMeasurements = clearMeasurements;\nfunction getMeasurements() {\n    return measurements;\n}\nexports.getMeasurements = getMeasurements;\nglobal_1.getGlobal().measurements = {\n    clearMeasurements,\n    getCumulativeMeasure,\n    getMeasurements,\n};\nconst MEASUREMENT_API = `https://col.csbops.io/data/sandpack`;\nfunction persistMeasurements(data) {\n    const body = [\n        {\n            measurement: 'load_times',\n            tags: {\n                browser: data.browser,\n                cache_used: data.cacheUsed,\n                version: data.version,\n            },\n            fields: {\n                transpilation: measurements.transpilation,\n                evaluation: measurements.evaluation,\n                external_resources: measurements['external-resources'],\n                compilation: measurements.compilation,\n                boot: measurements.boot,\n                total: measurements.total,\n                dependencies: measurements.dependencies,\n            },\n        },\n    ];\n    if (process.env.NODE_ENV === 'development' || process.env.STAGING) {\n        // eslint-disable-next-line\n        console.log(body);\n        return Promise.resolve();\n    }\n    return fetch(MEASUREMENT_API, {\n        method: 'POST',\n        body: JSON.stringify(body),\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n        },\n    });\n}\nexports.persistMeasurements = persistMeasurements;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extname = exports.absolute = exports.basename = exports.dirname = exports.join = exports.normalize = exports.isAbsolute = void 0;\nconst splitPathRe = /^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^/]+?|)(\\.[^./]*|))(?:[/]*)$/;\nfunction splitPath(filename) {\n    return splitPathRe.exec(filename).slice(1);\n}\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n    const res = [];\n    for (let i = 0; i < parts.length; i += 1) {\n        const p = parts[i];\n        // ignore empty parts\n        if (!p || p === '.')\n            continue; // eslint-disable-line no-continue\n        if (p === '..') {\n            if (res.length && res[res.length - 1] !== '..') {\n                res.pop();\n            }\n            else if (allowAboveRoot) {\n                res.push('..');\n            }\n        }\n        else {\n            res.push(p);\n        }\n    }\n    return res;\n}\nfunction isAbsolute(path) {\n    return path.charAt(0) === '/';\n}\nexports.isAbsolute = isAbsolute;\nfunction normalize(path) {\n    const isAbs = isAbsolute(path);\n    const trailingSlash = path && path[path.length - 1] === '/';\n    let newPath = path;\n    // Normalize the path\n    newPath = normalizeArray(newPath.split('/'), !isAbs).join('/');\n    if (!newPath && !isAbs) {\n        newPath = '.';\n    }\n    if (newPath && trailingSlash) {\n        newPath += '/';\n    }\n    return (isAbs ? '/' : '') + newPath;\n}\nexports.normalize = normalize;\nfunction join(...paths) {\n    let path = '';\n    for (let i = 0; i < paths.length; i += 1) {\n        const segment = paths[i];\n        if (typeof segment !== 'string') {\n            throw new TypeError('Arguments to path.join must be strings');\n        }\n        if (segment) {\n            if (!path) {\n                path += segment;\n            }\n            else {\n                path += `/${segment}`;\n            }\n        }\n    }\n    return normalize(path);\n}\nexports.join = join;\nfunction dirname(path) {\n    const result = splitPath(path);\n    const root = result[0];\n    let dir = result[1];\n    if (!root && !dir) {\n        // No dirname whatsoever\n        return '.';\n    }\n    if (dir) {\n        // It has a dirname, strip trailing slash\n        dir = dir.substr(0, dir.length - 1);\n    }\n    return root + dir;\n}\nexports.dirname = dirname;\nfunction basename(p, ext = '') {\n    // Special case: Normalize will modify this to '.'\n    if (p === '') {\n        return p;\n    }\n    // Normalize the string first to remove any weirdness.\n    const path = normalize(p);\n    // Get the last part of the string.\n    const sections = path.split('/');\n    const lastPart = sections[sections.length - 1];\n    // Special case: If it's empty, then we have a string like so: foo/\n    // Meaning, 'foo' is guaranteed to be a directory.\n    if (lastPart === '' && sections.length > 1) {\n        return sections[sections.length - 2];\n    }\n    // Remove the extension, if need be.\n    if (ext.length > 0) {\n        const lastPartExt = lastPart.substr(lastPart.length - ext.length);\n        if (lastPartExt === ext) {\n            return lastPart.substr(0, lastPart.length - ext.length);\n        }\n    }\n    return lastPart;\n}\nexports.basename = basename;\nfunction absolute(path) {\n    if (path.startsWith('/')) {\n        return path;\n    }\n    if (path.startsWith('./')) {\n        return path.replace('./', '/');\n    }\n    return '/' + path;\n}\nexports.absolute = absolute;\nfunction assertPath(path) {\n    if (typeof path !== 'string') {\n        throw new TypeError('Path must be a string. Received ' + JSON.stringify(path));\n    }\n}\nfunction extname(path) {\n    assertPath(path);\n    let startDot = -1;\n    let startPart = 0;\n    let end = -1;\n    let matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    let preDotState = 0;\n    for (let i = path.length - 1; i >= 0; --i) {\n        const code = path.charCodeAt(i);\n        if (code === 47) {\n            // If we reached a path separator that was not part of a set of path\n            // separators at the end of the string, stop now\n            if (!matchedSlash) {\n                startPart = i + 1;\n                break;\n            }\n            // eslint-disable-next-line\n            continue;\n        }\n        if (end === -1) {\n            // We saw the first non-path separator, mark this as the end of our\n            // extension\n            matchedSlash = false;\n            end = i + 1;\n        }\n        if (code === 46 /* . */) {\n            // If this is our first dot, mark it as the start of our extension\n            if (startDot === -1)\n                startDot = i;\n            else if (preDotState !== 1)\n                preDotState = 1;\n        }\n        else if (startDot !== -1) {\n            // We saw a non-dot and non-path separator before our dot, so we should\n            // have a good chance at having a non-empty extension\n            preDotState = -1;\n        }\n    }\n    if (startDot === -1 ||\n        end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        (preDotState === 1 && startDot === end - 1 && startDot === startPart + 1)) {\n        return '';\n    }\n    return path.slice(startDot, end);\n}\nexports.extname = extname;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction slugify(text) {\n    const a = 'àáäâèéëêìíïîòóöôùúüûñçßÿœæŕśńṕẃǵǹḿǘẍźḧ·/_,:;';\n    const b = 'aaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------';\n    const p = new RegExp(a.split('').join('|'), 'g');\n    /* eslint-disable */\n    return text\n        .toString()\n        .toLowerCase()\n        .replace(/\\s+/g, '-') // Replace spaces with -\n        .replace(p, c => b.charAt(a.indexOf(c))) // Replace special chars\n        .replace(/&/g, '-and-') // Replace & with 'and'\n        .replace(/[^\\w\\-]+/g, '') // Remove all non-word chars\n        .replace(/\\-\\-+/g, '-') // Replace multiple - with single -\n        .replace(/^-+/, '') // Trim - from start of text\n        .replace(/-+$/, ''); // Trim - from end of text\n    /* eslint-enable */\n}\nexports.default = slugify;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.dashboard = exports.teamInviteLink = exports.getSandboxId = exports.privacyUrl = exports.tosUrl = exports.curatorUrl = exports.patronUrl = exports.searchUrl = exports.gitHubToSandboxUrl = exports.optionsToParameterizedUrl = exports.githubRepoUrl = exports.profileLikesUrl = exports.profileSandboxesUrl = exports.teamOverviewUrl = exports.exploreUrl = exports.dashboardUrl = exports.profileUrl = exports.signInVercelUrl = exports.signInUrl = exports.signInPageUrl = exports.forkSandboxUrl = exports.frameUrl = exports.embedUrl = exports.sandboxUrl = exports.editorUrl = exports.uploadFromCliUrl = exports.newCxJSSandboxUrl = exports.newAngularSandboxUrl = exports.newSvelteSandboxUrl = exports.importFromGitHubUrl = exports.newVueSandboxUrl = exports.newPreactSandboxUrl = exports.newDojoSandboxUrl = exports.newReactTypeScriptSandboxUrl = exports.parcelSandboxUrl = exports.newSandboxUrl = exports.newSandboxWizard = exports.protocolAndHost = exports.host = exports.gitHubRepoPattern = void 0;\nconst is_server_1 = require(\"../templates/helpers/is-server\");\nconst dashboard = __importStar(require(\"./url-generator/dashboard\"));\nexports.dashboard = dashboard;\nexports.gitHubRepoPattern = /(https?:\\/\\/)?((www.)?)github.com(\\/[\\w-]+){2,}/;\nconst gitHubPrefix = /(https?:\\/\\/)?((www.)?)github.com/;\nconst dotGit = /(\\.git)$/;\nconst sandboxHost = {\n    'https://codesandbox.io': 'https://csb.app',\n    'https://codesandbox.stream': 'https://codesandbox.dev',\n};\nconst buildEncodedUri = (strings, ...values) => strings[0] +\n    values\n        .map((value, i) => `${encodeURIComponent(value)}${strings[i + 1]}`)\n        .join('');\nexports.host = () => {\n    if (process.env.NODE_ENV === 'production') {\n        return process.env.CODESANDBOX_HOST.split('//')[1];\n    }\n    if (process.env.LOCAL_SERVER) {\n        return 'localhost:3000';\n    }\n    return process.env.DEV_DOMAIN;\n};\nexports.protocolAndHost = () => `${location.protocol}//${exports.host()}`;\nexports.newSandboxWizard = () => `/s`;\nexports.newSandboxUrl = () => `/s/new`;\nexports.parcelSandboxUrl = () => `/s/vanilla`;\nexports.newReactTypeScriptSandboxUrl = () => `/s/react-ts`;\nexports.newDojoSandboxUrl = () => `/s/github/dojo/dojo-codesandbox-template`;\nexports.newPreactSandboxUrl = () => `/s/preact`;\nexports.newVueSandboxUrl = () => `/s/vue`;\nexports.importFromGitHubUrl = () => `/s/github`;\nexports.newSvelteSandboxUrl = () => `/s/svelte`;\nexports.newAngularSandboxUrl = () => `/s/angular`;\nexports.newCxJSSandboxUrl = () => `/s/github/codaxy/cxjs-codesandbox-template`;\nexports.uploadFromCliUrl = () => `/s/cli`;\nconst sandboxGitUrl = (git) => buildEncodedUri `github/${git.username}/${git.repo}/tree/${git.branch}/` +\n    git.path;\nexports.editorUrl = () => `/s/`;\nexports.sandboxUrl = (sandboxDetails) => {\n    if (sandboxDetails.git) {\n        const { git } = sandboxDetails;\n        return `${exports.editorUrl()}${sandboxGitUrl(git)}`;\n    }\n    if (sandboxDetails.alias) {\n        return `${exports.editorUrl()}${sandboxDetails.alias}`;\n    }\n    return `${exports.editorUrl()}${sandboxDetails.id}`;\n};\nexports.embedUrl = (sandbox) => {\n    if (sandbox.git) {\n        const { git } = sandbox;\n        return `/embed/${sandboxGitUrl(git)}`;\n    }\n    if (sandbox.alias) {\n        return `/embed/${sandbox.alias}`;\n    }\n    return `/embed/${sandbox.id}`;\n};\nconst stagingFrameUrl = (shortid, path) => {\n    const stagingHost = (process.env.CODESANDBOX_HOST\n        ? process.env.CODESANDBOX_HOST\n        : '').split('//')[1];\n    const segments = stagingHost.split('.');\n    const first = segments.shift();\n    return `${location.protocol}//${first}-${shortid}.${segments.join('.')}/${path}`;\n};\nexports.frameUrl = (sandbox, append = '', { useFallbackDomain = false, port = undefined, } = {}) => {\n    const path = append.indexOf('/') === 0 ? append.substr(1) : append;\n    const templateIsServer = is_server_1.isServer(sandbox.template);\n    if (process.env.LOCAL_SERVER) {\n        return `http://localhost:3002/${path}`;\n    }\n    if (process.env.STAGING) {\n        return stagingFrameUrl(sandbox.id, path);\n    }\n    let sHost = exports.host();\n    if (`https://${sHost}` in sandboxHost &&\n        !useFallbackDomain &&\n        !templateIsServer) {\n        sHost = sandboxHost[`https://${sHost}`].split('//')[1];\n    }\n    return `${location.protocol}//${sandbox.id}${port ? `-${port}` : ''}.${templateIsServer ? 'sse.' : ''}${sHost}/${path}`;\n};\nexports.forkSandboxUrl = (sandbox) => `${exports.sandboxUrl(sandbox)}/fork`;\nexports.signInPageUrl = (redirectTo) => {\n    let url = `/signin`;\n    if (redirectTo) {\n        url += '?continue=' + redirectTo;\n    }\n    return url;\n};\nexports.signInUrl = (extraScopes = false) => '/auth/github' + (extraScopes ? '?scope=user:email,public_repo' : '');\nexports.signInVercelUrl = () => '/auth/vercel';\nexports.profileUrl = (username) => `/u/${username}`;\nexports.dashboardUrl = () => `/dashboard`;\nexports.exploreUrl = () => `/explore`;\nexports.teamOverviewUrl = (teamId) => `/dashboard/teams/${teamId}`;\nexports.profileSandboxesUrl = (username, page) => `${exports.profileUrl(username)}/sandboxes${page ? `/${page}` : ''}`;\nexports.profileLikesUrl = (username, page) => `${exports.profileUrl(username)}/likes${page ? `/${page}` : ''}`;\nexports.githubRepoUrl = ({ repo, branch, username, path, }) => buildEncodedUri `https://github.com/${username}/${repo}/tree/${branch}/` +\n    path;\nexports.optionsToParameterizedUrl = (options) => {\n    const keyValues = Object.keys(options)\n        .sort()\n        .filter(a => options[a])\n        .map(key => `${encodeURIComponent(key)}=${encodeURIComponent(options[key])}`)\n        .join('&');\n    return keyValues ? `?${keyValues}` : '';\n};\nexports.gitHubToSandboxUrl = (githubUrl) => githubUrl.replace(gitHubPrefix, '/s/github').replace(dotGit, '');\nexports.searchUrl = (query) => `/search${query ? `?query=${query}` : ''}`;\nexports.patronUrl = () => `/patron`;\nexports.curatorUrl = () => `/curator`;\nexports.tosUrl = () => `/legal/terms`;\nexports.privacyUrl = () => `/legal/privacy`;\nfunction getSandboxId() {\n    const csbHost = process.env.CODESANDBOX_HOST;\n    if (process.env.LOCAL_SERVER) {\n        return document.location.hash.replace('#', '');\n    }\n    if (process.env.STAGING) {\n        const segments = csbHost.split('//')[1].split('.');\n        const first = segments.shift();\n        const re = RegExp(`${first}-(.*)\\\\.${segments.join('\\\\.')}`);\n        return document.location.host.match(re)[1];\n    }\n    let result;\n    [csbHost, sandboxHost[csbHost]].filter(Boolean).forEach(tryHost => {\n        const hostRegex = tryHost.replace(/https?:\\/\\//, '').replace(/\\./g, '\\\\.');\n        const sandboxRegex = new RegExp(`(.*)\\\\.${hostRegex}`);\n        const matches = document.location.host.match(sandboxRegex);\n        if (matches) {\n            result = matches[1];\n        }\n    });\n    if (!result) {\n        throw new Error(`Can't detect sandbox ID from the current URL`);\n    }\n    return result;\n}\nexports.getSandboxId = getSandboxId;\nexports.teamInviteLink = (inviteToken) => `${exports.protocolAndHost()}/invite/${inviteToken}`;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.search = exports.createWorkspace = exports.teamInvite = exports.permissionSettings = exports.registrySettings = exports.settings = exports.home = exports.deleted = exports.recents = exports.templates = exports.alwaysOn = exports.repos = exports.drafts = exports.allSandboxes = exports.ALL_SANDBOXES_URL_PREFIX = exports.DASHBOARD_URL_PREFIX = void 0;\nexports.DASHBOARD_URL_PREFIX = '/dashboard';\nexports.ALL_SANDBOXES_URL_PREFIX = `${exports.DASHBOARD_URL_PREFIX}/all`;\nfunction appendTeamIdQueryParam(url, teamId) {\n    if (teamId) {\n        return `${url}?workspace=${teamId}`;\n    }\n    return url;\n}\nfunction sanitizePath(path) {\n    return path\n        .split('/')\n        .map(p => p.split(' ').map(encodeURIComponent).join(' '))\n        .join('/');\n}\nexports.allSandboxes = (path, teamId) => appendTeamIdQueryParam(`${exports.ALL_SANDBOXES_URL_PREFIX}${sanitizePath(path)}`, teamId);\nexports.drafts = (teamId) => appendTeamIdQueryParam(`${exports.DASHBOARD_URL_PREFIX}/drafts`, teamId);\nexports.repos = (teamId) => appendTeamIdQueryParam(`${exports.DASHBOARD_URL_PREFIX}/repositories`, teamId);\nexports.alwaysOn = (teamId) => appendTeamIdQueryParam(`${exports.DASHBOARD_URL_PREFIX}/always-on`, teamId);\nexports.templates = (teamId) => appendTeamIdQueryParam(`${exports.DASHBOARD_URL_PREFIX}/templates`, teamId);\nexports.recents = (teamId) => appendTeamIdQueryParam(`${exports.DASHBOARD_URL_PREFIX}/recent`, teamId);\nexports.deleted = (teamId) => appendTeamIdQueryParam(`${exports.DASHBOARD_URL_PREFIX}/deleted`, teamId);\nexports.home = (teamId) => appendTeamIdQueryParam(`${exports.DASHBOARD_URL_PREFIX}/home`, teamId);\nexports.settings = (teamId) => appendTeamIdQueryParam(`${exports.DASHBOARD_URL_PREFIX}/settings`, teamId);\nexports.registrySettings = (teamId) => appendTeamIdQueryParam(`${exports.DASHBOARD_URL_PREFIX}/settings/npm-registry`, teamId);\nexports.permissionSettings = (teamId) => appendTeamIdQueryParam(`${exports.DASHBOARD_URL_PREFIX}/settings/permissions`, teamId);\nexports.teamInvite = (teamId) => appendTeamIdQueryParam(`${exports.DASHBOARD_URL_PREFIX}/settings/invite`, teamId);\nexports.createWorkspace = (teamId) => appendTeamIdQueryParam(`${exports.DASHBOARD_URL_PREFIX}/settings/new`, teamId);\nexports.search = (query, teamId) => {\n    let searchUrl = appendTeamIdQueryParam(`${exports.DASHBOARD_URL_PREFIX}/search`, teamId);\n    if (searchUrl.includes('?')) {\n        searchUrl += '&';\n    }\n    else {\n        searchUrl += '?';\n    }\n    searchUrl += `query=${query}`;\n    return searchUrl;\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.getTimestamp = void 0;\n// This is .js for preval\nvar versionType = \"DEV\";\nvar versionNumber = Math.floor(1613599177781 / 1000);\nvar shortCommitSha = \"f85518c06\";\n\nvar getTimestamp = function getTimestamp(version) {\n  return +version.split('-')[1];\n};\n\nexports.getTimestamp = getTimestamp;\nvar _default = \"DEV-1613599177-f85518c06\";\nexports[\"default\"] = _default;","// @flow\nimport { actions, dispatch } from 'codesandbox-api';\nimport SandboxError from './sandbox-error';\n\nexport default class DependencyNotFoundError extends SandboxError {\n  constructor(dependencyName: string, fromPath: ?string) {\n    super();\n    this.path = dependencyName;\n\n    const [root, second] = dependencyName.split('/');\n\n    // If the package starts with a @ it's scoped, we should add the second\n    // part of the name in that case\n    const parsedName = root.startsWith('@') ? `${root}/${second}` : root;\n    this.suggestions = [\n      {\n        title: `Add ${parsedName} as dependency`,\n        action: () => {\n          dispatch(actions.source.dependencies.add(parsedName));\n        },\n      },\n    ];\n\n    this.name = 'DependencyNotFoundError';\n    this.message = `Could not find dependency: '${parsedName}'`;\n\n    if (fromPath) {\n      this.message += ` relative to '${fromPath}'`;\n    }\n  }\n  type = 'dependency-not-found';\n  severity = 'error';\n  path: string;\n}\n","// @flow\nimport { dispatch, actions } from 'codesandbox-api';\nimport { getCurrentManager } from 'app/src/sandbox/compile';\nimport type TranspiledModule from 'app/src/sandbox/eval/transpiled-module';\n\nimport type { ErrorRecord } from 'sandbox-hooks/react-error-overlay/utils/errorRegister';\n\ntype TModuleError = Error & {\n  hideLine?: boolean,\n  line?: number,\n  path?: Object,\n  severity?: string,\n  payload?: Object,\n  tModule?: TranspiledModule,\n};\n\nfunction buildErrorMessage(e: TModuleError) {\n  const title = e.name;\n  const message = e.message;\n  let line = null;\n  let column = null;\n  if (!e.hideLine) {\n    // Safari\n    if (e.line != null) {\n      line = e.line;\n\n      // FF\n    } else if (e.lineNumber != null) {\n      line = e.lineNumber;\n\n      // Chrome\n    } else if (e.stack) {\n      const matched = e.stack.match(/<anonymous>:(\\d+):(\\d+)/);\n      if (matched) {\n        line = matched[1];\n        column = matched[2];\n      } else {\n        // Maybe it's a babel transpiler error\n        const babelMatched = e.stack.match(/(\\d+):(\\d+)/);\n        if (babelMatched) {\n          line = babelMatched[1];\n          column = babelMatched[2];\n        }\n      }\n    }\n  }\n\n  return {\n    path: e.tModule ? e.tModule.module.path : e.path,\n    title,\n    message,\n    line: parseInt(line, 10),\n    column: parseInt(column, 10),\n    payload: e.payload || {},\n    severity: e.severity || 'error',\n  };\n}\n\nconst wrappedResolveModule = (manager, path) => {\n  try {\n    return manager && manager.resolveTranspiledModule(path, '/');\n  } catch (e) {\n    return null;\n  }\n};\n\nfunction buildDynamicError(ref: ErrorRecord) {\n  // TODO remove this logic for the SSE handler, move it to something more generic\n  // like a file store\n  const manager = getCurrentManager();\n\n  const relevantFrame = ref.enhancedFrames.find(r =>\n    wrappedResolveModule(\n      manager,\n      (r._originalFileName || r.fileName || '')\n        .replace(location.origin, '')\n        .replace('file://', '')\n    )\n  );\n\n  if (relevantFrame && manager) {\n    const fileName = relevantFrame._originalFileName || relevantFrame.fileName;\n    if (fileName) {\n      const tModule = manager.resolveTranspiledModule(\n        fileName.replace(location.origin, '').replace('file://', ''),\n        '/'\n      );\n\n      if (tModule) {\n        const module = tModule.module;\n        return {\n          type: 'action',\n          action: 'show-error',\n          path: module.parent ? module.parent.path : module.path,\n          title: ref.error.name,\n          message: ref.error.message,\n          line: relevantFrame._originalLineNumber,\n          column: relevantFrame._originalColumnNumber,\n          payload: {},\n          severity: 'error',\n        };\n      }\n    }\n  } else {\n    const error: TModuleError = ref.error;\n    const tModule =\n      error.tModule ||\n      wrappedResolveModule(\n        manager,\n        (error.fileName || '')\n          .replace(location.origin, '')\n          .replace('file://', '')\n      );\n\n    if (tModule) {\n      const newError = {\n        ...buildErrorMessage(error),\n        path: error.fileName,\n        type: 'action',\n        action: 'show-error',\n      };\n\n      return newError;\n    }\n  }\n\n  return null;\n}\n\n/* eslint-disable no-underscore-dangle */\nexport default function showError(ref: ErrorRecord) {\n  const errorToSend = buildDynamicError(ref);\n\n  if (errorToSend) {\n    dispatch(\n      actions.error.show(errorToSend.title, errorToSend.message, {\n        line: errorToSend.line,\n        column: errorToSend.column,\n        path: errorToSend.path,\n        payload: errorToSend.payload,\n      })\n    );\n  } else {\n    // Show based on error\n    actions.error.show(ref.error.name, ref.error.message, {\n      line: ref.error.lineNumber,\n      column: ref.error.columnNumber,\n      path: ref.error.fileName,\n      payload: {},\n    });\n  }\n}\n","// @flow\n\nimport SandboxError from './sandbox-error';\n\nexport default class ModuleNotFoundError extends SandboxError {\n  constructor(path: string, isDependency: boolean, currentPath?: string) {\n    super();\n    this.path = path;\n    this.isDependency = isDependency;\n\n    this.name = 'ModuleNotFoundError';\n    this.message = `Could not find module in path: '${path}'`;\n\n    if (currentPath) {\n      this.message += ` relative to '${currentPath}'`;\n    }\n  }\n  type = 'module-not-found';\n  severity = 'error';\n  path: string;\n  isDependency: boolean;\n}\n","// @flow\nimport type { Module } from '@codesandbox/common/lib/types';\n\ntype Suggestion = {\n  title: string,\n  action: Function,\n};\nconst ErrorClass = Error;\n\nexport default class SandboxError extends ErrorClass {\n  severity: 'error' | 'warning';\n  type: string;\n  module: Module;\n  payload: ?Object;\n  suggestions: Array<Suggestion>;\n\n  suggestions = [];\n\n  constructor(error: ?Error) {\n    super(error ? error.message : null);\n\n    if (error) {\n      this.fileName = error.fileName;\n      this.description = error.description;\n      this.message = error.message;\n      this.name = error.name;\n      this.stack = error.stack;\n      this.number = error.number;\n    }\n  }\n}\n","import { registerErrorTransformer } from 'codesandbox-api';\n\nimport rawReactErrorTransformer from './raw-react-component-error';\n\nconst transformers = [rawReactErrorTransformer];\n\nexport default function registerErrorTransformers() {\n  transformers.forEach(t => registerErrorTransformer(t));\n}\n","import { actions, dispatch } from 'codesandbox-api';\n\nimport { basename } from '@codesandbox/common/lib/utils/path';\n\nfunction findRawModule(module) {\n  const rawModule = Array.from(module.dependencies).find(\n    m => !/\\.([\\w]{2}|[\\w]{3})$/.test(m.module.path)\n  );\n\n  if (rawModule) {\n    return [module, rawModule];\n  }\n\n  // The error is thrown at the root, so we check for children components\n  return Array.from(module.dependencies).reduce((foundResult, m) => {\n    // We already found it, immediately return\n    if (foundResult) return foundResult;\n\n    return findRawModule(m);\n  }, null);\n}\n\n/**\n * This transformer detects raw imports used as React component, when the module\n * is missing a file extension\n *\n * @export\n * @param {Error} error\n * @param {any} module\n * @returns\n */\nexport default function(error: Error, module) {\n  if (\n    error.message.includes(\n      \"Failed to execute 'createElement' on 'Document': The tag name provided \"\n    )\n  ) {\n    const result = findRawModule(module);\n\n    if (result) {\n      const [sourceModule, rawModule] = result;\n      return {\n        name: 'Raw import',\n        message: `It seems like '${basename(\n          sourceModule.module.path\n        )}' is importing a raw module (${basename(rawModule.module.path)})`,\n        suggestions: [\n          {\n            title: `Rename ${basename(rawModule.module.path)} to ${basename(\n              rawModule.module.path\n            )}.js`,\n            action: () => {\n              dispatch(\n                actions.source.modules.rename(\n                  rawModule.module.path,\n                  `${basename(rawModule.module.path)}.js`\n                )\n              );\n            },\n          },\n        ],\n      };\n    }\n  }\n\n  return null;\n}\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nimport {\n  additionalChildStyle,\n  groupElemLeft,\n  groupElemRight,\n  groupStyle,\n} from '../styles';\nimport { consumeEvent } from '../utils/dom/consumeEvent';\nimport { applyStyles } from '../utils/dom/css';\nimport { enableTabClick } from '../utils/dom/enableTabClick';\n\ntype SwitchCallback = (offset: number) => void;\nfunction updateAdditional(\n  document: Document,\n  additionalReference: HTMLDivElement,\n  currentError: number,\n  totalErrors: number,\n  switchCallback: SwitchCallback\n) {\n  if (additionalReference.lastChild) {\n    additionalReference.removeChild(additionalReference.lastChild);\n  }\n\n  if (totalErrors <= 1) {\n    return;\n  }\n\n  const div = document.createElement('div');\n  applyStyles(div, additionalChildStyle);\n\n  const group = document.createElement('span');\n  applyStyles(group, groupStyle);\n\n  const left = document.createElement('button');\n  applyStyles(left, groupElemLeft);\n  left.addEventListener('click', function(e: MouseEvent) {\n    consumeEvent(e);\n    switchCallback(-1);\n  });\n  left.appendChild(document.createTextNode('←'));\n  enableTabClick(left);\n\n  const right = document.createElement('button');\n  applyStyles(right, groupElemRight);\n  right.addEventListener('click', function(e: MouseEvent) {\n    consumeEvent(e);\n    switchCallback(1);\n  });\n  right.appendChild(document.createTextNode('→'));\n  enableTabClick(right);\n\n  group.appendChild(left);\n  group.appendChild(right);\n  div.appendChild(group);\n\n  const text = `${currentError} of ${totalErrors} errors on the page`;\n  div.appendChild(document.createTextNode(text));\n\n  additionalReference.appendChild(div);\n}\n\nexport type { SwitchCallback };\nexport { updateAdditional };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nimport { closeButtonStyle, hintsStyle, hintStyle } from '../styles';\nimport { applyStyles } from '../utils/dom/css';\n\nfunction createHint(document: Document, hint: string, title: string) {\n  const span = document.createElement('span');\n  span.appendChild(document.createTextNode(hint));\n  span.setAttribute('title', title);\n  applyStyles(span, hintStyle);\n  return span;\n}\n\ntype CloseCallback = () => void;\nfunction createClose(document: Document, callback: CloseCallback) {\n  const hints = document.createElement('div');\n  applyStyles(hints, hintsStyle);\n\n  const close = createHint(document, '×', 'Click or press Escape to dismiss.');\n  close.addEventListener('click', () => callback());\n  applyStyles(close, closeButtonStyle);\n  hints.appendChild(close);\n  return hints;\n}\n\nexport type { CloseCallback };\nexport { createClose };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nimport type { ScriptLine } from '../utils/stack-frame';\nimport codeFrame from 'babel-code-frame';\nimport generateAnsiHtml from 'react-dev-utils/ansiHTML';\nimport {\n  codeStyle,\n  primaryErrorStyle,\n  primaryPreStyle,\n  secondaryErrorStyle,\n  secondaryPreStyle,\n} from '../styles';\nimport { applyStyles } from '../utils/dom/css';\n\nfunction createCode(\n  document: Document,\n  sourceLines: ScriptLine[],\n  lineNum: number,\n  columnNum: number | null,\n  contextSize: number,\n  main: boolean,\n  onSourceClick: ?Function\n) {\n  const sourceCode = [];\n  let whiteSpace = Infinity;\n  sourceLines.forEach(function(e) {\n    const { content: text } = e;\n    const m = text.match(/^\\s*/);\n    if (text === '') {\n      return;\n    }\n    if (m && m[0]) {\n      whiteSpace = Math.min(whiteSpace, m[0].length);\n    } else {\n      whiteSpace = 0;\n    }\n  });\n  sourceLines.forEach(function(e) {\n    let { content: text } = e;\n    const { lineNumber: line } = e;\n\n    if (isFinite(whiteSpace)) {\n      text = text.substring(whiteSpace);\n    }\n    sourceCode[line - 1] = text;\n  });\n  const ansiHighlight = codeFrame(\n    sourceCode.join('\\n'),\n    lineNum,\n    columnNum == null ? 0 : columnNum - (isFinite(whiteSpace) ? whiteSpace : 0),\n    {\n      forceColor: true,\n      linesAbove: contextSize,\n      linesBelow: contextSize,\n    }\n  );\n  const htmlHighlight = generateAnsiHtml(ansiHighlight);\n  const code = document.createElement('code');\n  code.innerHTML = htmlHighlight;\n  applyStyles(code, codeStyle);\n\n  const ccn = code.childNodes;\n  // eslint-disable-next-line\n  oLoop: for (let index = 0; index < ccn.length; ++index) {\n    const node = ccn[index];\n    const ccn2 = node.childNodes;\n    for (let index2 = 0; index2 < ccn2.length; ++index2) {\n      const lineNode = ccn2[index2];\n      const text = lineNode.innerText;\n      if (text == null) {\n        continue;\n      }\n      if (text.indexOf(' ' + lineNum + ' |') === -1) {\n        continue;\n      }\n      // $FlowFixMe\n      applyStyles(node, main ? primaryErrorStyle : secondaryErrorStyle);\n      // eslint-disable-next-line\n      break oLoop;\n    }\n  }\n  const pre = document.createElement('pre');\n  applyStyles(pre, main ? primaryPreStyle : secondaryPreStyle);\n  pre.appendChild(code);\n\n  if (typeof onSourceClick === 'function') {\n    let handler = onSourceClick;\n    pre.style.cursor = 'pointer';\n    pre.addEventListener('click', function() {\n      handler();\n    });\n  }\n\n  return pre;\n}\n\nexport { createCode };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nimport { footerStyle } from '../styles';\nimport { applyStyles } from '../utils/dom/css';\n\nfunction createFooter(document: Document) {\n  const div = document.createElement('div');\n  applyStyles(div, footerStyle);\n  div.appendChild(\n    document.createTextNode(\n      'This screen is visible only in development. It will not appear if the app crashes in production.'\n    )\n  );\n  div.appendChild(document.createElement('br'));\n  div.appendChild(\n    document.createTextNode(\n      'Open your browser’s developer console to further inspect this error.'\n    )\n  );\n  div.appendChild(document.createElement('br'));\n  div.appendChild(\n    document.createTextNode(\n      'This error overlay is powered by `react-error-overlay` used in `create-react-app`.'\n    )\n  );\n  return div;\n}\n\nexport { createFooter };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nimport { getCurrentManager } from 'app/src/sandbox/compile';\nimport { actions, dispatch } from 'codesandbox-api';\nimport {\n  anchorStyle,\n  depStyle,\n  functionNameStyle,\n  hiddenStyle,\n  linkStyle,\n  omittedFramesCollapsedStyle,\n  omittedFramesExpandedStyle,\n} from '../styles';\nimport { applyStyles } from '../utils/dom/css';\nimport { enableTabClick } from '../utils/dom/enableTabClick';\nimport { isInternalFile } from '../utils/isInternalFile';\nimport { createCode } from './code';\nimport type { StackFrame } from '../utils/stack-frame';\nimport type { FrameSetting, OmitsObject } from './frames';\n\nfunction getGroupToggle(\n  document: Document,\n  omitsCount: number,\n  omitBundle: number\n) {\n  const omittedFrames = document.createElement('div');\n  enableTabClick(omittedFrames);\n  const text1 = document.createTextNode(\n    '\\u25B6 ' + omitsCount + ' stack frames were collapsed.'\n  );\n  omittedFrames.appendChild(text1);\n  omittedFrames.addEventListener('click', function() {\n    const hide = text1.textContent.match(/▲/);\n    const list = document.getElementsByName('bundle-' + omitBundle);\n    for (let index = 0; index < list.length; ++index) {\n      const n = list[index];\n      if (hide) {\n        n.style.display = 'none';\n      } else {\n        n.style.display = '';\n      }\n    }\n    if (hide) {\n      text1.textContent = text1.textContent.replace(/▲/, '▶');\n      text1.textContent = text1.textContent.replace(/expanded/, 'collapsed');\n      applyStyles(omittedFrames, omittedFramesCollapsedStyle);\n    } else {\n      text1.textContent = text1.textContent.replace(/▶/, '▲');\n      text1.textContent = text1.textContent.replace(/collapsed/, 'expanded');\n      applyStyles(omittedFrames, omittedFramesExpandedStyle);\n    }\n  });\n  applyStyles(omittedFrames, omittedFramesCollapsedStyle);\n  return omittedFrames;\n}\n\nfunction insertBeforeBundle(\n  document: Document,\n  parent: Node,\n  omitsCount: number,\n  omitBundle: number,\n  actionElement\n) {\n  const children = document.getElementsByName('bundle-' + omitBundle);\n  if (children.length < 1) {\n    return;\n  }\n  let first: ?Node = children[0];\n  while (first != null && first.parentNode !== parent) {\n    first = first.parentNode;\n  }\n  const div = document.createElement('div');\n  enableTabClick(div);\n  div.setAttribute('name', 'bundle-' + omitBundle);\n  const text = document.createTextNode(\n    '\\u25BC ' + omitsCount + ' stack frames were expanded.'\n  );\n  div.appendChild(text);\n  div.addEventListener('click', function() {\n    return actionElement.click();\n  });\n  applyStyles(div, omittedFramesExpandedStyle);\n  div.style.display = 'none';\n\n  parent.insertBefore(div, first);\n}\n\nfunction frameDiv(\n  document: Document,\n  functionName,\n  url,\n  internalUrl,\n  onSourceClick: ?Function\n) {\n  const frame = document.createElement('div');\n  const frameFunctionName = document.createElement('div');\n\n  let cleanedFunctionName;\n  if (!functionName || functionName === 'Object.<anonymous>') {\n    cleanedFunctionName = '(anonymous function)';\n  } else {\n    cleanedFunctionName = functionName;\n  }\n\n  const cleanedUrl = url.replace('webpack://', '.');\n\n  if (internalUrl) {\n    applyStyles(\n      frameFunctionName,\n      Object.assign({}, functionNameStyle, depStyle)\n    );\n  } else {\n    applyStyles(frameFunctionName, functionNameStyle);\n  }\n\n  frameFunctionName.appendChild(document.createTextNode(cleanedFunctionName));\n  frame.appendChild(frameFunctionName);\n\n  const frameLink = document.createElement('div');\n  applyStyles(frameLink, linkStyle);\n  const frameAnchor = document.createElement('a');\n  applyStyles(frameAnchor, anchorStyle);\n  frameAnchor.appendChild(document.createTextNode(cleanedUrl));\n  frameLink.appendChild(frameAnchor);\n  frame.appendChild(frameLink);\n\n  if (typeof onSourceClick === 'function') {\n    let handler = onSourceClick;\n    enableTabClick(frameAnchor);\n    frameAnchor.style.cursor = 'pointer';\n    frameAnchor.addEventListener('click', function() {\n      handler();\n    });\n  }\n\n  return frame;\n}\n\nfunction isBultinErrorName(errorName: ?string) {\n  switch (errorName) {\n    case 'EvalError':\n    case 'InternalError':\n    case 'RangeError':\n    case 'ReferenceError':\n    case 'SyntaxError':\n    case 'TypeError':\n    case 'URIError':\n      return true;\n    default:\n      return false;\n  }\n}\n\nfunction getPrettyURL(\n  sourceFileName: ?string,\n  sourceLineNumber: ?number,\n  sourceColumnNumber: ?number,\n  fileName: ?string,\n  lineNumber: ?number,\n  columnNumber: ?number,\n  compiled: boolean\n): string {\n  let prettyURL;\n  if (!compiled && sourceFileName && typeof sourceLineNumber === 'number') {\n    // Remove everything up to the first /src/ or /node_modules/\n    const trimMatch = /^[/|\\\\].*?[/|\\\\]((src|node_modules)[/|\\\\].*)/.exec(\n      sourceFileName\n    );\n    if (trimMatch && trimMatch[1]) {\n      prettyURL = trimMatch[1];\n    } else {\n      prettyURL = sourceFileName;\n    }\n    prettyURL += ':' + sourceLineNumber;\n    // Note: we intentionally skip 0's because they're produced by cheap Webpack maps\n    if (sourceColumnNumber) {\n      prettyURL += ':' + sourceColumnNumber;\n    }\n  } else if (fileName && typeof lineNumber === 'number') {\n    prettyURL = fileName + ':' + lineNumber;\n    // Note: we intentionally skip 0's because they're produced by cheap Webpack maps\n    if (columnNumber) {\n      prettyURL += ':' + columnNumber;\n    }\n  } else {\n    prettyURL = 'unknown';\n  }\n  return prettyURL;\n}\n\nfunction createFrame(\n  document: Document,\n  frameSetting: FrameSetting,\n  frame: StackFrame,\n  contextSize: number,\n  critical: boolean,\n  omits: OmitsObject,\n  omitBundle: number,\n  parentContainer: HTMLDivElement,\n  lastElement: boolean,\n  errorName: ?string\n) {\n  const { compiled } = frameSetting;\n  let { functionName, _originalFileName: sourceFileName } = frame;\n  const {\n    fileName,\n    lineNumber,\n    columnNumber,\n    _scriptCode: scriptLines,\n    _originalLineNumber: sourceLineNumber,\n    _originalColumnNumber: sourceColumnNumber,\n    _originalScriptCode: sourceLines,\n  } = frame;\n\n  // TODO: find a better place for this.\n  // Chrome has a bug with inferring function.name:\n  // https://github.com/facebookincubator/create-react-app/issues/2097\n  // Let's ignore a meaningless name we get for top-level modules.\n  if (\n    functionName === 'Object.friendlySyntaxErrorLabel' ||\n    functionName === 'Object.exports.__esModule'\n  ) {\n    functionName = '(anonymous function)';\n  }\n\n  const prettyURL = getPrettyURL(\n    sourceFileName,\n    sourceLineNumber,\n    sourceColumnNumber,\n    fileName,\n    lineNumber,\n    columnNumber,\n    compiled\n  );\n\n  let needsHidden = false;\n  const isInternalUrl = isInternalFile(sourceFileName, fileName);\n  const isThrownIntentionally = !isBultinErrorName(errorName);\n  const shouldCollapse =\n    isInternalUrl && (isThrownIntentionally || omits.hasReachedAppCode);\n\n  if (!isInternalUrl) {\n    omits.hasReachedAppCode = true;\n  }\n\n  if (shouldCollapse) {\n    ++omits.value;\n    needsHidden = true;\n  }\n\n  let collapseElement = null;\n  if (!shouldCollapse || lastElement) {\n    if (omits.value > 0) {\n      const capV = omits.value;\n      const omittedFrames = getGroupToggle(document, capV, omitBundle);\n      window.requestAnimationFrame(() => {\n        insertBeforeBundle(\n          document,\n          parentContainer,\n          capV,\n          omitBundle,\n          omittedFrames\n        );\n      });\n      if (lastElement && shouldCollapse) {\n        collapseElement = omittedFrames;\n      } else {\n        parentContainer.appendChild(omittedFrames);\n      }\n      ++omits.bundle;\n    }\n    omits.value = 0;\n  }\n\n  let onSourceClick = null;\n  if (sourceFileName) {\n    // e.g. \"/path-to-my-app/webpack/bootstrap eaddeb46b67d75e4dfc1\"\n    const isInternalWebpackBootstrapCode =\n      sourceFileName.trim().indexOf(' ') !== -1;\n    if (!isInternalWebpackBootstrapCode) {\n      onSourceClick = () => {\n        const manager = getCurrentManager();\n        if (manager) {\n          const tModule = manager.resolveTranspiledModule(\n            sourceFileName.replace(location.origin, '').replace('file://', ''),\n            '/'\n          );\n\n          dispatch(\n            actions.editor.openModule(\n              // A module has a parent when it has been generated by a module,\n              // Vue is an example of this: SFC's generate submodules\n              tModule.module.parent\n                ? tModule.module.parent.path\n                : tModule.module.path,\n              window.encodeURIComponent(sourceLineNumber || 1)\n            )\n          );\n        }\n      };\n    }\n  }\n\n  const elem = frameDiv(\n    document,\n    functionName,\n    prettyURL,\n    shouldCollapse,\n    onSourceClick\n  );\n  if (needsHidden) {\n    applyStyles(elem, hiddenStyle);\n    elem.setAttribute('name', 'bundle-' + omitBundle);\n  }\n\n  let hasSource = false;\n  if (!shouldCollapse) {\n    if (\n      compiled &&\n      scriptLines &&\n      scriptLines.length !== 0 &&\n      lineNumber != null\n    ) {\n      elem.appendChild(\n        createCode(\n          document,\n          scriptLines,\n          lineNumber,\n          columnNumber,\n          contextSize,\n          critical,\n          onSourceClick\n        )\n      );\n      hasSource = true;\n    } else if (\n      !compiled &&\n      sourceLines &&\n      sourceLines.length !== 0 &&\n      sourceLineNumber != null\n    ) {\n      elem.appendChild(\n        createCode(\n          document,\n          sourceLines,\n          sourceLineNumber,\n          sourceColumnNumber,\n          contextSize,\n          critical,\n          onSourceClick\n        )\n      );\n      hasSource = true;\n    }\n  }\n\n  return { elem: elem, hasSource: hasSource, collapseElement: collapseElement };\n}\n\nexport { createFrame };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nimport type { StackFrame } from '../utils/stack-frame';\nimport { applyStyles } from '../utils/dom/css';\nimport { traceStyle, toggleStyle } from '../styles';\nimport { enableTabClick } from '../utils/dom/enableTabClick';\nimport { createFrame } from './frame';\n\ntype OmitsObject = {\n  value: number,\n  bundle: number,\n  hasReachedAppCode: boolean,\n};\ntype FrameSetting = { compiled: boolean };\nexport type { OmitsObject, FrameSetting };\n\nfunction createFrameWrapper(\n  document: Document,\n  parent: HTMLDivElement,\n  factory,\n  lIndex: number,\n  frameSettings: FrameSetting[],\n  contextSize: number\n) {\n  const fac = factory();\n  if (fac == null) {\n    return;\n  }\n  const { hasSource, elem, collapseElement } = fac;\n\n  const elemWrapper = document.createElement('div');\n  elemWrapper.appendChild(elem);\n\n  if (hasSource) {\n    const compiledDiv = document.createElement('div');\n    enableTabClick(compiledDiv);\n    applyStyles(compiledDiv, toggleStyle);\n\n    const o = frameSettings[lIndex];\n    const compiledText = document.createTextNode(\n      'View ' + (o && o.compiled ? 'source' : 'compiled')\n    );\n    compiledDiv.addEventListener('click', function() {\n      if (o) {\n        o.compiled = !o.compiled;\n      }\n\n      const next = createFrameWrapper(\n        document,\n        parent,\n        factory,\n        lIndex,\n        frameSettings,\n        contextSize\n      );\n      if (next != null) {\n        parent.insertBefore(next, elemWrapper);\n        parent.removeChild(elemWrapper);\n      }\n    });\n    compiledDiv.appendChild(compiledText);\n    elemWrapper.appendChild(compiledDiv);\n  }\n\n  if (collapseElement != null) {\n    elemWrapper.appendChild(collapseElement);\n  }\n\n  return elemWrapper;\n}\n\nfunction createFrames(\n  document: Document,\n  resolvedFrames: StackFrame[],\n  frameSettings: FrameSetting[],\n  contextSize: number,\n  errorName: ?string\n) {\n  if (resolvedFrames.length !== frameSettings.length) {\n    throw new Error(\n      'You must give a frame settings array of identical length to resolved frames.'\n    );\n  }\n  const trace = document.createElement('div');\n  applyStyles(trace, traceStyle);\n\n  let index = 0;\n  let critical = true;\n  const omits: OmitsObject = { value: 0, bundle: 1, hasReachedAppCode: false };\n  resolvedFrames.forEach(function(frame) {\n    const lIndex = index++;\n    const elem = createFrameWrapper(\n      document,\n      trace,\n      createFrame.bind(\n        undefined,\n        document,\n        frameSettings[lIndex],\n        frame,\n        contextSize,\n        critical,\n        omits,\n        omits.bundle,\n        trace,\n        index === resolvedFrames.length,\n        errorName\n      ),\n      lIndex,\n      frameSettings,\n      contextSize\n    );\n    if (elem == null) {\n      return;\n    }\n    critical = false;\n    trace.appendChild(elem);\n  });\n  //TODO: fix this\n  omits.value = 0;\n\n  return trace;\n}\n\nexport { createFrames };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nimport { areActionsEnabled } from 'app/src/sandbox/compile';\nimport {\n  containerStyle,\n  headerStyle,\n  messageHeaderStyle,\n  originalHeaderStyle,\n  originalMessageHeaderStyle,\n  overlayStyle,\n} from '../styles';\nimport { applyStyles } from '../utils/dom/css';\nimport { updateAdditional } from './additional';\nimport { createClose } from './close';\nimport { createFooter } from './footer';\nimport { createFrames } from './frames';\nimport { createSuggestions } from './suggestions';\nimport type { CloseCallback } from './close';\nimport type { StackFrame } from '../utils/stack-frame';\nimport type { FrameSetting } from './frames';\nimport type { SwitchCallback } from './additional';\n\nfunction createOverlay(\n  document: Document,\n  error: Error,\n  name: ?string,\n  message: string,\n  frames: StackFrame[],\n  contextSize: number,\n  currentError: number,\n  totalErrors: number,\n  switchCallback: SwitchCallback,\n  closeCallback: CloseCallback\n): {\n  overlay: HTMLDivElement,\n  additional: HTMLDivElement,\n} {\n  const frameSettings: FrameSetting[] = frames.map(() => ({ compiled: false }));\n  // Create overlay\n  const overlay = document.createElement('div');\n  applyStyles(overlay, overlayStyle);\n\n  // Create container\n  const container = document.createElement('div');\n  applyStyles(container, containerStyle);\n  overlay.appendChild(container);\n  container.appendChild(createClose(document, closeCallback));\n\n  // Create \"Errors X of Y\" in case of multiple errors\n  const additional = document.createElement('div');\n  updateAdditional(\n    document,\n    additional,\n    currentError,\n    totalErrors,\n    switchCallback\n  );\n  container.appendChild(additional);\n\n  // Create header\n  const header = document.createElement('div');\n  applyStyles(header, headerStyle);\n\n  const messageHeader = document.createElement('div');\n  applyStyles(messageHeader, messageHeaderStyle);\n\n  // Make message prettier\n  let finalMessage = message;\n\n  finalMessage = finalMessage\n    // TODO: maybe remove this prefix from fbjs?\n    // It's just scaring people\n    .replace(/^Invariant Violation:\\s*/, '')\n    // This is not helpful either:\n    .replace(/^Warning:\\s*/, '')\n    // Break the actionable part to the next line.\n    // AFAIK React 16+ should already do this.\n    .replace(' Check the render method', '\\n\\nCheck the render method')\n    .replace(' Check your code at', '\\n\\nCheck your code at');\n\n  // Put it in the DOM\n  header.appendChild(document.createTextNode(name || ''));\n  messageHeader.appendChild(document.createTextNode(finalMessage));\n\n  container.appendChild(header);\n  container.appendChild(messageHeader);\n\n  // If the error has been transformed\n  if (error.originalName || error.originalMessage) {\n    const originalErrorContainer = document.createElement('div');\n    const errorHeader = document.createElement('div');\n    applyStyles(errorHeader, originalHeaderStyle);\n    errorHeader.appendChild(document.createTextNode('Original error:'));\n    originalErrorContainer.appendChild(errorHeader);\n\n    // Create header\n    const originalMessageHeader = document.createElement('div');\n    applyStyles(originalMessageHeader, originalMessageHeaderStyle);\n\n    originalMessageHeader.appendChild(\n      document.createTextNode(\n        `${error.originalName || ''}: ${error.originalMessage}`\n      )\n    );\n\n    originalErrorContainer.appendChild(originalMessageHeader);\n    messageHeader.appendChild(originalErrorContainer);\n  }\n\n  if (\n    areActionsEnabled() &&\n    error.suggestions &&\n    error.suggestions.length > 0\n  ) {\n    container.appendChild(createSuggestions(error));\n  }\n\n  // Create trace\n  container.appendChild(\n    createFrames(document, frames, frameSettings, contextSize, name)\n  );\n\n  // Show message\n  container.appendChild(createFooter(document));\n\n  return {\n    overlay,\n    additional,\n  };\n}\n\nexport { createOverlay };\n","import { applyStyles } from '../utils/dom/css';\nimport {\n  suggestionsContainerStyle,\n  suggestionsTitleStyle,\n  suggestionsButtonStyle,\n} from '../styles';\n\nexport function createSuggestions(error: SandboxError) {\n  const container = document.createElement('div');\n\n  applyStyles(container, suggestionsContainerStyle);\n\n  const title = document.createElement('div');\n  title.appendChild(document.createTextNode('Suggested solutions:'));\n  applyStyles(title, suggestionsTitleStyle);\n  container.appendChild(title);\n\n  error.suggestions.forEach(suggestion => {\n    const button = document.createElement('button');\n    button.appendChild(document.createTextNode(suggestion.title));\n    button.setAttribute('onmouseover', 'this.style.backgroundColor=\"#78CDF7\"');\n    button.setAttribute(\n      'onmouseout',\n      `this.style.backgroundColor=\"${suggestionsButtonStyle['background-color']}\"`\n    );\n    applyStyles(button, suggestionsButtonStyle);\n\n    button.addEventListener('click', e => {\n      e.preventDefault();\n      suggestion.action();\n    });\n\n    container.appendChild(button);\n  });\n\n  return container;\n}\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/* @flow */\n\ntype ReactFrame = {\n  fileName: string | null,\n  lineNumber: number | null,\n  name: string | null,\n};\nconst reactFrameStack: Array<ReactFrame[]> = [];\n\nexport type { ReactFrame };\n\n// This is a stripped down barebones version of this proposal:\n// https://gist.github.com/sebmarkbage/bdefa100f19345229d526d0fdd22830f\n// We're implementing just enough to get the invalid element type warnings\n// to display the component stack in React 15.6+:\n// https://github.com/facebook/react/pull/9679\n// / TODO: a more comprehensive implementation.\n\nconst registerReactStack = () => {\n  if (typeof console !== 'undefined') {\n    // $FlowFixMe\n    console.reactStack = frames => reactFrameStack.push(frames);\n    // $FlowFixMe\n    console.reactStackEnd = frames => reactFrameStack.pop();\n  }\n};\n\nconst unregisterReactStack = () => {\n  if (typeof console !== 'undefined') {\n    // $FlowFixMe\n    console.reactStack = undefined;\n    // $FlowFixMe\n    console.reactStackEnd = undefined;\n  }\n};\n\ntype ConsoleProxyCallback = (message: string, frames: ReactFrame[]) => void;\nconst permanentRegister = function proxyConsole(\n  type: string,\n  callback: ConsoleProxyCallback\n) {\n  if (typeof console !== 'undefined') {\n    const orig = console[type];\n    if (typeof orig === 'function') {\n      console[type] = function __stack_frame_overlay_proxy_console__() {\n        try {\n          const message = arguments[0];\n          if (typeof message === 'string' && reactFrameStack.length > 0) {\n            callback(message, reactFrameStack[reactFrameStack.length - 1]);\n          }\n        } catch (err) {\n          // Warnings must never crash. Rethrow with a clean stack.\n          setTimeout(function() {\n            throw err;\n          });\n        }\n        return orig.apply(this, arguments);\n      };\n    }\n  }\n};\n\nexport { permanentRegister, registerReactStack, unregisterReactStack };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nlet stackTraceRegistered: boolean = false;\n// Default: https://docs.microsoft.com/en-us/scripting/javascript/reference/stacktracelimit-property-error-javascript\nlet restoreStackTraceValue: number = 10;\n\nconst MAX_STACK_LENGTH: number = 50;\n\nfunction registerStackTraceLimit(limit: number = MAX_STACK_LENGTH) {\n  if (stackTraceRegistered) {\n    return;\n  }\n  try {\n    restoreStackTraceValue = Error.stackTraceLimit;\n    Error.stackTraceLimit = limit;\n    stackTraceRegistered = true;\n  } catch (e) {\n    // Not all browsers support this so we don't care if it errors\n  }\n}\n\nfunction unregisterStackTraceLimit() {\n  if (!stackTraceRegistered) {\n    return;\n  }\n  try {\n    Error.stackTraceLimit = restoreStackTraceValue;\n    stackTraceRegistered = false;\n  } catch (e) {\n    // Not all browsers support this so we don't care if it errors\n  }\n}\n\nexport {\n  registerStackTraceLimit as register,\n  unregisterStackTraceLimit as unregister,\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nlet boundErrorHandler = null;\n\ntype ErrorCallback = (error: Error) => void;\n\nfunction errorHandler(callback: ErrorCallback, e: Event): void {\n  if (!e.error) {\n    return;\n  }\n  // $FlowFixMe\n  const { error } = e;\n  if (error instanceof Error) {\n    callback(error);\n  } else {\n    // A non-error was thrown, we don't have a trace. :(\n    // Look in your browser's devtools for more information\n    callback(new Error(error));\n  }\n}\n\nfunction registerUnhandledError(target: EventTarget, callback: ErrorCallback) {\n  if (boundErrorHandler !== null) {\n    // Always add the listener, in case we rewrote the window\n    target.addEventListener('error', boundErrorHandler);\n    return;\n  }\n  boundErrorHandler = errorHandler.bind(undefined, callback);\n}\n\nfunction unregisterUnhandledError(target: EventTarget) {\n  if (boundErrorHandler === null) {\n    return;\n  }\n  target.removeEventListener('error', boundErrorHandler);\n  boundErrorHandler = null;\n}\n\nexport {\n  registerUnhandledError as register,\n  unregisterUnhandledError as unregister,\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nlet boundRejectionHandler = null;\n\ntype ErrorCallback = (error: Error) => void;\n\nfunction rejectionHandler(\n  callback: ErrorCallback,\n  e: PromiseRejectionEvent\n): void {\n  if (e == null || e.reason == null) {\n    return callback(new Error('Unknown'));\n  }\n  const { reason } = e;\n  if (reason instanceof Error) {\n    return callback(reason);\n  }\n  // A non-error was rejected, we don't have a trace :(\n  // Look in your browser's devtools for more information\n  return callback(new Error(reason));\n}\n\nfunction registerUnhandledRejection(\n  target: EventTarget,\n  callback: ErrorCallback\n) {\n  if (boundRejectionHandler !== null) {\n    // Always add the listener, in case we rewrote the window\n    // $FlowFixMe\n    target.addEventListener('unhandledrejection', boundRejectionHandler);\n    return;\n  }\n  boundRejectionHandler = rejectionHandler.bind(undefined, callback);\n}\n\nfunction unregisterUnhandledRejection(target: EventTarget) {\n  if (boundRejectionHandler === null) {\n    return;\n  }\n  // $FlowFixMe\n  target.removeEventListener('unhandledrejection', boundRejectionHandler);\n  boundRejectionHandler = null;\n}\n\nexport {\n  registerUnhandledRejection as register,\n  unregisterUnhandledRejection as unregister,\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport {\n  register as registerError,\n  unregister as unregisterError,\n} from './effects/unhandledError';\nimport {\n  register as registerPromise,\n  unregister as unregisterPromise,\n} from './effects/unhandledRejection';\nimport {\n  register as registerStackTraceLimit,\n  unregister as unregisterStackTraceLimit,\n} from './effects/stackTraceLimit';\nimport {\n  permanentRegister as permanentRegisterConsole,\n  registerReactStack,\n  unregisterReactStack,\n} from './effects/proxyConsole';\nimport { massage as massageWarning } from './utils/warnings';\nimport getStackFrames from './utils/getStackFrames';\n\nimport type { StackFrame } from './utils/stack-frame';\n\nconst CONTEXT_SIZE: number = 3;\n\nexport type ErrorRecord = {|\n  error: Error,\n  unhandledRejection: boolean,\n  contextSize: number,\n  stackFrames: StackFrame[],\n|};\n\nexport const crashWithFrames = (crash: ErrorRecord => void) => (\n  error: Error,\n  unhandledRejection = false\n) => {\n  getStackFrames(error, unhandledRejection, CONTEXT_SIZE)\n    .then(stackFrames => {\n      crash({\n        error,\n        unhandledRejection,\n        contextSize: CONTEXT_SIZE,\n        stackFrames,\n      });\n    })\n    .catch(e => {\n      console.log('Could not get the stack frames of error:', e);\n    });\n};\n\nexport function listenToRuntimeErrors(\n  crash: ErrorRecord => void,\n  filename: string = '/static/js/bundle.js'\n) {\n  const crashWithFramesRunTime = crashWithFrames(crash);\n\n  registerError(window, error => crashWithFramesRunTime(error, false));\n  registerPromise(window, error => crashWithFramesRunTime(error, true));\n  registerStackTraceLimit();\n  registerReactStack();\n  permanentRegisterConsole('error', (warning, stack) => {\n    const data = massageWarning(warning, stack);\n    crashWithFramesRunTime(\n      // $FlowFixMe\n      {\n        message: data.message,\n        stack: data.stack,\n        __unmap_source: filename,\n      },\n      false\n    );\n  });\n\n  return function stopListening() {\n    unregisterStackTraceLimit();\n    unregisterPromise(window);\n    unregisterError(window);\n    unregisterReactStack();\n  };\n}\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nimport { transformError } from 'codesandbox-api';\nimport { getCurrentManager } from 'app/src/sandbox/compile';\n\nimport { listenToRuntimeErrors } from './listenToRuntimeErrors';\n\nimport {\n  consume as consumeError,\n  getErrorRecord,\n  drain as drainErrors,\n} from './utils/errorRegister';\nimport type { ErrorRecordReference } from './utils/errorRegister';\n\nimport type { StackFrame } from './utils/stack-frame';\nimport { iframeStyle } from './styles';\nimport { applyStyles } from './utils/dom/css';\nimport { createOverlay } from './components/overlay';\nimport { updateAdditional } from './components/additional';\n\nimport buildError from '../errors';\n\nconst CONTEXT_SIZE: number = 3;\nlet iframeReference: HTMLIFrameElement | null = null;\nlet additionalReference = null;\nlet errorReferences: ErrorRecordReference[] = [];\nlet currReferenceIndex: number = -1;\n\nfunction render(\n  name: ?string,\n  message: string,\n  resolvedFrames: StackFrame[],\n  error\n) {\n  disposeCurrentView();\n\n  const iframe = window.document.createElement('iframe');\n  applyStyles(iframe, iframeStyle);\n  iframeReference = iframe;\n  iframe.onload = () => {\n    if (iframeReference == null) {\n      return;\n    }\n    const w = iframeReference.contentWindow;\n    const document = iframeReference.contentDocument;\n\n    const { overlay, additional } = createOverlay(\n      document,\n      error,\n      name,\n      message,\n      resolvedFrames,\n      CONTEXT_SIZE,\n      currReferenceIndex + 1,\n      errorReferences.length,\n      offset => {\n        switchError(offset);\n      },\n      () => {\n        unmount();\n      }\n    );\n    if (w != null) {\n      w.onkeydown = event => {\n        keyEventHandler(type => shortcutHandler(type), event);\n      };\n    }\n    if (document.body != null) {\n      document.body.style.margin = '0';\n      // Keep popup within body boundaries for iOS Safari\n      // $FlowFixMe\n      document.body.style['max-width'] = '100vw';\n\n      (document.body: any).appendChild(overlay);\n    }\n    additionalReference = additional;\n  };\n  window.document.body.appendChild(iframe);\n}\n\nfunction renderErrorByIndex(index: number) {\n  currReferenceIndex = index;\n\n  const { error, unhandledRejection, enhancedFrames } = getErrorRecord(\n    errorReferences[index]\n  );\n\n  if (unhandledRejection) {\n    render(\n      'Unhandled Rejection (' + error.name + ')',\n      error.message,\n      enhancedFrames,\n      error\n    );\n  } else {\n    render(error.name, error.message, enhancedFrames, error);\n  }\n}\n\nfunction switchError(offset) {\n  if (errorReferences.length === 0) {\n    return;\n  }\n\n  let nextView = currReferenceIndex + offset;\n\n  if (nextView < 0) {\n    nextView = errorReferences.length - 1;\n  } else if (nextView >= errorReferences.length) {\n    nextView = 0;\n  }\n\n  renderErrorByIndex(nextView);\n}\n\nfunction disposeCurrentView(force: boolean) {\n  // CodeSandbox already resets this, only do this if force is on\n  if (force) {\n    if (iframeReference == null) {\n      return;\n    }\n    try {\n      window.document.body.removeChild(iframeReference);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n  iframeReference = null;\n  additionalReference = null;\n}\n\nfunction unmount(force: boolean = true) {\n  disposeCurrentView(force);\n  drainErrors();\n  errorReferences = [];\n  currReferenceIndex = -1;\n}\n\nfunction sendErrorsToEditor() {\n  errorReferences.forEach(ref => {\n    const error = getErrorRecord(ref);\n    buildError(error);\n  });\n}\n\n/**\n * Transforms the error with give transformers to codesandbox-api, this adds\n * suggestions and can alter the error name + message.\n */\nfunction transformErrors() {\n  const manager = getCurrentManager();\n  if (manager) {\n    errorReferences.forEach(ref => {\n      const errRef = getErrorRecord(ref);\n\n      const relevantFrame = errRef.enhancedFrames.find(r => {\n        try {\n          return (\n            manager &&\n            !!manager.resolveTranspiledModule(\n              (r._originalFileName || r.fileName || '').replace(\n                location.origin,\n                ''\n              ),\n              '/'\n            )\n          );\n        } catch (e) {\n          /* don't do anything */\n          return false;\n        }\n      });\n\n      let { tModule } = errRef.error;\n\n      if (!tModule && relevantFrame) {\n        const fileName =\n          relevantFrame._originalFileName || relevantFrame.fileName || '';\n        tModule = manager.resolveTranspiledModule(\n          fileName.replace(location.origin, ''),\n          '/'\n        );\n      }\n\n      if (!tModule) {\n        return;\n      }\n\n      try {\n        const transformation = transformError(\n          errRef.error,\n          tModule,\n          manager.getTranspiledModules()\n        );\n\n        if (transformation) {\n          const newError = new Error(transformation.name || errRef.error.name);\n          newError.message = transformation.message;\n          newError.suggestions = transformation.suggestions;\n          newError.originalName = errRef.error.name;\n          newError.originalMessage = errRef.error.message;\n          errRef.error = newError;\n        }\n      } catch (ex) {\n        /* just catch */\n        console.error(ex);\n      }\n    });\n  }\n}\n\nfunction crash(error: Error, unhandledRejection = false) {\n  if (module.hot && typeof module.hot.decline === 'function') {\n    module.hot.decline();\n  }\n\n  consumeError(error, unhandledRejection, CONTEXT_SIZE)\n    .then(ref => {\n      if (ref == null) {\n        return;\n      }\n\n      errorReferences.push(ref);\n\n      sendErrorsToEditor();\n      transformErrors();\n      if (iframeReference !== null && additionalReference !== null) {\n        updateAdditional(\n          iframeReference.contentDocument,\n          additionalReference,\n          currReferenceIndex + 1,\n          errorReferences.length,\n          offset => {\n            switchError(offset);\n          }\n        );\n      } else {\n        if (errorReferences.length !== 1) {\n          throw new Error('Something is *really* wrong.');\n        }\n        renderErrorByIndex((currReferenceIndex = 0));\n      }\n    })\n    .catch(e => {\n      console.log('Could not consume error:', e);\n    });\n}\n\nfunction shortcutHandler(type: string) {\n  switch (type) {\n    case SHORTCUT_ESCAPE: {\n      unmount();\n      break;\n    }\n    case SHORTCUT_LEFT: {\n      switchError(-1);\n      break;\n    }\n    case SHORTCUT_RIGHT: {\n      switchError(1);\n      break;\n    }\n    default: {\n      // TODO: this\n      break;\n    }\n  }\n}\n\nlet listenToRuntimeErrorsUnmounter;\n\nfunction inject() {\n  listenToRuntimeErrorsUnmounter = listenToRuntimeErrors(error => {\n    crash(error.error);\n  });\n}\n\nfunction uninject() {\n  if (listenToRuntimeErrorsUnmounter) {\n    listenToRuntimeErrorsUnmounter();\n  }\n  unmount();\n}\n\nexport { inject, uninject, unmount };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nconst black = '#293238',\n  darkGray = '#878e91',\n  red = '#ce1126',\n  redTransparent = 'rgba(206, 17, 38, 0.05)',\n  lightRed = '#fccfcf',\n  yellow = '#fbf5b4',\n  yellowTransparent = 'rgba(251, 245, 180, 0.3)',\n  whiteTranslucent = 'rgba(244, 244, 244, 0.9)';\n\nconst iframeStyle = {\n  position: 'fixed',\n  top: '0',\n  left: '0',\n  width: '100%',\n  height: '100%',\n  border: 'none',\n  'z-index': 2147483647 - 1, // below the compile error overlay\n};\n\nconst overlayStyle = {\n  width: '100%',\n  height: '100%',\n  'box-sizing': 'border-box',\n  'text-align': 'center',\n  'background-color': whiteTranslucent,\n  '-webkit-font-smoothing': 'antialiased',\n  '-moz-font-smoothing': 'antialiased',\n  '-moz-osx-font-smoothing': 'grayscale',\n  'font-smoothing': 'antialiased',\n  'text-rendering': 'optimizeLegibility',\n  'font-smooth': 'always',\n  '-webkit-tap-highlight-color': 'transparent',\n  '-webkit-touch-callout': 'none',\n};\n\nconst containerStyle = {\n  position: 'relative',\n  display: 'inline-flex',\n  'flex-direction': 'column',\n  height: '100%',\n  width: '1024px',\n  'max-width': '100%',\n  'overflow-x': 'hidden',\n  'overflow-y': 'auto',\n  padding: '0.5rem',\n  'box-sizing': 'border-box',\n  'text-align': 'left',\n  'font-family': 'Consolas, Menlo, monospace',\n  'font-size': '11px',\n  'white-space': 'pre-wrap',\n  'word-break': 'break-word',\n  'line-height': 1.5,\n  color: black,\n};\n\nconst hintsStyle = {\n  color: darkGray,\n};\n\nconst hintStyle = {\n  padding: '0.5em 1em',\n  cursor: 'pointer',\n};\n\nconst closeButtonStyle = {\n  color: black,\n  'line-height': '1rem',\n  'font-size': '1.5rem',\n  padding: '1rem',\n  cursor: 'pointer',\n  position: 'absolute',\n  right: 0,\n  top: 0,\n};\n\nconst additionalChildStyle = {\n  'margin-bottom': '0.5rem',\n};\n\nconst headerStyle = {\n  'font-size': '2em',\n  'font-family': 'Roboto, sans-serif',\n  color: red,\n  'white-space': 'pre-wrap',\n  // Top bottom margin spaces header\n  // Right margin revents overlap with close button\n  margin: '0 2rem 0.5rem 0',\n  flex: '0 0 auto',\n  'max-height': '50%',\n  overflow: 'auto',\n  'font-weight': '400',\n};\n\nconst messageHeaderStyle = {\n  ...headerStyle,\n  color: 'black',\n  'font-weight': '300',\n  'font-size': '1.5em',\n  'font-family': 'Consolas, Menlo, monospace',\n  margin: 0,\n  'padding-bottom': '1rem',\n  'border-bottom': '1px solid #ddd',\n};\n\nconst originalHeaderStyle = {\n  color: 'rgba(0, 0, 0, 0.7)',\n  'font-size': '.75em',\n  'padding-top': '1rem',\n  'padding-bottom': '.5rem',\n};\n\nconst originalMessageHeaderStyle = {\n  color: 'black',\n  'font-size': '.875em',\n  'font-family': 'Consolas, Menlo, monospace',\n  margin: 0,\n  'white-space': 'pre-wrap',\n  overflow: 'auto',\n};\n\nconst functionNameStyle = {};\n\nconst linkStyle = {\n  'font-size': '0.9em',\n  'margin-bottom': '0.9em',\n};\n\nconst anchorStyle = {\n  'text-decoration': 'none',\n  color: darkGray,\n};\n\nconst traceStyle = {\n  'font-size': '1em',\n  flex: '0 1 auto',\n  'min-height': '0px',\n  overflow: 'auto',\n  'padding-top': '1rem',\n};\n\nconst depStyle = {};\n\nconst primaryErrorStyle = {\n  'background-color': lightRed,\n};\n\nconst secondaryErrorStyle = {\n  'background-color': yellow,\n};\n\nconst omittedFramesCollapsedStyle = {\n  color: black,\n  cursor: 'pointer',\n  'margin-bottom': '1.5em',\n};\n\nconst omittedFramesExpandedStyle = {\n  color: black,\n  cursor: 'pointer',\n  'margin-bottom': '0.6em',\n};\n\nconst _preStyle = {\n  display: 'block',\n  padding: '0.5em',\n  'margin-top': '0.5em',\n  'margin-bottom': '0.5em',\n  'overflow-x': 'auto',\n  'white-space': 'pre-wrap',\n  'border-radius': '0.25rem',\n};\nconst primaryPreStyle = Object.assign({}, _preStyle, {\n  'background-color': redTransparent,\n});\nconst secondaryPreStyle = Object.assign({}, _preStyle, {\n  'background-color': yellowTransparent,\n});\n\nconst toggleStyle = {\n  'margin-bottom': '1.5em',\n  color: darkGray,\n  cursor: 'pointer',\n};\n\nconst codeStyle = {\n  'font-family': 'Consolas, Menlo, monospace',\n};\n\nconst hiddenStyle = {\n  display: 'none',\n};\n\nconst groupStyle = {\n  'margin-right': '1em',\n};\n\nconst _groupElemStyle = {\n  'background-color': redTransparent,\n  color: red,\n  border: 'none',\n  'border-radius': '4px',\n  padding: '3px 6px',\n  cursor: 'pointer',\n};\n\nconst groupElemLeft = Object.assign({}, _groupElemStyle, {\n  'border-top-right-radius': '0px',\n  'border-bottom-right-radius': '0px',\n  'margin-right': '1px',\n});\n\nconst groupElemRight = Object.assign({}, _groupElemStyle, {\n  'border-top-left-radius': '0px',\n  'border-bottom-left-radius': '0px',\n});\n\nconst footerStyle = {\n  'font-family': 'sans-serif',\n  color: darkGray,\n  'margin-top': '0.5rem',\n  flex: '0 0 auto',\n};\n\nconst suggestionsContainerStyle = {\n  'font-family': 'Roboto, sans-serif',\n  'padding-top': '1rem',\n};\n\nconst suggestionsTitleStyle = {\n  'font-size': '1rem',\n  'font-weight': '300',\n};\n\nconst suggestionsButtonStyle = {\n  transition: '0.3s ease all',\n  'background-color': '#B6E7FF',\n  color: 'rgba(0, 0, 0, 0.6)',\n  padding: '0.5rem',\n  margin: '.5rem 0',\n  'margin-bottom': '.5rem',\n  'font-size': '.75rem',\n  'border-radius': '4px',\n  'margin-right': '.5rem',\n  border: '1px solid #6CAEDD',\n  cursor: 'pointer',\n};\n\nexport {\n  containerStyle,\n  iframeStyle,\n  overlayStyle,\n  hintsStyle,\n  hintStyle,\n  closeButtonStyle,\n  additionalChildStyle,\n  headerStyle,\n  messageHeaderStyle,\n  functionNameStyle,\n  linkStyle,\n  anchorStyle,\n  traceStyle,\n  depStyle,\n  primaryErrorStyle,\n  primaryPreStyle,\n  secondaryErrorStyle,\n  secondaryPreStyle,\n  omittedFramesCollapsedStyle,\n  omittedFramesExpandedStyle,\n  originalHeaderStyle,\n  originalMessageHeaderStyle,\n  toggleStyle,\n  codeStyle,\n  hiddenStyle,\n  groupStyle,\n  groupElemLeft,\n  groupElemRight,\n  footerStyle,\n  suggestionsContainerStyle,\n  suggestionsTitleStyle,\n  suggestionsButtonStyle,\n};\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nfunction consumeEvent(e: Event) {\n  e.preventDefault();\n  if (typeof e.target.blur === 'function') {\n    e.target.blur();\n  }\n}\n\nexport { consumeEvent };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nlet injectedCount = 0;\nconst injectedCache = {};\n\nfunction getHead(document: Document) {\n  return document.head || document.getElementsByTagName('head')[0];\n}\n\nfunction injectCss(document: Document, css: string): number {\n  const head = getHead(document);\n  const style = document.createElement('style');\n  style.type = 'text/css';\n  style.appendChild(document.createTextNode(css));\n  head.appendChild(style);\n\n  injectedCache[++injectedCount] = style;\n  return injectedCount;\n}\n\nfunction removeCss(document: Document, ref: number) {\n  if (injectedCache[ref] == null) {\n    return;\n  }\n  const head = getHead(document);\n  head.removeChild(injectedCache[ref]);\n  delete injectedCache[ref];\n}\n\nfunction applyStyles(element: HTMLElement, styles: Object) {\n  element.setAttribute('style', '');\n  for (const key in styles) {\n    if (!styles.hasOwnProperty(key)) {\n      continue;\n    }\n    // $FlowFixMe\n    element.style[key] = styles[key];\n  }\n}\n\nexport { getHead, injectCss, removeCss, applyStyles };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nfunction enableTabClick(node: Element) {\n  node.setAttribute('tabindex', '0');\n  node.addEventListener('keydown', function(e: KeyboardEvent) {\n    const { key, which, keyCode } = e;\n    if (key === 'Enter' || which === 13 || keyCode === 13) {\n      e.preventDefault();\n      if (typeof e.target.click === 'function') {\n        e.target.click();\n      }\n    }\n  });\n}\n\nexport { enableTabClick };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nimport type { StackFrame } from './stack-frame';\nimport { parse } from './parser';\nimport { map } from './mapper';\nimport { unmap } from './unmapper';\n\nexport type ErrorRecord = {\n  error: Error,\n  unhandledRejection: boolean,\n  contextSize: number,\n  enhancedFrames: StackFrame[],\n};\ntype ErrorRecordReference = number;\nconst recorded: ErrorRecord[] = [];\n\nlet errorsConsumed: ErrorRecordReference = 0;\n\nfunction consume(\n  error: Error,\n  unhandledRejection: boolean = false,\n  contextSize: number = 3\n): Promise<ErrorRecordReference | null> {\n  const parsedFrames = parse(error);\n  let enhancedFramesPromise;\n  if (error.__unmap_source) {\n    enhancedFramesPromise = unmap(\n      // $FlowFixMe\n      error.__unmap_source,\n      parsedFrames,\n      contextSize\n    );\n  } else {\n    enhancedFramesPromise = map(parsedFrames, contextSize);\n  }\n  return enhancedFramesPromise.then(enhancedFrames => {\n    // // We comment this out, because we always want to show errors\n    // if (\n    //   enhancedFrames\n    //     .map(f => f._originalFileName)\n    //     .filter(f => f != null && f.indexOf('node_modules') === -1).length === 0\n    // ) {\n    //   return null;\n    // }\n    enhancedFrames = enhancedFrames.filter(\n      ({ functionName }) =>\n        functionName == null ||\n        functionName.indexOf('__stack_frame_overlay_proxy_console__') === -1\n    );\n    recorded[++errorsConsumed] = {\n      error,\n      unhandledRejection,\n      contextSize,\n      enhancedFrames,\n    };\n    return errorsConsumed;\n  });\n}\n\nfunction getErrorRecord(ref: ErrorRecordReference): ErrorRecord {\n  return recorded[ref];\n}\n\nfunction drain() {\n  // $FlowFixMe\n  const keys = Object.keys(recorded);\n  for (let index = 0; index < keys.length; ++index) {\n    delete recorded[keys[index]];\n  }\n}\n\nexport { consume, getErrorRecord, drain };\nexport type { ErrorRecordReference };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n//@flow\nimport { ScriptLine } from './stack-frame';\n\n/**\n *\n * @param {number} line The line number to provide context around.\n * @param {number} count The number of lines you'd like for context.\n * @param {string[] | string} lines The source code.\n */\nfunction getLinesAround(\n  line: number,\n  count: number,\n  lines: string[] | string\n): ScriptLine[] {\n  if (typeof lines === 'string') {\n    lines = lines.split('\\n');\n  }\n  const result = [];\n  for (\n    let index = Math.max(0, line - 1 - count);\n    index <= Math.min(lines.length - 1, line - 1 + count);\n    ++index\n  ) {\n    result.push(new ScriptLine(index + 1, lines[index], index === line - 1));\n  }\n  return result;\n}\n\nexport { getLinesAround };\nexport default getLinesAround;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n//@flow\nimport { SourceMapConsumer } from 'source-map';\n\n/**\n * A wrapped instance of a <code>{@link https://github.com/mozilla/source-map SourceMapConsumer}</code>.\n *\n * This exposes methods which will be indifferent to changes made in <code>{@link https://github.com/mozilla/source-map source-map}</code>.\n */\nexport class SourceMap {\n  __source_map: SourceMapConsumer;\n\n  constructor(sourceMap) {\n    this.__source_map = sourceMap;\n  }\n\n  /**\n   * Returns the original code position for a generated code position.\n   * @param {number} line The line of the generated code position.\n   * @param {number} column The column of the generated code position.\n   */\n  getOriginalPosition(\n    line: number,\n    column: number\n  ): { source: string, line: number, column: number } {\n    const {\n      line: l,\n      column: c,\n      source: s,\n    } = this.__source_map.originalPositionFor({\n      line,\n      column,\n    });\n    return { line: l, column: c, source: s };\n  }\n\n  /**\n   * Returns the generated code position for an original position.\n   * @param {string} source The source file of the original code position.\n   * @param {number} line The line of the original code position.\n   * @param {number} column The column of the original code position.\n   */\n  getGeneratedPosition(\n    source: string,\n    line: number,\n    column: number\n  ): { line: number, column: number } {\n    const { line: l, column: c } = this.__source_map.generatedPositionFor({\n      source,\n      line,\n      column,\n    });\n    return {\n      line: l,\n      column: c,\n    };\n  }\n\n  /**\n   * Returns the code for a given source file name.\n   * @param {string} sourceName The name of the source file.\n   */\n  getSource(sourceName: string): string {\n    return this.__source_map.sourceContentFor(sourceName);\n  }\n\n  getSources(): string[] {\n    return this.__source_map.sources;\n  }\n}\n\nfunction extractSourceMapUrl(fileUri: string, fileContents: string) {\n  const regex = /\\/\\/[#@] ?sourceMappingURL=([^\\s'\"]+)\\s*$/gm;\n  let match = null;\n  for (;;) {\n    let next = regex.exec(fileContents);\n    if (next == null) {\n      break;\n    }\n    match = next;\n  }\n  if (!(match && match[1])) {\n    return Promise.reject(`Cannot find a source map directive for ${fileUri}.`);\n  }\n  return Promise.resolve(match[1].toString());\n}\n\n/**\n * Returns an instance of <code>{@link SourceMap}</code> for a given fileUri and fileContents.\n * @param {string} fileUri The URI of the source file.\n * @param {string} fileContents The contents of the source file.\n */\nasync function getSourceMap(\n  fileUri: string,\n  fileContents: string\n): Promise<SourceMap> {\n  let sm = await extractSourceMapUrl(fileUri, fileContents);\n  if (sm.indexOf('data:') === 0) {\n    const base64 = /^data:application\\/json;([\\w=:\"-]+;)*base64,/;\n    const match2 = sm.match(base64);\n    if (!match2) {\n      throw new Error(\n        'Sorry, non-base64 inline source-map encoding is not supported.'\n      );\n    }\n    sm = sm.substring(match2[0].length);\n    sm = window.atob(sm);\n    sm = JSON.parse(sm);\n    return new SourceMap(new SourceMapConsumer(sm));\n  } else {\n    const index = fileUri.lastIndexOf('/');\n    const url = fileUri.substring(0, index + 1) + sm;\n    const obj = await fetch(url).then(res => res.json());\n    return new SourceMap(new SourceMapConsumer(obj));\n  }\n}\n\nexport { extractSourceMapUrl, getSourceMap };\nexport default getSourceMap;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/* @flow */\nimport type { StackFrame } from './stack-frame';\nimport { parse } from './parser';\nimport { map } from './mapper';\nimport { unmap } from './unmapper';\n\nfunction getStackFrames(\n  error: Error,\n  unhandledRejection: boolean = false,\n  contextSize: number = 3\n): Promise<StackFrame[] | null> {\n  const parsedFrames = parse(error);\n  let enhancedFramesPromise;\n  // $FlowFixMe\n  if (error.__unmap_source) {\n    enhancedFramesPromise = unmap(\n      // $FlowFixMe\n      error.__unmap_source,\n      parsedFrames,\n      contextSize\n    );\n  } else {\n    enhancedFramesPromise = map(parsedFrames, contextSize);\n  }\n  return enhancedFramesPromise.then(enhancedFrames => {\n    if (\n      enhancedFrames\n        .map(f => f._originalFileName)\n        .filter(f => f != null && f.indexOf('node_modules') === -1).length === 0\n    ) {\n      return null;\n    }\n    return enhancedFrames.filter(\n      ({ functionName }) =>\n        functionName == null ||\n        functionName.indexOf('__stack_frame_overlay_proxy_console__') === -1\n    );\n  });\n}\n\nexport default getStackFrames;\nexport { getStackFrames };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\nfunction isInternalFile(sourceFileName: ?string, fileName: ?string) {\n  return (\n    sourceFileName == null ||\n    sourceFileName === '' ||\n    sourceFileName.indexOf('/~/') !== -1 ||\n    sourceFileName.indexOf('/node_modules/') !== -1 ||\n    sourceFileName.trim().indexOf(' ') !== -1 ||\n    fileName == null ||\n    fileName === ''\n  );\n}\n\nexport { isInternalFile };\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n// TODO change this\nimport { getCurrentManager } from 'app/src/sandbox/compile';\n// @flow\nimport StackFrame from './stack-frame';\nimport { getSourceMap } from './getSourceMap';\nimport { getLinesAround } from './getLinesAround';\nimport { settle } from 'settle-promise';\n\n/**\n * Enhances a set of <code>StackFrame</code>s with their original positions and code (when available).\n * @param {StackFrame[]} frames A set of <code>StackFrame</code>s which contain (generated) code positions.\n * @param {number} [contextLines=3] The number of lines to provide before and after the line specified in the <code>StackFrame</code>.\n */\nasync function map(\n  frames: StackFrame[],\n  contextLines: number = 3\n): Promise<StackFrame[]> {\n  const cache: any = {};\n  const files: string[] = [];\n  frames.forEach(frame => {\n    const { fileName } = frame;\n    if (fileName == null) {\n      return;\n    }\n    if (files.indexOf(fileName) !== -1) {\n      return;\n    }\n    files.push(fileName);\n  });\n  await settle(\n    files.map(async fileName => {\n      const manager = getCurrentManager();\n      if (manager != null && !fileName.startsWith('webpack')) {\n        let transpiledModule;\n        if (fileName.includes('?')) {\n          transpiledModule = manager.getTranspiledModuleByHash(\n            fileName.split('?')[1]\n          );\n        } else {\n          transpiledModule = manager.resolveTranspiledModule(\n            fileName.replace(location.origin, ''),\n            '/'\n          );\n        }\n\n        if (transpiledModule) {\n          const fileSource =\n            transpiledModule.source && transpiledModule.source.compiledCode;\n\n          const map = await getSourceMap(fileName, fileSource);\n\n          cache[fileName] = { fileSource, map };\n        }\n      }\n    })\n  );\n  return frames.map(frame => {\n    const { functionName, fileName, lineNumber, columnNumber } = frame;\n    let { map, fileSource } = cache[fileName] || {};\n    if (map == null || lineNumber == null) {\n      return frame;\n    }\n    const { source, line, column } = map.getOriginalPosition(\n      lineNumber,\n      columnNumber\n    );\n    const originalSource = source == null ? [] : map.getSource(source);\n    return new StackFrame(\n      functionName,\n      fileName,\n      lineNumber,\n      columnNumber,\n      getLinesAround(lineNumber, contextLines, fileSource),\n      functionName,\n      source,\n      line,\n      column,\n      getLinesAround(line, contextLines, originalSource)\n    );\n  });\n}\n\nexport { map };\nexport default map;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n// @flow\nimport StackFrame from './stack-frame';\n\nconst regexExtractLocation = /\\(?(.+?)(?::(\\d+))?(?::(\\d+))?\\)?$/;\n\nfunction extractLocation(token: string): [string, number, number] {\n  return regexExtractLocation\n    .exec(token)\n    .slice(1)\n    .map(v => {\n      const p = Number(v);\n      if (!isNaN(p)) {\n        return p;\n      }\n      return v;\n    });\n}\n\nconst regexValidFrame_Chrome = /^\\s*(at|in)\\s.+(:\\d+)/;\nconst regexValidFrame_FireFox = /(^|@)\\S+:\\d+|.+line\\s+\\d+\\s+>\\s+(eval|Function).+/;\n\nfunction parseStack(stack: string[]): StackFrame[] {\n  const frames = stack\n    .filter(\n      e => regexValidFrame_Chrome.test(e) || regexValidFrame_FireFox.test(e)\n    )\n    .map(e => {\n      if (regexValidFrame_FireFox.test(e)) {\n        // Strip eval, we don't care about it\n        let isEval = false;\n        if (/ > (eval|Function)/.test(e)) {\n          e = e.replace(\n            / line (\\d+)(?: > eval line \\d+)* > (eval|Function):\\d+:\\d+/g,\n            ':$1'\n          );\n          isEval = true;\n        }\n        const data = e.split(/[@]/g);\n        const last = data.pop();\n        return new StackFrame(\n          data.join('@') || (isEval ? 'eval' : null),\n          ...extractLocation(last)\n        );\n      } else {\n        // Strip eval, we don't care about it\n        if (e.indexOf('(eval ') !== -1) {\n          e = e.replace(/(\\(eval at [^()]*)|(\\),.*$)/g, '');\n        }\n        if (e.indexOf('(at ') !== -1) {\n          e = e.replace(/\\(at /, '(');\n        }\n        const data = e\n          .trim()\n          .split(/\\s+/g)\n          .slice(1);\n        const last = data.pop();\n        return new StackFrame(data.join(' ') || null, ...extractLocation(last));\n      }\n    });\n  return frames;\n}\n\n/**\n * Turns an <code>Error</code>, or similar object, into a set of <code>StackFrame</code>s.\n * @alias parse\n */\nfunction parseError(error: Error | string | string[]): StackFrame[] {\n  if (error == null) {\n    throw new Error('You cannot pass a null object.');\n  }\n  if (typeof error === 'string') {\n    return parseStack(error.split('\\n'));\n  }\n  if (Array.isArray(error)) {\n    return parseStack(error);\n  }\n  if (typeof error.stack === 'string') {\n    return parseStack(error.stack.split('\\n'));\n  }\n  throw new Error('The error you provided does not contain a stack trace.');\n}\n\nexport { parseError as parse };\nexport default parseError;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n//@flow\n\n/** A container holding a script line. */\nclass ScriptLine {\n  /** The line number of this line of source. */\n  lineNumber: number;\n  /** The content (or value) of this line of source. */\n  content: string;\n  /** Whether or not this line should be highlighted. Particularly useful for error reporting with context. */\n  highlight: boolean;\n\n  constructor(lineNumber: number, content: string, highlight: boolean = false) {\n    this.lineNumber = lineNumber;\n    this.content = content;\n    this.highlight = highlight;\n  }\n}\n\n/**\n * A representation of a stack frame.\n */\nclass StackFrame {\n  functionName: string | null;\n  fileName: string | null;\n  lineNumber: number | null;\n  columnNumber: number | null;\n\n  _originalFunctionName: string | null;\n  _originalFileName: string | null;\n  _originalLineNumber: number | null;\n  _originalColumnNumber: number | null;\n\n  _scriptCode: ScriptLine[] | null;\n  _originalScriptCode: ScriptLine[] | null;\n\n  constructor(\n    functionName: string | null = null,\n    fileName: string | null = null,\n    lineNumber: number | null = null,\n    columnNumber: number | null = null,\n    scriptCode: ScriptLine[] | null = null,\n    sourceFunctionName: string | null = null,\n    sourceFileName: string | null = null,\n    sourceLineNumber: number | null = null,\n    sourceColumnNumber: number | null = null,\n    sourceScriptCode: ScriptLine[] | null = null\n  ) {\n    this.functionName = functionName;\n\n    this.fileName = fileName;\n    this.lineNumber = lineNumber;\n    this.columnNumber = columnNumber;\n\n    this._originalFunctionName = sourceFunctionName;\n    this._originalFileName = sourceFileName;\n    this._originalLineNumber = sourceLineNumber;\n    this._originalColumnNumber = sourceColumnNumber;\n\n    this._scriptCode = scriptCode;\n    this._originalScriptCode = sourceScriptCode;\n  }\n\n  /**\n   * Returns the name of this function.\n   */\n  getFunctionName(): string | null {\n    return this.functionName;\n  }\n\n  /**\n   * Returns the source of the frame.\n   * This contains the file name, line number, and column number when available.\n   */\n  getSource(): string {\n    let str = '';\n    if (this.fileName != null) {\n      str += this.fileName + ':';\n    }\n    if (this.lineNumber != null) {\n      str += this.lineNumber + ':';\n    }\n    if (this.columnNumber != null) {\n      str += this.columnNumber + ':';\n    }\n    return str.slice(0, -1);\n  }\n\n  /**\n   * Returns a pretty version of this stack frame.\n   */\n  toString(): string {\n    const f = this.getFunctionName();\n    if (f == null) {\n      return this.getSource();\n    }\n    return `${f} (${this.getSource()})`;\n  }\n}\n\nexport { StackFrame, ScriptLine };\nexport default StackFrame;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n// @flow\nimport StackFrame from './stack-frame';\nimport { getSourceMap } from './getSourceMap';\nimport { getLinesAround } from './getLinesAround';\nimport path from 'path';\n\nfunction count(search: string, string: string): number {\n  // Count starts at -1 becuse a do-while loop always runs at least once\n  let count = -1,\n    index = -1;\n  do {\n    // First call or the while case evaluated true, meaning we have to make\n    // count 0 or we found a character\n    ++count;\n    // Find the index of our search string, starting after the previous index\n    index = string.indexOf(search, index + 1);\n  } while (index !== -1);\n  return count;\n}\n\n/**\n * Turns a set of mapped <code>StackFrame</code>s back into their generated code position and enhances them with code.\n * @param {string} fileUri The URI of the <code>bundle.js</code> file.\n * @param {StackFrame[]} frames A set of <code>StackFrame</code>s which are already mapped and missing their generated positions.\n * @param {number} [fileContents=3] The number of lines to provide before and after the line specified in the <code>StackFrame</code>.\n */\nasync function unmap(\n  _fileUri: string | { uri: string, contents: string },\n  frames: StackFrame[],\n  contextLines: number = 3\n): Promise<StackFrame[]> {\n  let fileContents = typeof _fileUri === 'object' ? _fileUri.contents : null;\n  let fileUri = typeof _fileUri === 'object' ? _fileUri.uri : _fileUri;\n  if (fileContents == null) {\n    fileContents = await fetch(fileUri).then(res => res.text());\n  }\n  const map = await getSourceMap(fileUri, fileContents);\n  return frames.map(frame => {\n    const {\n      functionName,\n      lineNumber,\n      columnNumber,\n      _originalLineNumber,\n    } = frame;\n    if (_originalLineNumber != null) {\n      return frame;\n    }\n    let { fileName } = frame;\n    if (fileName) {\n      fileName = path.normalize(fileName);\n    }\n    if (fileName == null) {\n      return frame;\n    }\n    const fN: string = fileName;\n    const source = map\n      .getSources()\n      .map(s => s.replace(/[\\\\]+/g, '/'))\n      .filter(p => {\n        p = path.normalize(p);\n        const i = p.lastIndexOf(fN);\n        return i !== -1 && i === p.length - fN.length;\n      })\n      .map(p => ({\n        token: p,\n        seps: count(path.sep, path.normalize(p)),\n        penalties: count('node_modules', p) + count('~', p),\n      }))\n      .sort((a, b) => {\n        const s = Math.sign(a.seps - b.seps);\n        if (s !== 0) {\n          return s;\n        }\n        return Math.sign(a.penalties - b.penalties);\n      });\n    if (source.length < 1 || lineNumber == null) {\n      return new StackFrame(\n        null,\n        null,\n        null,\n        null,\n        null,\n        functionName,\n        fN,\n        lineNumber,\n        columnNumber,\n        null\n      );\n    }\n    const sourceT = source[0].token;\n    const { line, column } = map.getGeneratedPosition(\n      sourceT,\n      lineNumber,\n      // $FlowFixMe\n      columnNumber\n    );\n    const originalSource = map.getSource(sourceT);\n    return new StackFrame(\n      functionName,\n      fileUri,\n      line,\n      column || null,\n      getLinesAround(line, contextLines, fileContents || []),\n      functionName,\n      fN,\n      lineNumber,\n      columnNumber,\n      getLinesAround(lineNumber, contextLines, originalSource)\n    );\n  });\n}\n\nexport { unmap };\nexport default unmap;\n","/**\n * Copyright (c) 2015-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n// @flow\nimport type { ReactFrame } from '../effects/proxyConsole';\n\nfunction stripInlineStacktrace(message: string): string {\n  return message\n    .split('\\n')\n    .filter(line => !line.match(/^\\s*in/))\n    .join('\\n'); // \"  in Foo\"\n}\n\nfunction massage(\n  warning: string,\n  frames: ReactFrame[]\n): { message: string, stack: string } {\n  let message = stripInlineStacktrace(warning);\n\n  // Reassemble the stack with full filenames provided by React\n  let stack = '';\n  let lastFilename;\n  let lastLineNumber;\n  for (let index = 0; index < frames.length; ++index) {\n    const { fileName, lineNumber } = frames[index];\n    if (fileName == null || lineNumber == null) {\n      continue;\n    }\n\n    // TODO: instead, collapse them in the UI\n    if (\n      fileName === lastFilename &&\n      typeof lineNumber === 'number' &&\n      typeof lastLineNumber === 'number' &&\n      Math.abs(lineNumber - lastLineNumber) < 3\n    ) {\n      continue;\n    }\n    lastFilename = fileName;\n    lastLineNumber = lineNumber;\n\n    let { name } = frames[index];\n    name = name || '(anonymous function)';\n    stack += `in ${name} (at ${fileName}:${lineNumber})\\n`;\n  }\n\n  return { message, stack };\n}\n\nexport { massage };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n// Responsible for consuming and syncing with the server/local cache\nimport localforage from 'localforage';\nimport * as memoryDriver from 'localforage-driver-memory';\nimport _debug from '@codesandbox/common/lib/utils/debug';\nconst debug = _debug('cs:compiler:cache');\nconst host = process.env.CODESANDBOX_HOST;\nlocalforage.defineDriver(memoryDriver);\nlocalforage.setDriver([\n    localforage.INDEXEDDB,\n    localforage.LOCALSTORAGE,\n    localforage.WEBSQL,\n    memoryDriver._driver,\n]);\nconst MAX_CACHE_SIZE = 1024 * 1024 * 20;\nlet APICacheUsed = false;\ntry {\n    localforage.config({\n        name: 'CodeSandboxApp',\n        storeName: 'sandboxes',\n        description: 'Cached transpilations of the sandboxes, for faster initialization time.',\n    });\n    // Prewarm store\n    localforage.keys();\n}\ncatch (e) {\n    console.warn('Problems initializing IndexedDB store.');\n    console.warn(e);\n}\nfunction shouldSaveOnlineCache(firstRun, changes) {\n    if (!firstRun || changes > 0) {\n        return false;\n    }\n    if (!window.__SANDBOX_DATA__) {\n        return true;\n    }\n    return false;\n}\nexport function clearIndexedDBCache() {\n    return localforage.clear();\n}\nexport function saveCache(sandboxId, managerModuleToTranspile, manager, changes, firstRun) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!sandboxId) {\n            return Promise.resolve(false);\n        }\n        const managerState = Object.assign({}, (yield manager.serialize({\n            entryPath: managerModuleToTranspile\n                ? managerModuleToTranspile.path\n                : null,\n            optimizeForSize: true,\n        })));\n        try {\n            if (process.env.NODE_ENV === 'development') {\n                debug('Saving cache of ' +\n                    (JSON.stringify(managerState).length / 1024).toFixed(2) +\n                    'kb to indexedDB');\n            }\n            yield localforage.setItem(manager.id, managerState);\n        }\n        catch (e) {\n            if (process.env.NODE_ENV === 'development') {\n                console.error(e);\n            }\n            manager.clearCache();\n        }\n        if (shouldSaveOnlineCache(firstRun, changes)) {\n            const stringifiedManagerState = JSON.stringify(managerState);\n            if (stringifiedManagerState.length > MAX_CACHE_SIZE) {\n                return Promise.resolve(false);\n            }\n            debug('Saving cache of ' +\n                (stringifiedManagerState.length / 1024).toFixed(2) +\n                'kb to CodeSandbox API');\n            return window\n                .fetch(`${host}/api/v1/sandboxes/${sandboxId}/cache`, {\n                method: 'POST',\n                body: JSON.stringify({\n                    version: manager.version,\n                    data: stringifiedManagerState,\n                }),\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            })\n                .then(x => x.json())\n                .catch(e => {\n                if (process.env.NODE_ENV === 'development') {\n                    console.error('Something went wrong while saving cache.');\n                    console.error(e);\n                }\n            });\n        }\n        return Promise.resolve(false);\n    });\n}\nexport function deleteAPICache(sandboxId, version) {\n    if (APICacheUsed) {\n        debug('Deleting cache of API');\n        return window\n            .fetch(`${host}/api/v1/sandboxes/${sandboxId}/cache`, {\n            method: 'DELETE',\n            body: JSON.stringify({\n                version,\n            }),\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        })\n            .then(x => x.json())\n            .catch(e => {\n            console.error('Something went wrong while deleting cache.');\n            console.error(e);\n        });\n    }\n    return Promise.resolve(false);\n}\nfunction findCacheToUse(cache1, cache2) {\n    if (!cache1 && !cache2) {\n        return null;\n    }\n    if (cache1 && !cache2) {\n        return cache1;\n    }\n    if (cache2 && !cache1) {\n        return cache2;\n    }\n    return cache2.timestamp > cache1.timestamp ? cache2 : cache1;\n}\nexport function ignoreNextCache() {\n    try {\n        localStorage.setItem('ignoreCache', 'true');\n    }\n    catch (e) {\n        console.warn(e);\n    }\n}\nexport function consumeCache(manager) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            const shouldIgnoreCache = localStorage.getItem('ignoreCache') ||\n                localStorage.getItem('ignoreCacheDev');\n            if (shouldIgnoreCache) {\n                localStorage.removeItem('ignoreCache');\n                return false;\n            }\n            const cacheData = window.__SANDBOX_DATA__;\n            const localData = yield localforage.getItem(manager.id);\n            const cache = findCacheToUse(cacheData && cacheData.data, localData);\n            if (cache) {\n                if (cache.version === manager.version) {\n                    if (cache === localData) {\n                        APICacheUsed = false;\n                    }\n                    else {\n                        APICacheUsed = true;\n                    }\n                    debug(`Loading cache from ${cache === localData ? 'IndexedDB' : 'API'}`, cache);\n                    yield manager.load(cache);\n                    return true;\n                }\n            }\n            return false;\n        }\n        catch (e) {\n            console.warn('Problems consuming cache');\n            console.warn(e);\n            return false;\n        }\n    });\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport _debug from '@codesandbox/common/lib/utils/debug';\nimport { clearMeasurements, measure, endMeasure, getMeasurements, getCumulativeMeasure, } from '@codesandbox/common/lib/utils/metrics';\nconst debug = _debug('cs:compiler:benchmarks');\nconst printTranspilationMeasurements = (results) => {\n    debug(`Total ${results.total.toFixed(2)}ms`);\n    debug(`  Transpiling ${results.transpile.toFixed(2)}ms`);\n    debug(`  Resolving ${results.resolving.toFixed(2)}ms`);\n    debug(`  Converting ES ${results.esConverting.toFixed(2)}ms`);\n};\nexport function generateBenchmarkInterface(manager) {\n    return {\n        transpilation: (n = 10, path = '/src/index.js') => __awaiter(this, void 0, void 0, function* () {\n            const module = manager.resolveModule(path, '/');\n            const times = [];\n            for (let i = 0; i < n; i++) {\n                manager.clearTranspilationCache();\n                manager.cachedPaths = {};\n                clearMeasurements();\n                measure('transpilation');\n                // eslint-disable-next-line\n                yield manager.transpileModules(module);\n                const total = endMeasure('transpilation', { silent: true });\n                times.push({\n                    total,\n                    resolving: getCumulativeMeasure('resolve', { silent: true }),\n                    esConverting: getCumulativeMeasure('esconvert', { silent: true }),\n                    transpile: getCumulativeMeasure('transpile', { silent: true }),\n                });\n            }\n            const averageResults = times.reduce((result, entry) => ({\n                total: result.total + entry.total / n,\n                esConverting: result.esConverting + entry.esConverting / n,\n                resolving: result.resolving + entry.resolving / n,\n                transpile: result.transpile + entry.transpile / n,\n            }), { total: 0, esConverting: 0, resolving: 0, transpile: 0 });\n            printTranspilationMeasurements(averageResults);\n        }),\n        getLastTranspilationMeasurements() {\n            printTranspilationMeasurements({\n                total: getMeasurements().transpilation,\n                resolving: getCumulativeMeasure('resolve', { silent: true }),\n                esConverting: getCumulativeMeasure('esconvert', { silent: true }),\n                transpile: getCumulativeMeasure('transpile', { silent: true }),\n            });\n        },\n    };\n}\n","// Babel bug workaround (https://github.com/babel/babel/issues/8061)\nconst ErrorClass = Error;\nexport default class ModuleError extends ErrorClass {\n    constructor(module, err) {\n        super();\n        this.name = 'ModuleError';\n        this.path = err.fileName || module.module.path;\n        this.message = err.message;\n        this.error = err;\n        this.stack = err.stack;\n    }\n}\n","export default class ModuleWarning extends Error {\n    constructor(module, warning) {\n        super();\n        this.name = 'ModuleWarning';\n        this.path = warning.fileName || module.module.path;\n        this.message = warning.message;\n        this.warning = warning.message;\n        this.lineNumber = warning.lineNumber;\n        this.columnNumber = warning.columnNumber;\n        this.severity = warning.severity || 'warning';\n        this.source = warning.source;\n    }\n    serialize() {\n        return {\n            name: 'ModuleWarning',\n            message: this.message,\n            fileName: this.path,\n            lineNumber: this.lineNumber,\n            columnNumber: this.columnNumber,\n            source: this.source,\n            severity: this.severity,\n        };\n    }\n}\n","/* eslint-disable */\n// from https://unpkg.com/process@0.11.10/browser.js\nconst process = {};\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\nlet cachedSetTimeout;\nlet cachedClearTimeout;\nlet queue = [];\nlet draining = false;\nlet currentQueue;\nlet queueIndex = -1;\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout() {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        }\n        else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    }\n    catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        }\n        else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    }\n    catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n})();\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        // normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) &&\n        setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    }\n    catch (e) {\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        }\n        catch (e) {\n            // eslint-disable-line no-shadow\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            // @ts-ignore\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        // normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) &&\n        clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    }\n    catch (e) {\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        }\n        catch (e) {\n            // eslint-disable-line no-shadow\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            // @ts-ignore\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n}\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    // eslint-disable-next-line no-use-before-define\n    const timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n    let len = queue.length;\n    while (len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    }\n    else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    // @ts-ignore\n    this.fun = fun;\n    // @ts-ignore\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.nextTick = function (fun) {\n    const args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (let i = 1; i < arguments.length; i++) {\n            // eslint-disable-next-line prefer-rest-params\n            args[i - 1] = arguments[i];\n        }\n    }\n    // @ts-ignore\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\nfunction noop() { }\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\nprocess.listeners = function () {\n    return [];\n};\nprocess.binding = function () {\n    throw new Error('process.binding is not supported');\n};\nprocess.cwd = function () {\n    return '/';\n};\nprocess.chdir = function () {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function () {\n    return 0;\n};\nexport default function build(env) {\n    process.env = Object.assign({ NODE_ENV: 'development' }, env);\n    return process;\n}\n","// @flow\nimport buildProcess from './utils/process';\nconst g = typeof window === 'undefined' ? self : window;\nconst requestFrame = (() => {\n    const raf = g.requestAnimationFrame ||\n        // @ts-ignore\n        g.mozRequestAnimationFrame ||\n        g.webkitRequestAnimationFrame ||\n        function (fn) {\n            return g.setTimeout(fn, 20);\n        };\n    return function (fn) {\n        return raf(fn);\n    };\n})();\nconst hasGlobalDeclaration = /^const global/m;\n/* eslint-disable no-unused-vars */\nexport default function (code, require, module, env = {}, globals = {}, { asUMD = false } = {}) {\n    const { exports } = module;\n    const global = g;\n    const process = buildProcess(env);\n    // @ts-ignore\n    g.global = global;\n    const allGlobals = Object.assign({ require,\n        module,\n        exports,\n        process, setImmediate: requestFrame, global }, globals);\n    if (asUMD) {\n        delete allGlobals.module;\n        delete allGlobals.exports;\n        delete allGlobals.global;\n    }\n    if (hasGlobalDeclaration.test(code)) {\n        delete allGlobals.global;\n    }\n    const allGlobalKeys = Object.keys(allGlobals);\n    const globalsCode = allGlobalKeys.length ? allGlobalKeys.join(', ') : '';\n    const globalsValues = allGlobalKeys.map(k => allGlobals[k]);\n    try {\n        const newCode = `(function evaluate(` + globalsCode + `) {` + code + `\\n})`;\n        // @ts-ignore\n        (0, eval)(newCode).apply(allGlobals.window || this, globalsValues);\n        return module.exports;\n    }\n    catch (e) {\n        let error = e;\n        if (typeof e === 'string') {\n            error = new Error(e);\n        }\n        error.isEvalError = true;\n        throw error;\n    }\n}\n/* eslint-enable no-unused-vars */\n","export default class HMR {\n    constructor() {\n        this.data = {};\n        this.dirty = false;\n        this.selfAccepted = false;\n        this.invalidated = false;\n    }\n    callDisposeHandler() {\n        if (this.disposeHandler) {\n            this.data = {};\n            this.disposeHandler(this.data);\n            this.disposeHandler = undefined;\n        }\n    }\n    callAcceptCallback() {\n        if (this.callback) {\n            this.callback();\n        }\n    }\n    setAcceptCallback(callback) {\n        this.callback = callback;\n        this.setSelfAccepted(false);\n    }\n    setDisposeHandler(callback) {\n        this.disposeHandler = callback;\n    }\n    setSelfAccepted(selfAccepted) {\n        this.selfAccepted = selfAccepted;\n        if (selfAccepted) {\n            this.data = {};\n        }\n    }\n    setType(type) {\n        this.type = type;\n    }\n    setDirty(dirty) {\n        this.dirty = dirty;\n    }\n    isDirty() {\n        return this.dirty;\n    }\n    /**\n     * Returns whether this module should reset the compilation of its parents\n     */\n    isHot() {\n        return this.type === 'accept';\n    }\n    isDeclined(isEntry) {\n        if (this.type === 'decline') {\n            return true;\n        }\n        return !this.isHot() && isEntry;\n    }\n    /**\n     * Setting the module to invalidated means that we MUST evaluate it again, which means\n     * that we throw away its compilation and hmrConfig, and we're going to force a second evaluation\n     * once this has been run.\n     */\n    setInvalidated(invalidated) {\n        this.invalidated = invalidated;\n    }\n}\n","export const splitQueryFromPath = (path) => {\n    if (path.includes('!')) {\n        const queryPath = path.split('!');\n        const modulePath = queryPath.pop();\n        return {\n            queryPath: queryPath.join('!'),\n            modulePath,\n        };\n    }\n    if (path.includes('?')) {\n        const queryPath = path.split('?');\n        const query = queryPath.pop();\n        return {\n            queryPath: '?' + query,\n            modulePath: queryPath.join('?'),\n        };\n    }\n    return {\n        queryPath: '',\n        modulePath: path,\n    };\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n// eslint-disable-next-line max-classes-per-file\nimport { flattenDeep } from 'lodash-es';\nimport { actions, dispatch } from 'codesandbox-api';\nimport _debug from '@codesandbox/common/lib/utils/debug';\nimport interopRequireWildcard from '@babel/runtime/helpers/interopRequireWildcard';\nimport hashsum from 'hash-sum';\nimport * as pathUtils from '@codesandbox/common/lib/utils/path';\nimport { measure, endMeasure } from '@codesandbox/common/lib/utils/metrics';\nimport ModuleError from './errors/module-error';\nimport ModuleWarning from './errors/module-warning';\nimport resolveDependency from '../runner/dependency-resolver';\nimport evaluate from '../runner/eval';\nimport HMR from './hmr';\nimport { splitQueryFromPath } from './utils/query-path';\nimport delay from '../utils/delay';\nconst debug = _debug('cs:compiler:transpiled-module');\nclass ModuleSource {\n    constructor(fileName, compiledCode, sourceMap, sourceEqualsCompiled = false) {\n        this.fileName = fileName;\n        this.compiledCode = compiledCode;\n        this.sourceMap = sourceMap;\n        this.sourceEqualsCompiled = sourceEqualsCompiled;\n    }\n}\nexport class TranspiledModule {\n    /**\n     * Create a new TranspiledModule, a transpiled module is a module that contains\n     * all info for transpilation and compilation. Note that there can be multiple\n     * transpiled modules for 1 module, since a same module can have different loaders\n     * attached using queries.\n     * @param {*} module\n     * @param {*} query A webpack query, eg: \"url-loader?mimetype=image/png\"\n     */\n    constructor(module, query = '') {\n        this.previousSource = null;\n        this.source = null;\n        this.compilation = null;\n        this.isTestFile = false;\n        /**\n         * Set how this module handles HMR. The default is undefined, which means\n         * that we handle the HMR like CodeSandbox does.\n         */\n        this.hmrConfig = null;\n        this.hasMissingDependencies = false;\n        this.createSourceForAsset = (name, content, sourceMap) => new ModuleSource(name, content, sourceMap);\n        this.logWarnings = () => {\n            if (this.warnings.length) {\n                this.warnings.forEach(warning => {\n                    console.warn(warning.message); // eslint-disable-line no-console\n                    dispatch(actions.correction.show(warning.message, {\n                        line: warning.lineNumber,\n                        column: warning.columnNumber,\n                        path: warning.path,\n                        source: warning.source,\n                        severity: warning.severity || 'warning',\n                    }));\n                });\n            }\n        };\n        this.isCompilationCached = (globals) => {\n            if (!this.compilation || !this.compilation.exports) {\n                return false;\n            }\n            if (this.compilation.globals === globals) {\n                return true;\n            }\n            return false;\n        };\n        this.module = module;\n        this.query = query;\n        this.errors = [];\n        this.warnings = [];\n        this.childModules = [];\n        this.transpilationDependencies = new Set();\n        this.dependencies = new Set();\n        this.asyncDependencies = [];\n        this.transpilationInitiators = new Set();\n        this.initiators = new Set();\n        this.isEntry = false;\n        this.isTestFile = false;\n        this.hash = hashsum(`${this.module.path}:${this.query}`);\n    }\n    getId() {\n        return `${this.module.path}:${this.query}`;\n    }\n    dispose(manager) {\n        if (this.hmrConfig) {\n            // If this is a hot module we fully reload the application, same as Webpack v2.\n            manager.markHardReload();\n        }\n        this.reset();\n        // Reset parents\n        this.initiators.forEach(tModule => {\n            tModule.resetTranspilation();\n        });\n        // There are no other modules calling this module, so we run a function on\n        // all transpilers that clears side effects if there are any. Example:\n        // Remove CSS styles from the dom.\n        manager.preset.getLoaders(this.module, manager, this.query).forEach(t => {\n            if (t.transpiler.cleanModule) {\n                t.transpiler.cleanModule(this.getLoaderContext(manager, t.options));\n            }\n        });\n        manager.removeTranspiledModule(this);\n    }\n    reset() {\n        // We don't reset the compilation if itself and its parents if HMR is\n        // accepted for this module. We only mark it as changed so we can properly\n        // handle the update in the evaluation.\n        this.childModules.forEach(m => {\n            m.reset();\n        });\n        this.childModules = [];\n        this.resetTranspilation();\n        this.setIsEntry(false);\n        this.setIsTestFile(false);\n    }\n    resetTranspilation() {\n        Array.from(this.transpilationInitiators)\n            .filter(t => t.source)\n            .forEach(dep => {\n            dep.resetTranspilation();\n        });\n        this.previousSource = this.source;\n        this.source = null;\n        this.errors = [];\n        this.warnings = [];\n        Array.from(this.dependencies).forEach(t => {\n            t.initiators.delete(this);\n        });\n        // Don't do it for transpilation dependencies, since those cannot be traced back since we also reset transpilation of them.\n        this.dependencies.clear();\n        this.transpilationDependencies.clear();\n        this.asyncDependencies = [];\n    }\n    resetCompilation() {\n        if (this.compilation) {\n            this.compilation = null;\n        }\n        if (this.hmrConfig && this.hmrConfig.isHot()) {\n            this.hmrConfig.setDirty(true);\n        }\n        else {\n            Array.from(this.initiators)\n                .filter(t => t.compilation)\n                .forEach(dep => {\n                dep.resetCompilation();\n            });\n            Array.from(this.transpilationInitiators)\n                .filter(t => t.compilation)\n                .forEach(dep => {\n                dep.resetCompilation();\n            });\n            // If this is an entry we want all direct entries to be reset as well.\n            // Entries generally have side effects\n            if (this.isEntry) {\n                Array.from(this.dependencies)\n                    .filter(t => t.compilation && t.isEntry)\n                    .forEach(dep => {\n                    dep.resetCompilation();\n                });\n            }\n        }\n    }\n    /**\n     * Determines if this is a module that should be transpiled if updated. If this\n     * is a transpilationDependency that's updated then it should not get transpiled, but the parent should.\n     */\n    shouldTranspile() {\n        return (!this.source &&\n            !this.isTestFile &&\n            !(this.initiators.size === 0 && this.transpilationInitiators.size > 0));\n    }\n    addDependency(manager, depPath, options = {}, isTranspilationDep = false) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (depPath.startsWith('codesandbox-api')) {\n                return;\n            }\n            try {\n                const tModule = yield manager.resolveTranspiledModule(depPath, options && options.isAbsolute ? '/' : this.module.path);\n                if (isTranspilationDep) {\n                    this.transpilationDependencies.add(tModule);\n                    tModule.transpilationInitiators.add(this);\n                }\n                else {\n                    this.dependencies.add(tModule);\n                    tModule.initiators.add(this);\n                }\n                if (options.isEntry) {\n                    tModule.setIsEntry(true);\n                }\n            }\n            catch (e) {\n                if (e.type === 'module-not-found' && e.isDependency) {\n                    const { queryPath } = splitQueryFromPath(depPath);\n                    this.asyncDependencies.push(manager.downloadDependency(e.path, this, queryPath));\n                }\n                else {\n                    // When a custom file resolver is given to the manager we will try\n                    // to resolve using this file resolver. If that fails we will still\n                    // mark the dependency as having missing deps.\n                    if (manager.fileResolver) {\n                        this.asyncDependencies.push(\n                        // eslint-disable-next-line\n                        new Promise((resolve) => __awaiter(this, void 0, void 0, function* () {\n                            try {\n                                const tModule = yield manager.resolveTranspiledModule(depPath, options && options.isAbsolute ? '/' : this.module.path, undefined, true);\n                                if (isTranspilationDep) {\n                                    this.transpilationDependencies.add(tModule);\n                                    tModule.transpilationInitiators.add(this);\n                                }\n                                else {\n                                    this.dependencies.add(tModule);\n                                    tModule.initiators.add(this);\n                                }\n                                if (options.isEntry) {\n                                    tModule.setIsEntry(true);\n                                }\n                                resolve(tModule);\n                            }\n                            catch (err) {\n                                if (process.env.NODE_ENV === 'development') {\n                                    console.error('Problem while trying to fetch file from custom fileResolver');\n                                    console.error(err);\n                                }\n                                this.hasMissingDependencies = true;\n                            }\n                        })));\n                        return;\n                    }\n                    // Don't throw the error, we want to throw this error during evaluation\n                    // so we get the correct line as error\n                    // ... Thank you so much for this younger Ives, you saved me here.\n                    if (process.env.NODE_ENV === 'development') {\n                        console.error(e);\n                    }\n                    this.hasMissingDependencies = true;\n                }\n            }\n        });\n    }\n    update(module) {\n        if (this.module.path !== module.path || this.module.code !== module.code) {\n            this.module = module;\n            this.resetTranspilation();\n        }\n        return this;\n    }\n    getLoaderContext(manager, transpilerOptions = {}) {\n        return {\n            emitWarning: warning => {\n                this.warnings.push(new ModuleWarning(this, warning));\n            },\n            emitError: error => {\n                this.errors.push(new ModuleError(this, error));\n            },\n            emitModule: (path, code, directoryPath = pathUtils.dirname(this.module.path), overwrite = true, isChild = true) => {\n                const queryPath = path.split('!');\n                // pop() mutates queryPath, queryPath is now just the loaders\n                const modulePath = queryPath.pop();\n                const moduleCopy = {\n                    path: pathUtils.join(directoryPath, modulePath),\n                    parent: this.module,\n                    code,\n                };\n                let transpiledModule;\n                if (!overwrite) {\n                    try {\n                        transpiledModule = manager.getTranspiledModule(moduleCopy, queryPath.join('!'));\n                        transpiledModule.update(moduleCopy);\n                    }\n                    catch (e) {\n                        /* Nothing is here, just continue */\n                    }\n                }\n                transpiledModule =\n                    transpiledModule ||\n                        manager.addTranspiledModule(moduleCopy, queryPath.join('!'));\n                if (isChild) {\n                    this.childModules.push(transpiledModule);\n                }\n                this.dependencies.add(transpiledModule);\n                transpiledModule.initiators.add(this);\n                return transpiledModule;\n            },\n            // Add an explicit transpilation dependency, this is needed for loaders\n            // that include the source of another file by themselves, we need to\n            // force transpilation to rebuild the file\n            addTranspilationDependency: (depPath, options) => {\n                this.addDependency(manager, depPath, options, true);\n            },\n            addDependency: (depPath, options = {}) => __awaiter(this, void 0, void 0, function* () {\n                this.addDependency(manager, depPath, options);\n            }),\n            addDependenciesInDirectory: (folderPath, options = {}) => {\n                const tModules = manager.resolveTranspiledModulesInDirectory(folderPath, options && options.isAbsolute ? '/' : this.module.path);\n                tModules.forEach(tModule => {\n                    this.dependencies.add(tModule);\n                    tModule.initiators.add(this);\n                    if (options.isEntry) {\n                        tModule.setIsEntry(true);\n                    }\n                });\n            },\n            resolveTranspiledModule: (depPath, options = {}) => manager.resolveTranspiledModule(depPath, options.isAbsolute ? '/' : this.module.path, options.ignoredExtensions),\n            resolveTranspiledModuleAsync: (depPath, options = {}) => manager.resolveTranspiledModuleAsync(depPath, options.isAbsolute ? undefined : this, options.ignoredExtensions),\n            getModules: () => manager.getModules(),\n            options: Object.assign({ context: pathUtils.dirname(this.module.path), configurations: manager.configurations }, transpilerOptions),\n            webpack: true,\n            sourceMap: true,\n            target: 'web',\n            _module: this,\n            path: this.module.path,\n            template: manager.preset.name,\n            remainingRequests: '',\n            sandboxId: manager.id,\n            resourceQuery: this.query,\n            getLoaderQuery: (module) => manager.preset.getQuery(module, manager),\n        };\n    }\n    /**\n     * Mark the transpiled module as entry (or not), this is needed to let the\n     * cleanup know that this module can have no initiators, but is still required.\n     * @param {*} isEntry\n     */\n    setIsEntry(isEntry) {\n        this.isEntry = isEntry;\n    }\n    /**\n     * Mark if this is a test file. If this is a test file we know that we don't\n     * need to do any refresh or fixing when an error is thrown by the module. It's\n     * not a vital module after all.\n     */\n    setIsTestFile(isTestFile) {\n        this.isTestFile = isTestFile;\n    }\n    /**\n     * Transpile the module, it takes in all loaders from the default loaders +\n     * query string and passes the result from loader to loader. During transpilation\n     * dependencies can be added, these dependencies will be transpiled concurrently\n     * after the initial transpilation finished.\n     * @param {*} manager\n     */\n    doTranspile(manager) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.hasMissingDependencies = false;\n            // Remove this module from the initiators of old deps, so we can populate a\n            // fresh cache\n            this.dependencies.forEach(tModule => {\n                tModule.initiators.delete(this);\n            });\n            this.transpilationDependencies.forEach(tModule => {\n                tModule.transpilationInitiators.delete(this);\n            });\n            this.childModules.forEach(tModule => {\n                tModule.dispose(manager);\n            });\n            this.dependencies.clear();\n            this.transpilationDependencies.clear();\n            this.childModules.length = 0;\n            this.errors = [];\n            this.warnings = [];\n            let code = this.module.code || '';\n            let finalSourceMap = null;\n            const { requires } = this.module;\n            if (requires != null && this.query === '') {\n                // We now know that this has been transpiled on the server, so we shortcut\n                const loaderContext = this.getLoaderContext(manager, {});\n                // These are precomputed requires, for npm dependencies\n                requires.forEach(r => {\n                    if (r.indexOf('glob:') === 0) {\n                        const reGlob = r.replace('glob:', '');\n                        loaderContext.addDependenciesInDirectory(reGlob);\n                    }\n                    else {\n                        loaderContext.addDependency(r);\n                    }\n                });\n                // eslint-disable-next-line\n                code = this.module.code;\n            }\n            else {\n                const transpilers = manager.preset.getLoaders(this.module, manager, this.query);\n                for (let i = 0; i < transpilers.length; i += 1) {\n                    const transpilerConfig = transpilers[i];\n                    const loaderContext = this.getLoaderContext(manager, transpilerConfig.options || {});\n                    loaderContext.remainingRequests = transpilers\n                        .slice(i + 1)\n                        .map(transpiler => transpiler.transpiler.name)\n                        .concat([this.module.path])\n                        .join('!');\n                    const measureKey = `transpile-${transpilerConfig.transpiler.name}-${this.getId()}`;\n                    try {\n                        measure(measureKey);\n                        const { transpiledCode, sourceMap, } = yield transpilerConfig.transpiler.transpile(code, loaderContext);\n                        endMeasure(measureKey, { silent: true });\n                        if (this.errors.length) {\n                            throw this.errors[0];\n                        }\n                        code = transpiledCode;\n                        finalSourceMap = sourceMap;\n                    }\n                    catch (e) {\n                        e.fileName = loaderContext.path;\n                        e.tModule = this;\n                        this.resetTranspilation();\n                        // Compilation should also be reset, since the code will be different now\n                        // we don't have a transpilation.\n                        this.resetCompilation();\n                        manager.clearCache();\n                        throw e;\n                    }\n                }\n                this.logWarnings();\n            }\n            const sourceEqualsCompiled = code === this.module.code;\n            const sourceURL = `//# sourceURL=${location.origin}${this.module.path}${this.query ? `?${this.hash}` : ''}`;\n            // Add the source of the file by default, this is important for source mapping\n            // errors back to their origin\n            code = `${code}\\n${sourceURL}`;\n            this.source = new ModuleSource(this.module.path, code, finalSourceMap, sourceEqualsCompiled);\n            if (this.previousSource &&\n                this.previousSource.compiledCode !== this.source.compiledCode) {\n                const hasHMR = manager.preset\n                    .getLoaders(this.module, manager, this.query)\n                    .some(t => t.transpiler.HMREnabled == null ? true : t.transpiler.HMREnabled);\n                if (!hasHMR) {\n                    manager.markHardReload();\n                }\n                else {\n                    this.resetCompilation();\n                }\n            }\n            yield Promise.all(this.asyncDependencies.map((p) => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    const tModule = yield p;\n                    this.dependencies.add(tModule);\n                    tModule.initiators.add(this);\n                }\n                catch (e) {\n                    /* let this handle at evaluation */\n                }\n            })));\n            this.asyncDependencies = [];\n            yield Promise.all(flattenDeep([\n                ...Array.from(this.transpilationInitiators).map(t => t.transpile(manager)),\n                ...Array.from(this.dependencies).map(t => t.transpile(manager)),\n            ]));\n            return this;\n        });\n    }\n    transpile(manager) {\n        if (this.source) {\n            return Promise.resolve(this);\n        }\n        const id = this.getId();\n        if (manager.transpileJobs[id]) {\n            if (manager.transpileJobs[id] === true) {\n                // Is currently being transpiled, and the promise hasn't been set yet\n                // because it is working on executing the promise. This rare case only\n                // happens when we have a dependency loop, which could result in a\n                // StackTraceOverflow. Dependency loop: A -> B -> C -> A -> B -> C\n                return new Promise((resolve) => __awaiter(this, void 0, void 0, function* () {\n                    while (!this.source && manager.transpileJobs[id] === true) {\n                        // eslint-disable-next-line\n                        yield delay(10);\n                    }\n                    if (manager.transpileJobs[id] && manager.transpileJobs[id] !== true) {\n                        resolve(manager.transpileJobs[id]);\n                    }\n                    else {\n                        resolve(this);\n                    }\n                }));\n            }\n            return manager.transpileJobs[id];\n        }\n        manager.transpileJobs[id] = true;\n        // eslint-disable-next-line\n        return (manager.transpileJobs[id] = this.doTranspile(manager)).finally(() => {\n            delete manager.transpileJobs[id];\n        });\n    }\n    evaluate(manager, { asUMD = false, force = false, globals, } = {}, initiator) {\n        if (this.source == null) {\n            if (this.module.path === '/node_modules/empty/index.js') {\n                return {};\n            }\n            if (this.module.path.startsWith('/node_modules')) {\n                if (process.env.NODE_ENV === 'development') {\n                    console.warn(`[WARN] Sandpack: loading an untranspiled module: ${this.module.path}`);\n                }\n                // This code is probably required as a dynamic require. Since we can\n                // assume that node_modules dynamic requires are only done for node\n                // utilites we will just set the transpiled code according to how\n                // node handles that.\n                let code = this.module.path.endsWith('.json')\n                    ? `module.exports = JSON.parse(${JSON.stringify(this.module.code)})`\n                    : this.module.code;\n                code += `\\n//# sourceURL=${location.origin}${this.module.path}${this.query ? `?${this.hash}` : ''}`;\n                this.source = new ModuleSource(this.module.path, code, null);\n                if (initiator) {\n                    initiator.dependencies.add(this);\n                    this.initiators.add(initiator);\n                }\n            }\n            else {\n                // This scenario only happens when we are in an inconsistent state, the quickest way to solve\n                // this state is to just hard reload everything.\n                manager.clearCache();\n                throw new Error(`${this.module.path} hasn't been transpiled yet.`);\n            }\n        }\n        const localModule = this.module;\n        if (manager.webpackHMR) {\n            if (!this.compilation) {\n                const shouldReloadPage = this.hmrConfig\n                    ? this.hmrConfig.isDeclined(this.isEntry)\n                    : this.isEntry && !this.isTestFile;\n                if (shouldReloadPage) {\n                    if (manager.isFirstLoad) {\n                        // We're in a reload loop! Ignore all caches!\n                        manager.clearCache();\n                        manager.deleteAPICache().then(() => {\n                            document.location.reload();\n                        });\n                    }\n                    else {\n                        document.location.reload();\n                    }\n                    return {};\n                }\n            }\n            else if (!this.isTestFile &&\n                (!this.hmrConfig || !this.hmrConfig.isDirty())) {\n                return this.compilation.exports;\n            }\n        }\n        else if (this.isCompilationCached(globals) &&\n            !this.isEntry &&\n            this.compilation) {\n            return this.compilation.exports;\n        }\n        if (this.hmrConfig) {\n            /* eslint-disable no-param-reassign */\n            manager.setHmrStatus('dispose');\n            // Call module.hot.dispose handler\n            // https://webpack.js.org/api/hot-module-replacement/#dispose-or-adddisposehandler-\n            this.hmrConfig.callDisposeHandler();\n            manager.setHmrStatus('idle');\n            /* eslint-enable */\n        }\n        const hotData = this.hmrConfig ? this.hmrConfig.data : undefined;\n        this.compilation =\n            this.compilation ||\n                {\n                    id: this.getId(),\n                    exports: {},\n                    globals,\n                    hot: {\n                        accept: (path, cb) => {\n                            if (typeof path === 'undefined' ||\n                                (typeof path !== 'string' && !Array.isArray(path))) {\n                                // Self mark hot\n                                this.hmrConfig = this.hmrConfig || new HMR();\n                                if (this.hmrConfig) {\n                                    const { hmrConfig } = this;\n                                    hmrConfig.setType('accept');\n                                    hmrConfig.setSelfAccepted(true);\n                                }\n                            }\n                            else {\n                                const paths = typeof path === 'string' ? [path] : path;\n                                paths.forEach((p) => __awaiter(this, void 0, void 0, function* () {\n                                    const tModule = yield manager.resolveTranspiledModule(p, this.module.path);\n                                    tModule.hmrConfig = tModule.hmrConfig || new HMR();\n                                    const { hmrConfig } = tModule;\n                                    hmrConfig.setType('accept');\n                                    hmrConfig.setAcceptCallback(cb);\n                                }));\n                            }\n                            manager.enableWebpackHMR();\n                        },\n                        decline: (path) => {\n                            if (typeof path === 'undefined') {\n                                this.hmrConfig = this.hmrConfig || new HMR();\n                                this.hmrConfig.setType('decline');\n                                this.resetCompilation();\n                            }\n                            else {\n                                const paths = typeof path === 'string' ? [path] : path;\n                                paths.forEach((p) => __awaiter(this, void 0, void 0, function* () {\n                                    const tModule = yield manager.resolveTranspiledModule(p, this.module.path);\n                                    tModule.hmrConfig = tModule.hmrConfig || new HMR();\n                                    tModule.hmrConfig.setType('decline');\n                                    tModule.resetCompilation();\n                                }));\n                            }\n                            manager.enableWebpackHMR();\n                        },\n                        dispose: (cb) => {\n                            this.hmrConfig = this.hmrConfig || new HMR();\n                            this.hmrConfig.setDisposeHandler(cb);\n                        },\n                        invalidate: () => {\n                            this.hmrConfig = this.hmrConfig || new HMR();\n                            // We have to bubble up, so reset compilation of parents\n                            Array.from(this.initiators)\n                                .filter(t => t.compilation)\n                                .forEach(dep => {\n                                dep.resetCompilation();\n                            });\n                            this.hmrConfig.setInvalidated(true);\n                        },\n                        data: hotData,\n                        status: () => manager.hmrStatus,\n                        addStatusHandler: manager.addStatusHandler,\n                        removeStatusHandler: manager.removeStatusHandler,\n                    },\n                };\n        if (this.compilation.hot && hotData) {\n            this.compilation.hot.data = hotData;\n        }\n        const transpiledModule = this;\n        try {\n            // eslint-disable-next-line no-inner-declarations\n            function require(path) {\n                if (path === '') {\n                    throw new Error('Cannot import an empty path');\n                }\n                const usedPath = manager.getPresetAliasedPath(path);\n                const bfsModule = BrowserFS.BFSRequire(usedPath);\n                if (path === 'os') {\n                    const os = require('os-browserify');\n                    os.homedir = () => '/home/sandbox';\n                    return os;\n                }\n                if (bfsModule) {\n                    return bfsModule;\n                }\n                if (path === 'module') {\n                    return class NodeModule {\n                        constructor() {\n                            this.filename = undefined;\n                            this.id = undefined;\n                            this.loaded = false;\n                        }\n                        static _resolveFilename(toPath, module) {\n                            if (module.filename == null) {\n                                throw new Error('Module has no filename');\n                            }\n                            const m = manager.resolveModule(toPath, module.filename);\n                            return m.path;\n                        }\n                        static _nodeModulePaths() {\n                            return [];\n                        }\n                    };\n                }\n                // So it must be a dependency\n                if (path.startsWith('codesandbox-api')) {\n                    return resolveDependency(path);\n                }\n                const requiredTranspiledModule = manager.resolveTranspiledModule(path, localModule.path);\n                // Check if this module has been evaluated before, if so return the exports\n                // of that compilation\n                const cache = requiredTranspiledModule.compilation;\n                return requiredTranspiledModule.isCompilationCached(globals)\n                    ? cache.exports\n                    : manager.evaluateTranspiledModule(requiredTranspiledModule, transpiledModule, { force, globals });\n            }\n            // @ts-ignore\n            require.resolve = function resolve(path) {\n                const foundModule = manager.resolveModule(path, localModule.path);\n                return foundModule.path;\n            };\n            const usedGlobals = globals || {};\n            usedGlobals.__dirname = pathUtils.dirname(this.module.path);\n            usedGlobals.__filename = this.module.path;\n            usedGlobals.$csbImport = (path) => manager\n                .evaluate(path, this)\n                .then(result => interopRequireWildcard(result));\n            const exports = evaluate(this.source.compiledCode, require, this.compilation, manager.envVariables, usedGlobals, { asUMD });\n            /* eslint-disable no-param-reassign */\n            manager.setHmrStatus('apply');\n            const { hmrConfig } = this;\n            if (hmrConfig && hmrConfig.isHot()) {\n                hmrConfig.setDirty(false);\n                hmrConfig.callAcceptCallback();\n            }\n            manager.setHmrStatus('idle');\n            /* eslint-enable */\n            return exports;\n        }\n        catch (e) {\n            e.tModule = e.tModule || transpiledModule;\n            this.resetCompilation();\n            throw e;\n        }\n    }\n    postTranspile(manager) {\n        if (this.initiators.size === 0 &&\n            this.transpilationInitiators.size === 0 &&\n            !this.isEntry &&\n            !manager.isFirstLoad &&\n            // Don't delete stubbed modules, they are here for a reason, most probably\n            // because they are aliased with a browser field\n            !this.module.stubbed) {\n            // Remove the module from the transpiler if it's not used anymore\n            debug(`Removing '${this.getId()}' from manager.`);\n            this.dispose(manager);\n        }\n    }\n    postEvaluate(manager) {\n        // Question: do we need to disable this for HMR projects?\n        // For non cacheable transpilers we remove the cached evaluation\n        if (manager.preset\n            .getLoaders(this.module, manager, this.query)\n            .some(t => t.transpiler.cacheable == null ? false : !t.transpiler.cacheable)) {\n            debug(`Removing '${this.getId()}' cache as it's not cacheable.`);\n            this.compilation = null;\n        }\n    }\n    serialize(optimizeForSize = true) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const sourceEqualsCompiled = Boolean(this.source && this.source.sourceEqualsCompiled);\n            const serializableObject = {\n                query: this.query,\n                module: this.module,\n                isEntry: this.isEntry,\n                isTestFile: this.isTestFile,\n                sourceEqualsCompiled,\n                childModules: this.childModules.map(m => m.getId()),\n                dependencies: Array.from(this.dependencies).map(m => m.getId()),\n                initiators: Array.from(this.initiators).map(m => m.getId()),\n                transpilationDependencies: Array.from(this.transpilationDependencies).map(m => m.getId()),\n                transpilationInitiators: Array.from(this.transpilationInitiators).map(m => m.getId()),\n                asyncDependencies: yield Promise.all(Array.from(this.asyncDependencies).map(m => m.then(x => x.getId()))),\n                warnings: this.warnings.map(war => war.serialize()),\n                hasMissingDependencies: this.hasMissingDependencies,\n                source: null,\n            };\n            const isNpmDependency = this.module.path.startsWith('/node_modules/');\n            const canOptimizeSize = sourceEqualsCompiled && optimizeForSize;\n            // Don't cache source if it didn't change, also don't cache changed source from npm\n            // dependencies as we can compile those really quickly.\n            const shouldCacheTranspiledSource = !canOptimizeSize && !isNpmDependency;\n            if (shouldCacheTranspiledSource) {\n                serializableObject.source = this.source || null;\n            }\n            return serializableObject;\n        });\n    }\n    load(data, state, manager) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.query = data.query;\n            this.module = data.module;\n            this.isEntry = data.isEntry;\n            this.isTestFile = data.isTestFile;\n            this.hasMissingDependencies = data.hasMissingDependencies;\n            if (data.sourceEqualsCompiled) {\n                this.source = new ModuleSource(this.module.path, this.module.code, null, true);\n            }\n            else {\n                this.source = data.source || null;\n            }\n            const getModule = (depId) => {\n                if (state[depId]) {\n                    return state[depId];\n                }\n                const [path, ...queryParts] = depId.split(':');\n                const query = queryParts.join(':');\n                const { module } = manager.transpiledModules[path];\n                return manager.getTranspiledModule(module, query);\n            };\n            const loadModule = (depId, initiator = false, transpilation = false) => {\n                const tModule = getModule(depId);\n                if (initiator) {\n                    if (transpilation) {\n                        tModule.transpilationDependencies.add(this);\n                    }\n                    else {\n                        tModule.dependencies.add(this);\n                    }\n                }\n                else if (transpilation) {\n                    tModule.transpilationInitiators.add(this);\n                }\n                else {\n                    tModule.initiators.add(this);\n                }\n                return tModule;\n            };\n            data.dependencies.forEach((depId) => {\n                this.dependencies.add(loadModule(depId));\n            });\n            data.childModules.forEach((depId) => {\n                this.childModules.push(loadModule(depId));\n            });\n            data.initiators.forEach((depId) => {\n                this.initiators.add(loadModule(depId, true));\n            });\n            data.transpilationDependencies.forEach((depId) => {\n                this.transpilationDependencies.add(loadModule(depId, false, true));\n            });\n            data.transpilationInitiators.forEach((depId) => {\n                this.transpilationInitiators.add(loadModule(depId, true, true));\n            });\n            data.asyncDependencies.forEach((depId) => {\n                this.asyncDependencies.push(Promise.resolve(loadModule(depId)));\n            });\n            this.warnings =\n                data.warnings.map(war => new ModuleWarning(this, war)) || [];\n            this.logWarnings();\n        });\n    }\n}\n","// @ts-ignore\nimport DependencyNotFoundError from 'sandbox-hooks/errors/dependency-not-found-error';\n/**\n * Converts a dependency string to an actual dependency\n *\n * @param {string} dependencyPath\n * @param {Object} externals\n * @returns\n */\nexport default function getDependency(dependencyPath) {\n    if (dependencyPath === 'codesandbox-api') {\n        // eslint-disable-next-line\n        return require('codesandbox-api');\n    }\n    throw new DependencyNotFoundError(dependencyPath);\n}\n","export default {\n    assert: 'assert/assert.js',\n    buffer: 'buffer/index.js',\n    child_process: null,\n    cluster: null,\n    console: 'console-browserify/index.js',\n    constants: 'constants-browserify/constants.json',\n    crypto: 'crypto-browserify/index.js',\n    dgram: null,\n    dns: null,\n    domain: 'domain-browser/index.js',\n    events: 'events/events.js',\n    fs: null,\n    http: 'stream-http/index.js',\n    https: 'https-browserify/index.js',\n    module: null,\n    net: null,\n    os: 'os-browserify/browser.js',\n    path: 'path-browserify/index.js',\n    punycode: 'punycode/punycode.js',\n    process: 'process/browser.js',\n    querystring: 'querystring-es3/index.js',\n    readline: null,\n    repl: null,\n    stream: 'stream-browserify/index.js',\n    _stream_duplex: 'readable-stream/duplex.js',\n    _stream_passthrough: 'readable-stream/passthrough.js',\n    _stream_readable: 'readable-stream/readable.js',\n    _stream_transform: 'readable-stream/transform.js',\n    _stream_writable: 'readable-stream/writable.js',\n    sys: 'util/util.js',\n    timers: 'timers-browserify/main.js',\n    tls: null,\n    tty: 'tty-browserify/index.js',\n    url: 'url/url.js',\n    util: 'util/util.js',\n    vm: 'vm-browserify/index.js',\n    zlib: 'browserify-zlib/src/index.js',\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { TarStore } from './utils/tar-store';\n/**\n * Remove the ./ or / from the start\n */\nfunction normalizePath(path) {\n    return path.replace(/^\\.\\//, '').replace(/^\\//, '');\n}\nexport class FileFetcher {\n    constructor(manager) {\n        this.manager = manager;\n        this.tarStore = new TarStore();\n    }\n    getUrlFromFileProtocol(version) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const tarLocation = normalizePath(version.replace(/^file:/, ''));\n            const module = this.manager.transpiledModules['/' + tarLocation];\n            if (!module) {\n                throw new Error(`Could not find ${version} while resolving dependency`);\n            }\n            return module.module.code;\n        });\n    }\n    file(name, version, path) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const url = yield this.getUrlFromFileProtocol(version);\n            return this.tarStore.file(name, url, path);\n        });\n    }\n    meta(name, version) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const url = yield this.getUrlFromFileProtocol(version);\n            return this.tarStore.meta(name, url);\n        });\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { flattenDeep, uniq, values } from 'lodash-es';\nimport { Protocol } from 'codesandbox-api';\nimport resolve from 'browser-resolve';\nimport fs from 'fs';\nimport * as pathUtils from '@codesandbox/common/lib/utils/path';\nimport _debug from '@codesandbox/common/lib/utils/debug';\nimport { getGlobal } from '@codesandbox/common/lib/utils/global';\nimport { measure, endMeasure } from '@codesandbox/common/lib/utils/metrics';\nimport DependencyNotFoundError from 'sandbox-hooks/errors/dependency-not-found-error';\nimport ModuleNotFoundError from 'sandbox-hooks/errors/module-not-found-error';\nimport { generateBenchmarkInterface } from './utils/benchmark';\nimport { TranspiledModule, } from './transpiled-module/transpiled-module';\nimport fetchModule, { setCombinedMetas, combinedMetas, } from './npm/dynamic/fetch-npm-module';\nimport coreLibraries from './npm/get-core-libraries';\nimport dependenciesToQuery from './npm/dependencies-to-query';\nimport { getDependencyName } from './utils/get-dependency-name';\nimport { packageFilter } from './utils/resolve-utils';\nimport { ignoreNextCache, deleteAPICache, clearIndexedDBCache, } from './cache';\nimport { splitQueryFromPath } from './transpiled-module/utils/query-path';\nimport { prependToContributedProtocols, } from './npm/dynamic/fetch-protocols';\nimport { FileFetcher } from './npm/dynamic/fetch-protocols/file';\nimport { DEFAULT_EXTENSIONS } from './utils/extensions';\nconst NODE_LIBS = ['dgram', 'net', 'tls', 'fs', 'module', 'child_process'];\n// For these dependencies we don't want to follow along with the `browser` field\nconst SKIPPED_BROWSER_FIELD_DEPENDENCIES = [\n    'babel-core',\n    '@babel/core',\n].reduce((result, next) => (Object.assign(Object.assign({}, result), { [`/node_modules/${next}/package.json`]: true })), {});\nconst SHIMMED_MODULE = {\n    path: pathUtils.join('/node_modules', 'empty', 'index.js'),\n    code: `// empty`,\n    requires: [],\n};\nconst getShimmedModuleFromPath = (currentPath, path) => (Object.assign(Object.assign({}, SHIMMED_MODULE), { path: pathUtils.join(pathUtils.dirname(currentPath), path) }));\nconst debug = _debug('cs:compiler:manager');\nfunction triggerFileWatch(path, type) {\n    try {\n        // @ts-ignore\n        fs.getFSModule().fileWatcher.triggerWatch(path, type);\n    }\n    catch (e) {\n        /* ignore */\n    }\n}\nexport default class Manager {\n    constructor(id, preset, modules, options, cb) {\n        this.envVariables = {};\n        this.manifest = {\n            contents: {},\n            dependencies: [],\n            dependencyDependencies: {},\n            dependencyAliases: {},\n        };\n        this.hmrStatus = 'idle';\n        this.bfsWrapper = {\n            getTranspiledModules: () => this.transpiledModules,\n            addModule: (module) => {\n                this.addModule(module);\n            },\n            removeModule: (module) => {\n                this.removeModule(module);\n            },\n            moveModule: (module, newPath) => {\n                this.moveModule(module, newPath);\n            },\n            updateModule: (module) => {\n                this.updateModule(module);\n            },\n        };\n        // Hoist these 2 functions to the top, since they get executed A LOT\n        this.isFile = (p, cb, c) => {\n            const callback = (c || cb);\n            const hasCallback = typeof callback === 'function';\n            let returnValue;\n            if (this.stage === 'transpilation') {\n                // In transpilation phase we can afford to download the file if not found,\n                // because we're async. That's why we also include the meta here.\n                returnValue = this.transpiledModules[p] || combinedMetas[p];\n            }\n            else {\n                returnValue = this.transpiledModules[p];\n            }\n            if (returnValue == null && hasCallback && this.fileResolver) {\n                return this.fileResolver.isFile(p).then(bool => {\n                    callback(null, Boolean(bool));\n                });\n            }\n            return hasCallback\n                ? callback(null, Boolean(returnValue))\n                : Boolean(returnValue);\n        };\n        this.readFileSync = (p, cb, c) => {\n            const callback = c || cb;\n            const hasCallback = typeof callback === 'function';\n            if (this.transpiledModules[p]) {\n                const { code } = this.transpiledModules[p].module;\n                return hasCallback ? callback(null, code) : code;\n            }\n            if (hasCallback && this.fileResolver) {\n                return this.fileResolver.readFile(p).then(code => {\n                    this.addModule({ code, path: p });\n                    callback(null, code);\n                });\n            }\n            const err = new Error('Could not find ' + p);\n            // @ts-ignore\n            err.code = 'ENOENT';\n            if (hasCallback) {\n                return callback(err);\n            }\n            throw err;\n        };\n        this.setStage = (stage) => {\n            this.stage = stage;\n        };\n        this.resolveTranspiledModuleAsync = (path, currentTModule, ignoredExtensions) => __awaiter(this, void 0, void 0, function* () {\n            const tModule = currentTModule || this.getTranspiledModule(this.modules['/package.json']); // Get arbitrary file from root\n            try {\n                return this.resolveTranspiledModule(path, tModule.module.path, ignoredExtensions);\n            }\n            catch (e) {\n                if (e.type === 'module-not-found' && e.isDependency) {\n                    const { queryPath } = splitQueryFromPath(path);\n                    return this.downloadDependency(e.path, tModule, queryPath, ignoredExtensions);\n                }\n                throw e;\n            }\n        });\n        this.setHmrStatus = (status) => {\n            this.hmrStatusChangeListeners.forEach(v => {\n                v(status);\n            });\n            this.hmrStatus = status;\n        };\n        this.addStatusHandler = (cb) => {\n            this.hmrStatusChangeListeners.add(cb);\n        };\n        this.removeStatusHandler = (cb) => {\n            this.hmrStatusChangeListeners.delete(cb);\n        };\n        this.id = id;\n        this.preset = preset;\n        this.transpiledModules = {};\n        this.cachedPaths = {};\n        this.transpileJobs = {};\n        this.webpackHMR = false;\n        this.hardReload = false;\n        this.hmrStatus = 'idle';\n        this.hmrStatusChangeListeners = new Set();\n        this.isFirstLoad = true;\n        this.transpiledModulesByHash = {};\n        this.configurations = {};\n        this.stage = 'transpilation';\n        this.version = options.versionIdentifier;\n        /**\n         * Contribute the file fetcher, which needs the manager to resolve the files\n         */\n        prependToContributedProtocols([\n            {\n                condition: (name, version) => version.startsWith('file:'),\n                protocol: new FileFetcher(this),\n            },\n        ]);\n        this.modules = modules;\n        Object.keys(modules).forEach(k => this.addModule(modules[k]));\n        getGlobal().manager = this;\n        if (process.env.NODE_ENV === 'development') {\n            // eslint-disable-next-line no-console\n            console.log(this);\n            // Initialize benchmark logic\n            getGlobal().Benchmark = generateBenchmarkInterface(this);\n        }\n        BrowserFS.configure({\n            fs: 'CodeSandboxFS',\n            options: {\n                manager: this.bfsWrapper,\n            },\n        }, () => {\n            if (cb) {\n                cb();\n            }\n        });\n        if (options.hasFileResolver) {\n            this.setupFileResolver();\n        }\n    }\n    prependNpmProtocolDefinition(protocol) {\n        prependToContributedProtocols([protocol]);\n    }\n    evaluate(path, baseTModule) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const tModule = yield this.resolveTranspiledModuleAsync(path, baseTModule, this.preset.ignoredExtensions);\n            yield tModule.transpile(this);\n            return tModule.evaluate(this);\n        });\n    }\n    setupFileResolver() {\n        const protocol = new Protocol('file-resolver', () => true, window.parent);\n        this.fileResolver = {\n            protocol,\n            isFile: (path) => protocol.sendMessage({ m: 'isFile', p: path }),\n            readFile: (path) => protocol.sendMessage({ m: 'readFile', p: path }),\n        };\n    }\n    resetAllModules() {\n        this.getTranspiledModules().forEach(t => {\n            t.resetTranspilation();\n            t.resetCompilation();\n        });\n    }\n    setManifest(manifest) {\n        this.manifest = manifest || {\n            contents: {},\n            dependencies: [],\n            dependencyDependencies: {},\n            dependencyAliases: {},\n        };\n        Object.keys(this.manifest.contents).forEach(path => {\n            const module = {\n                path,\n                code: this.manifest.contents[path].content,\n            };\n            if (SKIPPED_BROWSER_FIELD_DEPENDENCIES[path]) {\n                const pJsonCode = JSON.parse(this.manifest.contents[path].content);\n                // eslint-disable-next-line\n                delete pJsonCode.browser;\n                module.code = JSON.stringify(pJsonCode, null, 2);\n            }\n            this.addModule(module);\n        });\n        debug(`Loaded manifest.`);\n    }\n    evaluateModule(module, { force = false, globals } = {}) {\n        if (this.hardReload && !this.isFirstLoad) {\n            // Do a hard reload\n            document.location.reload();\n            return {};\n        }\n        // Evaluate the *changed* HMR modules first\n        this.getTranspiledModules()\n            .filter(t => t.hmrConfig && t.hmrConfig.isDirty())\n            .forEach(t => t.evaluate(this));\n        const transpiledModule = this.getTranspiledModule(module);\n        if (force && transpiledModule.compilation) {\n            transpiledModule.compilation = null;\n        }\n        try {\n            const exports = this.evaluateTranspiledModule(transpiledModule, undefined, { force, globals });\n            if (this.webpackHMR) {\n                // Check if any module has been invalidated, because in that case we need to\n                // restart evaluation.\n                const invalidatedModules = this.getTranspiledModules().filter(t => {\n                    var _a;\n                    if ((_a = t.hmrConfig) === null || _a === void 0 ? void 0 : _a.invalidated) {\n                        t.compilation = null;\n                        t.hmrConfig = null;\n                        return true;\n                    }\n                    return false;\n                });\n                if (invalidatedModules.length > 0) {\n                    return this.evaluateModule(module, { force, globals });\n                }\n            }\n            this.setHmrStatus('idle');\n            return exports;\n        }\n        finally {\n            // Run post evaluate\n            this.getTranspiledModules().forEach(t => t.postEvaluate(this));\n        }\n    }\n    evaluateTranspiledModule(transpiledModule, initiator, { force = false, globals } = {}) {\n        if (force && transpiledModule.compilation) {\n            transpiledModule.compilation = null;\n        }\n        return transpiledModule.evaluate(this, { force, globals }, initiator);\n    }\n    addModule(module) {\n        this.transpiledModules[module.path] = this.transpiledModules[module.path] || { module, tModules: {} };\n        triggerFileWatch(module.path, 'rename');\n    }\n    addTranspiledModule(module, query = '') {\n        if (!this.transpiledModules[module.path]) {\n            this.addModule(module);\n        }\n        this.transpiledModules[module.path].module = module;\n        const transpiledModule = new TranspiledModule(module, query);\n        this.transpiledModules[module.path].tModules[query] = transpiledModule;\n        this.transpiledModulesByHash[transpiledModule.hash] = transpiledModule;\n        return transpiledModule;\n    }\n    getTranspiledModuleByHash(hash) {\n        return this.transpiledModulesByHash[hash];\n    }\n    /**\n     * Get Transpiled Module from the registry, if there is no transpiled module\n     * in the registry it will create a new one.\n     *\n     * @param {Module} module\n     * @param {string} query A webpack like syntax (!url-loader)\n     */\n    getTranspiledModule(module, query = '') {\n        const moduleObject = this.transpiledModules[module.path];\n        if (!moduleObject) {\n            this.addModule(module);\n        }\n        let transpiledModule = this.transpiledModules[module.path].tModules[query];\n        if (!transpiledModule) {\n            transpiledModule = this.addTranspiledModule(module, query);\n        }\n        return transpiledModule;\n    }\n    /**\n     * One module can have multiple transpiled modules, because modules can be\n     * required in different ways. For example, require(`babel-loader!./Test.vue`) isn't\n     * the same as require(`./Test.vue`).\n     *\n     * This will return all transpiled modules, with different configurations associated one module.\n     * @param {*} module\n     */\n    getTranspiledModulesByModule(module) {\n        return this.transpiledModules[module.path]\n            ? values(this.transpiledModules[module.path].tModules)\n            : [];\n    }\n    getTranspiledModules() {\n        return values(this.transpiledModulesByHash);\n    }\n    removeTranspiledModule(tModule) {\n        delete this.transpiledModulesByHash[tModule.hash];\n        delete this.transpiledModules[tModule.module.path].tModules[tModule.query];\n    }\n    removeModule(module) {\n        // Reset all cached paths because file structure changed\n        this.cachedPaths = {};\n        const existingModule = this.transpiledModules[module.path];\n        values(existingModule.tModules).forEach(m => {\n            m.dispose(this);\n            this.removeTranspiledModule(m);\n        });\n        delete this.transpiledModules[module.path];\n        triggerFileWatch(module.path, 'rename');\n    }\n    moveModule(module, newPath) {\n        this.removeModule(module);\n        this.addModule(Object.assign(Object.assign({}, module), { path: newPath }));\n    }\n    setEnvironmentVariables() {\n        if (this.transpiledModules['/.env'] && this.preset.hasDotEnv) {\n            const envCode = this.transpiledModules['/.env'].module.code;\n            this.envVariables = {};\n            try {\n                envCode.split('\\n').forEach(envLine => {\n                    const [name, ...val] = envLine.split('=');\n                    this.envVariables[name] = val.join('=').replace(/^('|\")|('|\")$/g, '');\n                });\n            }\n            catch (e) {\n                console.error(e);\n            }\n        }\n    }\n    /**\n     * Will transpile this module and all eventual children (requires) that go with it\n     * @param {*} entry\n     */\n    transpileModules(entry, isTestFile = false) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.setHmrStatus('check');\n            this.setEnvironmentVariables();\n            const transpiledModule = this.getTranspiledModule(entry);\n            transpiledModule.setIsEntry(true);\n            transpiledModule.setIsTestFile(isTestFile);\n            const result = yield transpiledModule.transpile(this);\n            this.getTranspiledModules().forEach(t => t.postTranspile(this));\n            return result;\n        });\n    }\n    verifyTreeTranspiled() {\n        return Promise.all(this.getTranspiledModules()\n            .filter(tModule => tModule.shouldTranspile())\n            .map(tModule => tModule.transpile(this)));\n    }\n    clearCompiledCache() {\n        this.getTranspiledModules().map(tModule => tModule.resetCompilation());\n    }\n    clearTranspilationCache() {\n        this.getTranspiledModules().map(tModule => tModule.resetTranspilation());\n    }\n    getModules() {\n        return values(this.transpiledModules).map(t => t.module);\n    }\n    /**\n     * The packager returns a list of dependencies that require a different path\n     * of their subdependencies.\n     *\n     * An example:\n     * if react requires lodash v3, and react-dom requires lodash v4. We add them\n     * both to the bundle, and rewrite paths for lodash v3 to `lodash/3.0.0/`. Then\n     * we specify that when react resolves `lodash` it should resolve `lodash/3.0.0`.\n     *\n     * @param {string} path\n     * @param {string} currentPath\n     * @returns\n     * @memberof Manager\n     */\n    getAliasedDependencyPath(path, currentPath) {\n        const isDependency = /^(\\w|@\\w|@-)/.test(path);\n        if (!isDependency) {\n            return path;\n        }\n        const isCurrentPathDependency = currentPath.startsWith('/node_modules');\n        if (!isCurrentPathDependency) {\n            return path;\n        }\n        const dependencyName = getDependencyName(path);\n        const previousDependencyName = getDependencyName(currentPath.replace('/node_modules/', ''));\n        if (previousDependencyName &&\n            dependencyName &&\n            this.manifest.dependencyAliases[previousDependencyName] &&\n            this.manifest.dependencyAliases[previousDependencyName][dependencyName]) {\n            const aliasedDependencyName = this.manifest.dependencyAliases[previousDependencyName][dependencyName];\n            return path.replace(dependencyName, aliasedDependencyName);\n        }\n        return path;\n    }\n    /**\n     * Set the manager to use Webpack HMR, this changes how modules are hot reloaded\n     * and how the manager cleans up the website.\n     *\n     * @memberof Manager\n     */\n    enableWebpackHMR() {\n        this.webpackHMR = true;\n    }\n    getPresetAliasedPath(path) {\n        return this.preset\n            .getAliasedPath(path)\n            .replace(/.*\\{\\{sandboxRoot\\}\\}/, '');\n    }\n    getModuleDirectories() {\n        var _a, _b;\n        if (this.moduleDirectoriesCache) {\n            return this.moduleDirectoriesCache;\n        }\n        const baseTSCompilerConfig = [\n            this.configurations.typescript,\n            this.configurations.jsconfig,\n        ].find(config => config && config.generated !== true);\n        let baseUrl = (_b = (_a = baseTSCompilerConfig === null || baseTSCompilerConfig === void 0 ? void 0 : baseTSCompilerConfig.parsed) === null || _a === void 0 ? void 0 : _a.compilerOptions) === null || _b === void 0 ? void 0 : _b.baseUrl;\n        // TODO: we need to extract our resolver to a plugin system and use the TypeScript resolver\n        // if we see a tsconfig. A `.` doesn't work and messes up resolving.\n        if (baseUrl === '.') {\n            baseUrl = undefined;\n        }\n        this.moduleDirectoriesCache = [\n            'node_modules',\n            baseUrl,\n            this.envVariables.NODE_PATH,\n        ].filter(Boolean);\n        return this.moduleDirectoriesCache;\n    }\n    // ALWAYS KEEP THIS METHOD IN SYNC WITH SYNC VERSION\n    resolveModuleAsync(path, currentPath, defaultExtensions = ['js', 'jsx', 'json', 'mjs']) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const dirredPath = pathUtils.dirname(currentPath);\n            if (this.cachedPaths[dirredPath] === undefined) {\n                this.cachedPaths[dirredPath] = {};\n            }\n            const cachedPath = this.cachedPaths[dirredPath][path];\n            if (cachedPath) {\n                return Promise.resolve(this.transpiledModules[cachedPath].module);\n            }\n            const measureKey = `resolve-async:${path}:${currentPath}`;\n            return new Promise((promiseResolve, promiseReject) => {\n                measure(measureKey);\n                const presetAliasedPath = this.getPresetAliasedPath(path);\n                const aliasedPath = this.getAliasedDependencyPath(presetAliasedPath, currentPath);\n                const shimmedPath = coreLibraries[aliasedPath] || aliasedPath;\n                if (NODE_LIBS.indexOf(shimmedPath) > -1) {\n                    this.cachedPaths[dirredPath][path] = shimmedPath;\n                    promiseResolve(getShimmedModuleFromPath(currentPath, path));\n                    return;\n                }\n                resolve(shimmedPath, {\n                    filename: currentPath,\n                    extensions: defaultExtensions.map(ext => '.' + ext),\n                    isFile: this.isFile,\n                    // @ts-ignore\n                    readFile: this.readFileSync,\n                    packageFilter: packageFilter(this.isFile),\n                    moduleDirectory: this.getModuleDirectories(),\n                }, (err, foundPath) => {\n                    endMeasure(measureKey, { silent: true });\n                    if (err) {\n                        if (this.cachedPaths[dirredPath] &&\n                            this.cachedPaths[dirredPath][path]) {\n                            delete this.cachedPaths[dirredPath][path];\n                        }\n                        let connectedPath = shimmedPath;\n                        if (connectedPath.indexOf('/node_modules') !== 0) {\n                            connectedPath = /^(\\w|@\\w|@-)/.test(shimmedPath)\n                                ? pathUtils.join('/node_modules', shimmedPath)\n                                : pathUtils.join(pathUtils.dirname(currentPath), shimmedPath);\n                        }\n                        const isDependency = connectedPath.includes('/node_modules/');\n                        connectedPath = connectedPath.replace('/node_modules/', '');\n                        if (!isDependency) {\n                            promiseReject(new ModuleNotFoundError(shimmedPath, false, currentPath));\n                        }\n                        const dependencyName = getDependencyName(connectedPath);\n                        if (dependencyName &&\n                            (this.manifest.dependencies.find(d => d.name === dependencyName) ||\n                                this.manifest.dependencyDependencies[dependencyName] ||\n                                this.manifest.contents[`/node_modules/${dependencyName}/package.json`])) {\n                            promiseReject(new ModuleNotFoundError(connectedPath, true, currentPath));\n                        }\n                        else {\n                            promiseReject(new DependencyNotFoundError(connectedPath, currentPath));\n                        }\n                        return;\n                    }\n                    this.cachedPaths[dirredPath][path] = foundPath;\n                    if (foundPath === '//empty.js') {\n                        promiseResolve(getShimmedModuleFromPath(currentPath, path));\n                        return;\n                    }\n                    if (!this.transpiledModules[foundPath]) {\n                        this.readFileSync(foundPath, (error, code) => {\n                            if (error) {\n                                promiseReject(error);\n                                return;\n                            }\n                            this.addModule({ path: foundPath, code: code || '' });\n                            promiseResolve(this.transpiledModules[foundPath].module);\n                        });\n                    }\n                    else {\n                        promiseResolve(this.transpiledModules[foundPath].module);\n                    }\n                });\n            });\n        });\n    }\n    // ALWAYS KEEP THIS METHOD IN SYNC WITH ASYNC VERSION\n    resolveModule(path, currentPath, defaultExtensions = DEFAULT_EXTENSIONS) {\n        const dirredPath = pathUtils.dirname(currentPath);\n        if (this.cachedPaths[dirredPath] === undefined) {\n            this.cachedPaths[dirredPath] = {};\n        }\n        const cachedPath = this.cachedPaths[dirredPath][path];\n        let resolvedPath;\n        if (cachedPath && this.transpiledModules[cachedPath]) {\n            resolvedPath = cachedPath;\n        }\n        else {\n            const measureKey = `resolve-sync:${path}:${currentPath}`;\n            measure(measureKey);\n            const presetAliasedPath = this.getPresetAliasedPath(path);\n            const aliasedPath = this.getAliasedDependencyPath(presetAliasedPath, currentPath);\n            const shimmedPath = coreLibraries[aliasedPath] || aliasedPath;\n            if (NODE_LIBS.indexOf(shimmedPath) > -1) {\n                this.cachedPaths[dirredPath][path] = shimmedPath;\n                return getShimmedModuleFromPath(currentPath, path);\n            }\n            try {\n                resolvedPath = resolve.sync(shimmedPath, {\n                    filename: currentPath,\n                    extensions: defaultExtensions.map(ext => '.' + ext),\n                    isFile: this.isFile,\n                    // @ts-ignore\n                    readFileSync: this.readFileSync,\n                    packageFilter: packageFilter(this.isFile),\n                    moduleDirectory: this.getModuleDirectories(),\n                });\n                endMeasure(measureKey, { silent: true });\n                this.cachedPaths[dirredPath][path] = resolvedPath;\n                if (resolvedPath === '//empty.js') {\n                    return getShimmedModuleFromPath(currentPath, path);\n                }\n                if (!this.transpiledModules[resolvedPath]) {\n                    throw new Error(`Could not find '${resolvedPath}' in local files.`);\n                }\n            }\n            catch (e) {\n                // MAKE SURE TO SYNC THIS WITH ASYNC VERSION\n                if (this.cachedPaths[dirredPath] &&\n                    this.cachedPaths[dirredPath][path]) {\n                    delete this.cachedPaths[dirredPath][path];\n                }\n                let connectedPath = shimmedPath;\n                if (connectedPath.indexOf('/node_modules') !== 0) {\n                    connectedPath = /^(\\w|@\\w|@-)/.test(shimmedPath)\n                        ? pathUtils.join('/node_modules', shimmedPath)\n                        : pathUtils.join(pathUtils.dirname(currentPath), shimmedPath);\n                }\n                const isDependency = connectedPath.includes('/node_modules/');\n                connectedPath = connectedPath.replace('/node_modules/', '');\n                if (!isDependency) {\n                    throw new ModuleNotFoundError(shimmedPath, false, currentPath);\n                }\n                const dependencyName = getDependencyName(connectedPath);\n                // TODO: fix the stack hack\n                if (dependencyName &&\n                    (this.manifest.dependencies.find(d => d.name === dependencyName) ||\n                        this.manifest.dependencyDependencies[dependencyName] ||\n                        this.manifest.contents[`/node_modules/${dependencyName}/package.json`])) {\n                    throw new ModuleNotFoundError(connectedPath, true, currentPath);\n                }\n                else {\n                    throw new DependencyNotFoundError(connectedPath, currentPath);\n                }\n            }\n        }\n        if (resolvedPath === '//empty.js') {\n            return getShimmedModuleFromPath(currentPath, path);\n        }\n        return this.transpiledModules[resolvedPath].module;\n    }\n    downloadDependency(path, currentTModule, query = '', ignoredExtensions = this.preset.ignoredExtensions) {\n        return fetchModule(path, currentTModule, this, ignoredExtensions).then(module => this.getTranspiledModule(module, query));\n    }\n    updateModule(m) {\n        this.transpiledModules[m.path].module = m;\n        triggerFileWatch(m.path, 'change');\n        return this.getTranspiledModulesByModule(m).map(tModule => {\n            tModule.update(m);\n            return tModule;\n        });\n    }\n    resolveTranspiledModule(path, currentPath, ignoredExtensions, async) {\n        if (path.startsWith('webpack:')) {\n            throw new Error('Cannot resolve webpack path');\n        }\n        const { queryPath, modulePath } = splitQueryFromPath(path);\n        if (async) {\n            return this.resolveModuleAsync(modulePath, currentPath, ignoredExtensions || this.preset.ignoredExtensions).then(module => this.getTranspiledModule(module, queryPath));\n        }\n        const module = this.resolveModule(modulePath, currentPath, ignoredExtensions || this.preset.ignoredExtensions);\n        return this.getTranspiledModule(module, queryPath);\n    }\n    resolveTranspiledModulesInDirectory(path, currentPath) {\n        const { queryPath, modulePath } = splitQueryFromPath(path);\n        const joinedPath = pathUtils.join(pathUtils.dirname(currentPath), modulePath);\n        return Object.keys(this.transpiledModules)\n            .filter(p => p.startsWith(joinedPath))\n            .map(m => this.getTranspiledModule(this.transpiledModules[m].module, queryPath));\n    }\n    updateConfigurations(configurations) {\n        const configsUpdated = this.configurations\n            ? JSON.stringify(configurations) !== JSON.stringify(this.configurations)\n            : false;\n        if (configsUpdated) {\n            this.resetAllModules();\n        }\n        this.configurations = configurations;\n    }\n    /**\n     * Find all changed, added and deleted modules. Update trees and\n     * delete caches accordingly\n     */\n    updateData(modules) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.transpileJobs = {};\n            this.hardReload = false;\n            this.modules = modules;\n            const addedModules = [];\n            const updatedModules = [];\n            Object.keys(modules).forEach(k => {\n                const module = modules[k];\n                const mirrorModule = this.transpiledModules[k];\n                if (!mirrorModule) {\n                    // File structure changed, reset cached paths\n                    this.cachedPaths = {};\n                    addedModules.push(module);\n                }\n                else if (mirrorModule.module.code !== module.code) {\n                    // File structure changed, reset cached paths\n                    this.cachedPaths = {};\n                    updatedModules.push(module);\n                }\n            });\n            this.getModules().forEach(m => {\n                if (!m.path.startsWith('/node_modules') &&\n                    m.path !== '/var/task/node_modules/browser-resolve/empty.js' &&\n                    !modules[m.path] &&\n                    !m.parent // not an emitted module\n                ) {\n                    this.removeModule(m);\n                }\n            });\n            addedModules.forEach(m => {\n                this.addTranspiledModule(m);\n            });\n            const modulesToUpdate = uniq([\n                ...addedModules,\n                ...updatedModules,\n            ]);\n            // We eagerly transpile changed files,\n            // this way we don't have to traverse the whole\n            // dependency graph each time a file changes\n            const tModulesToUpdate = modulesToUpdate.map(m => this.updateModule(m));\n            if (tModulesToUpdate.length > 0 && this.configurations.sandbox) {\n                this.hardReload = this.configurations.sandbox.parsed.hardReloadOnChange;\n            }\n            const modulesWithErrors = this.getTranspiledModules().filter(t => {\n                if (t.hasMissingDependencies) {\n                    t.resetTranspilation();\n                }\n                return t.errors.length > 0 || t.hasMissingDependencies;\n            });\n            const flattenedTModulesToUpdate = flattenDeep([\n                tModulesToUpdate,\n                modulesWithErrors,\n            ]);\n            const allModulesToUpdate = uniq(flattenedTModulesToUpdate);\n            const transpiledModulesToUpdate = allModulesToUpdate.filter(m => !m.isTestFile);\n            // Reset test files, but don't transpile. We want to do that in the test runner\n            // so we can catch any errors\n            allModulesToUpdate\n                .filter(m => m.isTestFile)\n                .forEach(m => {\n                m.resetTranspilation();\n            });\n            debug(`Generated update diff, updating ${transpiledModulesToUpdate.length} modules.`, transpiledModulesToUpdate);\n            const transpilationResults = yield Promise.all(transpiledModulesToUpdate\n                .map(tModule => {\n                if (tModule.shouldTranspile()) {\n                    return tModule.transpile(this);\n                }\n                return Promise.resolve(false);\n            })\n                .filter(Boolean));\n            return transpilationResults;\n        });\n    }\n    /**\n     * Mark that the next evaluation should first have a location.reload() before\n     * continuing\n     */\n    markHardReload() {\n        this.setHmrStatus('fail');\n        this.hardReload = true;\n    }\n    serialize({ entryPath, optimizeForSize, } = {\n        optimizeForSize: true,\n    }) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const serializedTModules = {};\n            yield Promise.all(Object.keys(this.transpiledModules).map(path => Promise.all(Object.keys(this.transpiledModules[path].tModules).map((query) => __awaiter(this, void 0, void 0, function* () {\n                const tModule = this.transpiledModules[path].tModules[query];\n                if (!this.manifest.contents[tModule.module.path] ||\n                    tModule.module.downloaded) {\n                    // Only save modules that are not precomputed\n                    serializedTModules[tModule.getId()] = yield tModule.serialize(optimizeForSize);\n                }\n            })))));\n            const dependenciesQuery = this.getDependencyQuery();\n            const meta = {};\n            Object.keys(combinedMetas || {}).forEach(p => {\n                const dir = pathUtils.dirname(p.replace('/node_modules', ''));\n                meta[dir] = meta[dir] || [];\n                meta[dir].push(pathUtils.basename(p));\n            });\n            return {\n                transpiledModules: serializedTModules,\n                cachedPaths: this.cachedPaths,\n                version: this.version,\n                timestamp: new Date().getTime(),\n                configurations: this.configurations,\n                entry: entryPath,\n                meta,\n                dependenciesQuery,\n            };\n        });\n    }\n    getDependencyQuery() {\n        if (!this.manifest || !this.manifest.dependencies) {\n            return '';\n        }\n        const normalizedDependencies = {};\n        this.manifest.dependencies.forEach(dep => {\n            normalizedDependencies[dep.name] = dep.version;\n        });\n        return dependenciesToQuery(normalizedDependencies);\n    }\n    load(data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (data) {\n                    this.clearCache();\n                    const { transpiledModules: serializedTModules, cachedPaths, version: cacheVersion, configurations, dependenciesQuery, meta, } = data;\n                    // Only use the cache if the cached version was cached with the same\n                    // version of the compiler and dependencies haven't changed\n                    if (cacheVersion === this.version &&\n                        dependenciesQuery === this.getDependencyQuery()) {\n                        const newCombinedMetas = {};\n                        Object.keys(meta).forEach(dir => {\n                            meta[dir].forEach(file => {\n                                newCombinedMetas[`/node_modules` + dir + '/' + file] = true;\n                            });\n                        });\n                        setCombinedMetas(newCombinedMetas);\n                        this.cachedPaths = cachedPaths;\n                        this.configurations = configurations;\n                        const tModules = {};\n                        // First create tModules for all the saved modules, so we have references\n                        Object.keys(serializedTModules).forEach(id => {\n                            const sTModule = serializedTModules[id];\n                            const tModule = this.addTranspiledModule(sTModule.module, sTModule.query);\n                            tModules[id] = tModule;\n                        });\n                        yield Promise.all(Object.keys(tModules).map(id => {\n                            const tModule = tModules[id];\n                            return tModule.load(serializedTModules[id], tModules, this);\n                        }));\n                        debug(`Loaded cache.`);\n                    }\n                }\n            }\n            catch (e) {\n                if (process.env.NODE_ENV === 'development') {\n                    console.warn('Problems parsing cache');\n                    console.warn(e);\n                }\n            }\n            this.clearCache();\n        });\n    }\n    dispose() {\n        if (this.preset) {\n            this.preset.transpilers.forEach(t => {\n                if (t.dispose) {\n                    t.dispose();\n                }\n            });\n            if (this.fileResolver) {\n                this.fileResolver.protocol.dispose();\n            }\n        }\n    }\n    deleteAPICache() {\n        ignoreNextCache();\n        return deleteAPICache(this.id, this.version);\n    }\n    clearCache() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                this.moduleDirectoriesCache = undefined;\n                yield clearIndexedDBCache();\n            }\n            catch (ex) {\n                if (process.env.NODE_ENV === 'development') {\n                    console.error(ex);\n                }\n            }\n        });\n    }\n    /**\n     * Get information about all transpilers currently registered for this manager\n     */\n    getTranspilerContext() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const info = {};\n            const data = yield Promise.all(Array.from(this.preset.transpilers).map(t => t\n                .getTranspilerContext(this)\n                .then(context => ({ name: t.name, data: context }))));\n            data.forEach(t => {\n                info[t.name] = t.data;\n            });\n            return info;\n        });\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { orderBy } from 'lodash-es';\nimport querystring from 'querystring';\nimport { WebpackTranspiler } from '../transpiler/transpilers/webpack';\n/**\n * This is essentially where it all comes together. The manager is responsible for\n * doing evaluation and transpilation using the Transpiler and Loader classes.\n *\n * You can build presets with this, for example the create-react-app template\n * could create a new instance of this and register all desired loaders.\n *\n * Note that this manager should never have state besides the transpilers and\n * the loaders, the only responsibility is to activate the right transpilers\n * and loaders.\n */\nexport class Preset {\n    constructor(name, ignoredExtensions, alias, { hasDotEnv, processDependencies, setup, teardown, htmlDisabled, preEvaluate, } = {}) {\n        this.preTranspilers = [];\n        this.postTranspilers = [\n        // { transpiler: csbDynamicImportTranspiler },\n        ];\n        this.setAdditionalAliases = (aliases) => {\n            this.alias = Object.assign(Object.assign({}, this.defaultAliases), aliases);\n            this.aliasedPathCache = {};\n        };\n        this.reset = () => {\n            this.loaders = [];\n        };\n        this.resetTranspilers = () => {\n            this.transpilers.clear();\n            this.loaders.length = 0;\n        };\n        this.aliasedPathCache = {};\n        this.parseOptions = (options) => {\n            if (options == null) {\n                return {};\n            }\n            try {\n                return JSON.parse(options);\n            }\n            catch (e) {\n                return querystring.parse(options);\n            }\n        };\n        this.loaders = [];\n        this.transpilers = new Set();\n        this.name = name;\n        this.hasDotEnv = hasDotEnv || false;\n        this.alias = alias || {};\n        this.aliasedPathCache = {};\n        this.defaultAliases = alias || {};\n        this.ignoredExtensions = ignoredExtensions || ['js', 'jsx', 'json', 'mjs'];\n        const noop = () => { };\n        this.processDependencies = processDependencies || ((deps) => __awaiter(this, void 0, void 0, function* () { return deps; }));\n        this.setup = setup || noop;\n        this.teardown = teardown || noop;\n        this.preEvaluate = preEvaluate || noop;\n        this.htmlDisabled = htmlDisabled || false;\n        this.postTranspilers.forEach(transpiler => {\n            this.transpilers.add(transpiler.transpiler);\n        });\n    }\n    /**\n     * Checks if there is an alias given for the path, if there is it will return\n     * the altered path, otherwise it will just return the known path.\n     */\n    getAliasedPath(path) {\n        const aliasCache = this.aliasedPathCache[path];\n        if (aliasCache === null) {\n            return path;\n        }\n        if (aliasCache) {\n            return aliasCache;\n        }\n        const aliases = Object.keys(this.alias);\n        const exactAliases = aliases.filter(a => a.endsWith('$'));\n        const exactFoundAlias = exactAliases.find(a => {\n            const alias = a.slice(0, -1);\n            if (path === alias) {\n                return true;\n            }\n            return false;\n        });\n        if (exactFoundAlias) {\n            this.aliasedPathCache[path] = this.alias[exactFoundAlias];\n            return this.alias[exactFoundAlias];\n        }\n        const pathParts = path.split('/');\n        // Find matching aliases\n        const foundAlias = orderBy(aliases, a => -a.split('/').length).find(a => {\n            const parts = a.split('/');\n            return parts.every((p, i) => pathParts[i] === p);\n        });\n        if (foundAlias) {\n            const replacedPath = path.replace(foundAlias, this.alias[foundAlias]);\n            this.aliasedPathCache[path] = replacedPath;\n            // if an alias is found we will replace the path with the alias\n            return replacedPath;\n        }\n        this.aliasedPathCache[path] = null;\n        return path;\n    }\n    registerTranspiler(test, transpilers, prepend = false) {\n        const transpilerObject = {\n            test,\n            transpilers,\n        };\n        if (prepend) {\n            this.loaders.unshift(transpilerObject);\n        }\n        else {\n            this.loaders.push(transpilerObject);\n        }\n        transpilers.forEach(t => this.transpilers.add(t.transpiler));\n        return this.loaders;\n    }\n    /**\n     * Get transpilers from the given query, the query is webpack like:\n     * eg. !babel-loader!./test.js\n     */\n    getLoaders(module, evaluator, query = '') {\n        const loader = this.loaders.find(t => t.test(module));\n        // Starting !, drop all transpilers\n        const transpilers = query.startsWith('!') // eslint-disable-line no-nested-ternary\n            ? []\n            : loader\n                ? loader.transpilers\n                : [];\n        // Remove \"\" values\n        const transpilerNames = query.split('!').filter(x => x);\n        const extraTranspilers = transpilerNames\n            .map(loaderName => {\n            const [name, options] = loaderName.split('?');\n            let transpiler = Array.from(this.transpilers).find(t => t.name === name);\n            if (!transpiler) {\n                const webpackLoader = new WebpackTranspiler(name, evaluator);\n                // If the loader is not installed, we try to run the webpack loader.\n                this.transpilers.add(webpackLoader);\n                transpiler = webpackLoader;\n            }\n            const parsedOptions = this.parseOptions(options);\n            return { transpiler, options: parsedOptions };\n        })\n            .reverse(); // Reverse, because webpack is also in reverse order\n        const finalTranspilers = [\n            ...this.preTranspilers,\n            ...transpilers,\n            ...extraTranspilers,\n            ...this.postTranspilers,\n        ];\n        return finalTranspilers;\n    }\n    /**\n     * Get the query syntax of the module\n     */\n    getQuery(module, evaluator, query = '') {\n        const loaders = this.getLoaders(module, evaluator, query).reverse();\n        return `!${loaders\n            .map(t => {\n            const configStringified = querystring.encode(t.options);\n            const loaderQuery = configStringified ? '?' + configStringified : '';\n            return t.transpiler.name + loaderQuery;\n        })\n            .join('!')}`;\n    }\n}\n","export { default as Manager } from './manager';\nexport { TranspiledModule } from './transpiled-module';\nexport { Transpiler } from './transpiler';\nexport { Preset } from './preset';\n","export default (dependencies) => Object.keys(dependencies)\n    .sort()\n    .map(name => encodeURIComponent(`${name}@${dependencies[name]}`))\n    .join('+');\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as pathUtils from '@codesandbox/common/lib/utils/path';\nimport resolve from 'browser-resolve';\nimport DependencyNotFoundError from 'sandbox-hooks/errors/dependency-not-found-error';\nimport { getFetchProtocol } from './fetch-protocols';\nimport { getDependencyName } from '../../utils/get-dependency-name';\nimport { packageFilter } from '../../utils/resolve-utils';\nimport { DEFAULT_EXTENSIONS } from '../../utils/extensions';\nconst metas = {};\nexport let combinedMetas = {}; // eslint-disable-line\nconst normalizedMetas = {};\nconst packages = {};\nfunction prependRootPath(meta, rootPath) {\n    const newMeta = {};\n    Object.keys(meta).forEach(path => {\n        newMeta[rootPath + path] = meta[path];\n    });\n    return newMeta;\n}\nexport function setCombinedMetas(givenCombinedMetas) {\n    combinedMetas = givenCombinedMetas;\n}\n// Strips the version of a path, eg. test/1.3.0 -> test\nconst ALIAS_REGEX = /\\/\\d*\\.\\d*\\.\\d*.*?(\\/|$)/;\n/*\n * Resolve name and version from npm aliases\n * e.g. \"my-react\": \"npm:react@16.0.0\n */\nconst resolveNPMAlias = (name, version) => {\n    const IS_ALIAS = /^npm:/;\n    if (!version.match(IS_ALIAS)) {\n        return [name, version];\n    }\n    const parts = version.match(/^npm:(.+)@(.+)/);\n    return [parts[1], parts[2]];\n};\nfunction getMeta(name, packageJSONPath, version, useFallback = false) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const [depName, depVersion] = resolveNPMAlias(name, version);\n        const nameWithoutAlias = depName.replace(ALIAS_REGEX, '');\n        const id = `${packageJSONPath || depName}@${depVersion}`;\n        if (metas[id]) {\n            return metas[id];\n        }\n        const protocol = getFetchProtocol(depName, depVersion, useFallback);\n        metas[id] = protocol.meta(nameWithoutAlias, depVersion).catch(e => {\n            delete metas[id];\n            throw e;\n        });\n        return metas[id];\n    });\n}\nexport function downloadDependency(name, version, path) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const [depName, depVersion] = resolveNPMAlias(name, version);\n        const id = depName + depVersion + path;\n        if (packages[id]) {\n            return packages[id];\n        }\n        const relativePath = path\n            .replace(new RegExp(`.*${pathUtils.join('/node_modules', depName)}`.replace('/', '\\\\/')), '')\n            .replace(/#/g, '%23');\n        const nameWithoutAlias = depName.replace(ALIAS_REGEX, '');\n        const protocol = getFetchProtocol(depName, depVersion);\n        packages[id] = protocol\n            .file(nameWithoutAlias, depVersion, relativePath)\n            .catch(() => __awaiter(this, void 0, void 0, function* () {\n            const fallbackProtocol = getFetchProtocol(nameWithoutAlias, depVersion, true);\n            return fallbackProtocol.file(nameWithoutAlias, depVersion, relativePath);\n        }))\n            .then(code => ({\n            path,\n            code,\n            downloaded: true,\n        }));\n        return packages[id];\n    });\n}\nfunction resolvePath(path, currentTModule, manager, defaultExtensions = DEFAULT_EXTENSIONS, meta = {}) {\n    const currentPath = currentTModule.module.path;\n    const isFile = (p, c, cb) => {\n        const callback = cb || c;\n        const result = Boolean(manager.transpiledModules[p]) || Boolean(meta[p]);\n        if (!callback) {\n            return result;\n        }\n        return callback(null, result);\n    };\n    return new Promise((res, reject) => {\n        resolve(path, {\n            filename: currentPath,\n            extensions: defaultExtensions.map(ext => '.' + ext),\n            packageFilter: packageFilter(isFile),\n            moduleDirectory: [\n                'node_modules',\n                manager.envVariables.NODE_PATH,\n            ].filter(Boolean),\n            isFile,\n            // @ts-ignore\n            readFile: (p, c, cb) => __awaiter(this, void 0, void 0, function* () {\n                const callback = cb || c;\n                try {\n                    const tModule = manager.resolveTranspiledModule(p, '/');\n                    tModule.initiators.add(currentTModule);\n                    currentTModule.dependencies.add(tModule);\n                    return callback(null, tModule.module.code);\n                }\n                catch (e) {\n                    const depPath = p.replace(/.*\\/node_modules\\//, '');\n                    const depName = getDependencyName(depPath);\n                    // To prevent infinite loops we keep track of which dependencies have been requested before.\n                    if (!manager.transpiledModules[p] && !meta[p]) {\n                        const err = new Error('Could not find ' + p);\n                        // @ts-ignore\n                        err.code = 'ENOENT';\n                        return callback(err);\n                    }\n                    // eslint-disable-next-line\n                    const subDepVersionVersionInfo = yield getDependencyVersion(currentTModule, manager, defaultExtensions, depName);\n                    if (subDepVersionVersionInfo) {\n                        const { version: subDepVersion } = subDepVersionVersionInfo;\n                        try {\n                            const module = yield downloadDependency(depName, subDepVersion, p);\n                            if (module) {\n                                manager.addModule(module);\n                                const tModule = manager.addTranspiledModule(module, '');\n                                tModule.initiators.add(currentTModule);\n                                currentTModule.dependencies.add(tModule);\n                                callback(null, module.code);\n                                return null;\n                            }\n                        }\n                        catch (er) {\n                            // Let it throw the error\n                        }\n                    }\n                    return callback(e);\n                }\n            }),\n        }, (err, resolvedPath) => {\n            if (err) {\n                return reject(err);\n            }\n            return res(resolvedPath);\n        });\n    });\n}\nfunction getDependencyVersion(currentTModule, manager, defaultExtensions = DEFAULT_EXTENSIONS, dependencyName) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { manifest } = manager;\n        try {\n            const foundPackageJSONPath = yield resolvePath(pathUtils.join(dependencyName, 'package.json'), currentTModule, manager, defaultExtensions);\n            // If the dependency is in the root we get it from the manifest, as the manifest\n            // contains all the versions that we really wanted to resolve in the first place.\n            // An example of this is csb.dev packages, the package.json version doesn't say the\n            // actual version, but the semver it relates to. In this case we really want to have\n            // the actual url\n            if (foundPackageJSONPath ===\n                pathUtils.join('/node_modules', dependencyName, 'package.json')) {\n                const rootDependency = manifest.dependencies.find(dep => dep.name === dependencyName);\n                if (rootDependency) {\n                    return {\n                        packageJSONPath: foundPackageJSONPath,\n                        version: rootDependency.version,\n                    };\n                }\n            }\n            const packageJSON = manager.transpiledModules[foundPackageJSONPath] &&\n                manager.transpiledModules[foundPackageJSONPath].module.code;\n            const { version } = JSON.parse(packageJSON);\n            const savedDepDep = manifest.dependencyDependencies[dependencyName];\n            if (savedDepDep &&\n                savedDepDep.resolved === version &&\n                savedDepDep.semver.startsWith('https://')) {\n                return {\n                    packageJSONPath: foundPackageJSONPath,\n                    version: savedDepDep.semver,\n                };\n            }\n            if (packageJSON !== '//empty.js') {\n                return { packageJSONPath: foundPackageJSONPath, version };\n            }\n        }\n        catch (e) {\n            /* do nothing */\n        }\n        let version = null;\n        if (manifest.dependencyDependencies[dependencyName]) {\n            if (manifest.dependencyDependencies[dependencyName].semver.startsWith('https://')) {\n                version = manifest.dependencyDependencies[dependencyName].semver;\n            }\n            else {\n                version = manifest.dependencyDependencies[dependencyName].resolved;\n            }\n        }\n        else {\n            const dep = manifest.dependencies.find(m => m.name === dependencyName);\n            if (dep) {\n                // eslint-disable-next-line\n                version = dep.version;\n            }\n        }\n        if (version) {\n            return { packageJSONPath: null, version };\n        }\n        return null;\n    });\n}\nexport default function fetchModule(path, currentTModule, manager, defaultExtensions = DEFAULT_EXTENSIONS) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const currentPath = currentTModule.module.path;\n        // Get the last part of the path as dependency name for paths like\n        // instantsearch.js/node_modules/lodash/sum.js\n        // In this case we want to get the lodash dependency info\n        const dependencyName = getDependencyName(path.replace(/.*\\/node_modules\\//, ''));\n        const versionInfo = yield getDependencyVersion(currentTModule, manager, defaultExtensions, dependencyName);\n        if (versionInfo === null) {\n            throw new DependencyNotFoundError(path);\n        }\n        const { packageJSONPath, version } = versionInfo;\n        let meta;\n        try {\n            meta = yield getMeta(dependencyName, packageJSONPath, version);\n        }\n        catch (e) {\n            // Use fallback\n            meta = yield getMeta(dependencyName, packageJSONPath, version, true);\n        }\n        const rootPath = packageJSONPath\n            ? pathUtils.dirname(packageJSONPath)\n            : pathUtils.join('/node_modules', dependencyName);\n        const normalizedCacheKey = dependencyName + rootPath;\n        const normalizedMeta = normalizedMetas[normalizedCacheKey] || prependRootPath(meta, rootPath);\n        if (!normalizedMetas[normalizedCacheKey]) {\n            normalizedMetas[normalizedCacheKey] = normalizedMeta;\n        }\n        else {\n            combinedMetas = Object.assign(Object.assign({}, combinedMetas), normalizedMeta);\n        }\n        const foundPath = yield resolvePath(path, currentTModule, manager, defaultExtensions, normalizedMeta);\n        if (foundPath === '//empty.js') {\n            // Mark the path of the module as the real module, because during evaluation\n            // we don't have meta to find which modules are browser modules and we still\n            // need to return an empty module for browser modules.\n            const isDependency = /^(\\w|@\\w|@-)/.test(path);\n            return {\n                path: isDependency\n                    ? pathUtils.join('/node_modules', path)\n                    : pathUtils.join(currentPath, path),\n                code: 'module.exports = {};',\n                requires: [],\n                stubbed: true,\n            };\n        }\n        return downloadDependency(dependencyName, version, foundPath);\n    });\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { fetchWithRetries } from './utils';\nfunction normalize(files, fileObject = {}) {\n    for (let i = 0; i < files.length; i += 1) {\n        const { files: childFiles, type, path } = files[i];\n        if (type === 'file') {\n            const absolutePath = path;\n            fileObject[absolutePath] = true; // eslint-disable-line no-param-reassign\n        }\n        if (childFiles) {\n            normalize(childFiles, fileObject);\n        }\n    }\n    return fileObject;\n}\nexport class CsbFetcher {\n    file(name, version, path) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const url = `${version.replace(/\\/_pkg.tgz$/, '')}${path}`;\n            const result = yield fetchWithRetries(url).then(x => x.text());\n            return result;\n        });\n    }\n    meta(name, version) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const url = `${version.replace(/\\/\\.pkg.tgz$/, '')}/_csb-meta.json`;\n            const result = yield fetchWithRetries(url).then(x => x.json());\n            return normalize(result.files, {});\n        });\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { fetchWithRetries } from './utils';\nfunction normalize(files, fileObject = {}) {\n    for (let i = 0; i < files.length; i += 1) {\n        const { files: childFiles, type, path } = files[i];\n        if (type === 'file') {\n            const absolutePath = path;\n            fileObject[absolutePath] = true; // eslint-disable-line no-param-reassign\n        }\n        if (childFiles) {\n            normalize(childFiles, fileObject);\n        }\n    }\n    return fileObject;\n}\nexport class UnpkgFetcher {\n    file(name, version, path) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const url = `https://unpkg.com/${name}@${version}${path}`;\n            const result = yield fetchWithRetries(url).then(x => x.text());\n            return result;\n        });\n    }\n    meta(name, version) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const url = `https://unpkg.com/${name}@${version}/?meta`;\n            const result = yield fetchWithRetries(url).then(x => x.json());\n            return normalize(result.files, {});\n        });\n    }\n}\n","export function normalizeJSDelivr(files, fileObject = {}) {\n    for (let i = 0; i < files.length; i += 1) {\n        fileObject[files[i].name] = true; // eslint-disable-line no-param-reassign\n    }\n    return fileObject;\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { downloadDependency, } from '../../fetch-npm-module';\nimport { fetchWithRetries } from '../utils';\nimport { normalizeJSDelivr } from './utils';\nexport class JSDelivrNPMFetcher {\n    file(name, version, path) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const url = `https://cdn.jsdelivr.net/npm/${name}@${version}${path}`;\n            const result = yield fetchWithRetries(url).then(x => x.text());\n            return result;\n        });\n    }\n    meta(name, version) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // if it's a tag it won't work, so we fetch latest version otherwise\n            const latestVersion = /^\\d/.test(version)\n                ? version\n                : JSON.parse((yield downloadDependency(name, version, '/package.json')).code).version;\n            const url = `https://data.jsdelivr.com/v1/package/npm/${name}@${latestVersion}/flat`;\n            const result = yield fetchWithRetries(url).then(x => x.json());\n            return normalizeJSDelivr(result.files, {});\n        });\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { fetchWithRetries } from '../utils';\nimport { normalizeJSDelivr } from './utils';\n/**\n * Converts urls like \"https://github.com/user/repo.git\" to \"user/repo\".\n */\nconst convertGitHubURLToVersion = (version) => {\n    const result = version.match(/https:\\/\\/github\\.com\\/(.*)$/);\n    if (result && result[1]) {\n        const repo = result[1];\n        return repo.replace(/\\.git$/, '');\n    }\n    return version;\n};\nexport class JSDelivrGHFetcher {\n    file(name, version, path) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const url = `https://cdn.jsdelivr.net/gh/${convertGitHubURLToVersion(version)}${path}`;\n            const result = yield fetchWithRetries(url).then(x => x.text());\n            return result;\n        });\n    }\n    meta(name, version) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // First get latest sha from GitHub API\n            const sha = yield fetch(`https://api.github.com/repos/${convertGitHubURLToVersion(version)}/commits/master`)\n                .then(x => x.json())\n                .then(x => x.sha);\n            const url = `https://data.jsdelivr.com/v1/package/gh/${convertGitHubURLToVersion(version)}@${sha}/flat`;\n            const result = yield fetchWithRetries(url).then(x => x.json());\n            return normalizeJSDelivr(result.files, {});\n        });\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { TarStore } from './utils/tar-store';\nexport class TarFetcher {\n    constructor() {\n        this.tarStore = new TarStore();\n    }\n    file(name, version, path) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.tarStore.file(name, version, path);\n        });\n    }\n    meta(name, version) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.tarStore.meta(name, version);\n        });\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { fetchWithRetries } from './utils';\nfunction normalize(files) {\n    const normalizedResponse = {};\n    const fileNames = Object.keys(files);\n    for (let i = 0; i < fileNames.length; i += 1) {\n        const fileName = fileNames[i];\n        const absolutePath = '/' + fileName;\n        normalizedResponse[absolutePath] = true; // eslint-disable-line no-param-reassign\n    }\n    return normalizedResponse;\n}\nexport class GistFetcher {\n    constructor() {\n        this.fetchedGists = {};\n    }\n    getAPIURl(version) {\n        const gistId = version.replace(/.*\\//, '');\n        return 'https://api.github.com/gists/' + gistId;\n    }\n    fetchGist(version) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.fetchedGists[version]) {\n                return this.fetchedGists[version];\n            }\n            const url = this.getAPIURl(version);\n            const result = yield fetchWithRetries(url).then(x => x.json());\n            this.fetchedGists[version] = result;\n            return result;\n        });\n    }\n    file(name, version, path) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = yield this.fetchGist(version);\n            const file = result.files[path.replace(/^\\//, '')];\n            if (!file) {\n                throw new Error('File not found: ' + path);\n            }\n            if (file.truncated) {\n                return fetchWithRetries(file.raw_url).then(t => t.text());\n            }\n            return file.content;\n        });\n    }\n    meta(name, version) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = yield this.fetchGist(version);\n            return normalize(result.files);\n        });\n    }\n}\n","import { CSB_PKG_PROTOCOL } from '@codesandbox/common/lib/utils/ci';\nimport { CsbFetcher } from './csb';\nimport { UnpkgFetcher } from './unpkg';\nimport { JSDelivrNPMFetcher } from './jsdelivr/jsdelivr-npm';\nimport { JSDelivrGHFetcher } from './jsdelivr/jsdelivr-gh';\nimport { TarFetcher } from './tar';\nimport { GistFetcher } from './gist';\nlet contributedProtocols = [];\nexport const preloadedProtocols = {\n    jsdelivr: new JSDelivrNPMFetcher(),\n    unpkg: new UnpkgFetcher(),\n};\nconst protocols = [\n    {\n        protocol: new GistFetcher(),\n        condition: (name, version) => version.startsWith('gist:'),\n    },\n    {\n        protocol: new CsbFetcher(),\n        condition: (name, version) => CSB_PKG_PROTOCOL.test(version),\n    },\n    {\n        protocol: new TarFetcher(),\n        condition: (name, version) => version.includes('http') && !version.includes('github.com'),\n    },\n    {\n        protocol: new JSDelivrGHFetcher(),\n        condition: (name, version) => /\\//.test(version),\n    },\n    {\n        protocol: preloadedProtocols.unpkg,\n        condition: (_name, _version, useFallback) => useFallback,\n    },\n    { protocol: preloadedProtocols.jsdelivr, condition: () => true },\n];\nexport function setContributedProtocols(newProtocols) {\n    contributedProtocols = newProtocols;\n    return contributedProtocols;\n}\nexport function prependToContributedProtocols(newProtocols) {\n    contributedProtocols.unshift(...newProtocols);\n    return contributedProtocols;\n}\nexport function getFetchProtocol(depName, depVersion, useFallback = false) {\n    var _a;\n    const runCondition = (p) => p.condition(depName, depVersion, useFallback);\n    return (((_a = contributedProtocols.find(runCondition)) === null || _a === void 0 ? void 0 : _a.protocol) ||\n        protocols.find(runCondition).protocol);\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport delay from '@codesandbox/common/lib/utils/delay';\nexport function fetchWithRetries(url, retries = 6, requestInit) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const doFetch = () => window.fetch(url, requestInit).then(x => {\n            if (x.ok) {\n                return x;\n            }\n            const error = new Error(`Could not fetch ${url}`);\n            error.responseObject = x;\n            throw error;\n        });\n        let lastTryTime = 0;\n        for (let i = 0; i < retries; i++) {\n            if (Date.now() - lastTryTime < 3000) {\n                // Ensure that we at least wait 3s before retrying a request to prevent rate limits\n                // eslint-disable-next-line\n                yield delay(3000 - (Date.now() - lastTryTime));\n            }\n            try {\n                lastTryTime = Date.now();\n                // eslint-disable-next-line\n                return yield doFetch();\n            }\n            catch (e) {\n                console.error(e);\n                if (i === retries - 1) {\n                    throw e;\n                }\n            }\n        }\n        throw new Error('Could not fetch');\n    });\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as gzip from 'gzip-js';\nimport untar from 'js-untar';\nimport { fetchWithRetries } from '../utils';\n/**\n * Responsible for fetching, caching and converting tars to a structure that sandpack\n * understands and can use\n */\nexport class TarStore {\n    constructor() {\n        this.fetchedTars = {};\n    }\n    generateKey(name, version) {\n        return name + '||' + version;\n    }\n    normalizeTar(tarContents) {\n        const normalized = {};\n        tarContents.forEach(tar => {\n            normalized[tar.name.replace(/^package/, '')] = {\n                // TODO(@CompuIves): store buffers rather than strings for binary files\n                content: Buffer.from(tar.buffer).toString(),\n            };\n        });\n        return normalized;\n    }\n    fetchTar(name, version, requestInit) {\n        const tarKey = this.generateKey(name, version);\n        this.fetchedTars[tarKey] = (() => __awaiter(this, void 0, void 0, function* () {\n            const file = yield fetchWithRetries(version, 6, requestInit).then(x => x.arrayBuffer());\n            const unzippedFile = gzip.unzip(new Uint8Array(file));\n            const untarredFile = yield untar(new Uint8Array(unzippedFile).buffer);\n            const normalizedTar = this.normalizeTar(untarredFile);\n            return normalizedTar;\n        }))();\n        return this.fetchedTars[tarKey];\n    }\n    file(name, url, path, requestInit) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const tarKey = this.generateKey(name, url);\n            const tar = yield (this.fetchedTars[tarKey] ||\n                this.fetchTar(name, url, requestInit));\n            return tar[path].content;\n        });\n    }\n    meta(name, url, requestInit) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const tarKey = this.generateKey(name, url);\n            const tar = yield (this.fetchedTars[tarKey] ||\n                this.fetchTar(name, url, requestInit));\n            const meta = {};\n            Object.keys(tar).forEach(path => {\n                meta[path] = true;\n            });\n            return meta;\n        });\n    }\n}\n","export class Transpiler {\n    constructor(name) {\n        this.cacheable = true;\n        this.name = name;\n        this.HMREnabled = true;\n    }\n    /* eslint-disable */\n    initialize() { }\n    dispose() { }\n    cleanModule(loaderContext) { }\n    /* eslint-enable */\n    transpile(code, loaderContext) {\n        return this.doTranspilation(code, loaderContext);\n    }\n    /**\n     * Get custom info of the current transpiler, this is open for implementation\n     * per transpiler\n     */\n    getTranspilerContext(manager) {\n        return Promise.resolve({\n            name: this.name,\n            HMREnabled: this.HMREnabled,\n            cacheable: this.cacheable,\n        });\n    }\n}\n","export * from './transpiler';\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Transpiler } from '../..';\n/**\n * This is a compatibility loader that acts as bridge between webpack loaders and sandpack\n * transpilers. It's a best effort on making webpack loaders work dynamically in Sandpack.\n */\nexport class WebpackTranspiler extends Transpiler {\n    constructor(webpackLoader, evaluator) {\n        super(webpackLoader);\n        this.webpackLoader = evaluator.evaluate(webpackLoader);\n    }\n    doTranspilation(code, loaderContext) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const loader = yield this.webpackLoader;\n            const asyncFunc = () => (err, result) => {\n                if (err) {\n                    throw err;\n                }\n                return result;\n            };\n            // Todo; this whole conversion from http strings to buffers should be done on the CodeSandbox\n            // side in a pre-transpiler. Ideally code like this should be unaware of the implementation\n            // details of http strings, and just work with buffers instead.\n            const codeIsHttp = code.startsWith('http');\n            const webpackCode = codeIsHttp\n                ? yield fetch(loaderContext._module.module.code)\n                    .then(x => x.arrayBuffer())\n                    .then(buffer => Buffer.from(buffer))\n                : Buffer.from(code);\n            const webpackLoaderContext = Object.assign(Object.assign({}, loaderContext), { async: asyncFunc });\n            const webpackResult = yield loader.apply(webpackLoaderContext, [\n                loader.raw ? webpackCode : webpackCode.toString('utf-8'),\n            ]);\n            return {\n                transpiledCode: webpackResult,\n            };\n        });\n    }\n}\n","/* eslint-disable */\nconst specialValues = {\n    null: null,\n    true: true,\n    false: false,\n};\nexport default function parseQuery(query) {\n    if (query.substr(0, 1) !== '?') {\n        throw new Error(\"A valid query string passed to parseQuery should begin with '?'\");\n    }\n    query = query.substr(1);\n    if (!query) {\n        return {};\n    }\n    if (query.substr(0, 1) === '{' && query.substr(-1) === '}') {\n        return JSON.parse(query);\n    }\n    const queryArgs = query.split(/[,&]/g);\n    const result = {};\n    queryArgs.forEach(arg => {\n        const idx = arg.indexOf('=');\n        if (idx >= 0) {\n            let name = arg.substr(0, idx);\n            let value = decodeURIComponent(arg.substr(idx + 1));\n            if (specialValues.hasOwnProperty(value)) {\n                // @ts-ignore Reapplying new value with different type is weird for TS\n                value = specialValues[value];\n            }\n            if (name.substr(-2) === '[]') {\n                name = decodeURIComponent(name.substr(0, name.length - 2));\n                if (!Array.isArray(result[name]))\n                    result[name] = [];\n                result[name].push(value);\n            }\n            else {\n                name = decodeURIComponent(name);\n                result[name] = value;\n            }\n        }\n        else {\n            if (arg.substr(0, 1) === '-') {\n                result[decodeURIComponent(arg.substr(1))] = false;\n            }\n            else if (arg.substr(0, 1) === '+') {\n                result[decodeURIComponent(arg.substr(1))] = true;\n            }\n            else {\n                result[decodeURIComponent(arg)] = true;\n            }\n        }\n    });\n    return result;\n}\n","import path from 'path';\nconst matchRelativePath = /^\\.\\.?[/\\\\]/;\nfunction isAbsolutePath(str) {\n    return str.startsWith('/');\n}\nfunction isRelativePath(str) {\n    return matchRelativePath.test(str);\n}\nexport default function stringifyRequest(loaderContext, request) {\n    const splitted = request.split('!');\n    const context = loaderContext.options && loaderContext.options.context;\n    return JSON.stringify(splitted\n        .map(part => {\n        // First, separate singlePath from query, because the query might contain paths again\n        const splittedPart = part.match(/^(.*?)(\\?.*)/);\n        let singlePath = splittedPart ? splittedPart[1] : part;\n        const query = splittedPart ? splittedPart[2] : '';\n        if (isAbsolutePath(singlePath) && context) {\n            singlePath = path.relative(context, singlePath);\n            if (isAbsolutePath(singlePath)) {\n                // If singlePath still matches an absolute path, singlePath was on a different drive than context.\n                // In this case, we leave the path platform-specific without replacing any separators.\n                // @see https://github.com/webpack/loader-utils/pull/14\n                return singlePath + query;\n            }\n            if (isRelativePath(singlePath) === false) {\n                // Ensure that the relative path starts at least with ./ otherwise it would be a request into the modules directory (like node_modules).\n                singlePath = './' + singlePath;\n            }\n        }\n        return singlePath.replace(/\\\\/g, '/') + query;\n    })\n        .join('!'));\n}\n","import parseQuery from './parse-query';\nimport stringifyRequest from './stringify-request';\nimport getRemainingRequest from './get-remaining-request';\nimport getOptions from './get-options';\nexport default {\n    getRemainingRequest,\n    parseQuery,\n    stringifyRequest,\n    getOptions,\n};\n","export default function getRemainingRequest(loaderContext) {\n    return loaderContext.remainingRequests;\n}\n","export default function getOptions(loaderContext) {\n    return loaderContext.options;\n}\n","export default function (delay = 1000) {\n    return new Promise(resolve => {\n        setTimeout(resolve, delay);\n    });\n}\n","export const DEFAULT_EXTENSIONS = ['mjs', 'js', 'jsx', 'json'];\n","export function getDependencyName(path) {\n    const dependencyParts = path.split('/');\n    let dependencyName = dependencyParts.shift();\n    if (path.startsWith('@')) {\n        dependencyName += `/${dependencyParts.shift()}`;\n    }\n    if (dependencyParts[0] && /^\\d+\\.\\d+\\.\\d+.*$/.test(dependencyParts[0])) {\n        // Make sure to include the aliased version if it's part of it\n        dependencyName += `/${dependencyParts.shift()}`;\n    }\n    return dependencyName;\n}\n","export const packageFilter = (isFile = () => true) => (p, pkgLocation) => {\n    if (p.module) {\n        p.main = p.module;\n    }\n    return p;\n};\n","const g = typeof window === 'undefined' ? self : window;\n\nif (typeof Promise === 'undefined') {\n  // Rejection tracking prevents a common issue where React gets into an\n  // inconsistent state due to an error, but it gets swallowed by a Promise,\n  // and the user has no idea what causes React's erratic future behavior.\n  require('promise/lib/rejection-tracking').enable();\n  g.Promise = require('promise/lib/es6-extensions.js');\n}\n\n// fetch() polyfill for making API calls.\nrequire('whatwg-fetch');\n\ng.cosmiconfig = {};\ng.prettier = {};\ng.jsdom = {\n  JSDOM: {\n    // IE11 support\n    // eslint-disable-next-line object-shorthand\n    fragment: function fragment(htmlString) {\n      // eslint-disable-next-line no-var\n      var div = document.createElement('div');\n      div.innerHTML = htmlString.trim();\n\n      // Change this to div.childNodes to support multiple top-level nodes\n      return div;\n    },\n  },\n};\n\n// IE11\nrequire('core-js/fn/array/find');\nrequire('core-js/fn/array/from');\nrequire('core-js/fn/object/assign');\nrequire('core-js/fn/symbol');\n","/**\n * Parse input strings like `package-1/package-2` to an array of packages\n */\nfunction parsePackagePath(input) {\n    return input.match(/(@[^/]+\\/)?([^/]+)/g) || [];\n}\nconst WRONG_PATTERNS = /\\/$|\\/{2,}|\\*+$/;\nconst GLOBAL_NESTED_DEP_PATTERN = '**/';\nfunction isValidPackagePath(input) {\n    return !WRONG_PATTERNS.test(input);\n}\nexport function parsePatternInfo(globPattern, range) {\n    if (!isValidPackagePath(globPattern)) {\n        console.warn('invalidResolutionName');\n        return null;\n    }\n    const directories = parsePackagePath(globPattern);\n    const name = directories.pop();\n    // For legacy support of resolutions, replace `name` with `**/name`\n    if (name === globPattern) {\n        // eslint-disable-next-line\n        globPattern = `${GLOBAL_NESTED_DEP_PATTERN}${name}`;\n    }\n    return {\n        name,\n        range,\n        globPattern,\n        pattern: `${name}@${range}`,\n    };\n}\nexport function parseResolutions(resolutions) {\n    if (!resolutions) {\n        return [];\n    }\n    const keys = Object.keys(resolutions);\n    return keys\n        .map(key => parsePatternInfo(key, resolutions[key]))\n        .filter(Boolean);\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport minimatch from 'minimatch';\nimport * as semver from 'semver';\nimport { downloadDependency } from './fetch-npm-module';\nfunction getPackageJSON(dep, version) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const m = yield downloadDependency(dep, version, '/package.json');\n        return m.code;\n    });\n}\nfunction getLatestVersionForSemver(dep, version) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const p = yield getPackageJSON(dep, version);\n        return JSON.parse(p).version;\n    });\n}\nfunction getAbsoluteVersion(originalDep, depName, depVersion, parsedResolutions) {\n    // Try getting it from the resolutions field first, if that doesn't work\n    // we try to get the latest version from the semver.\n    const applicableResolutions = parsedResolutions[depName];\n    if (applicableResolutions) {\n        const modulePath = [originalDep, depName].join('/');\n        const { range } = applicableResolutions.find(({ globPattern }) => minimatch(modulePath, globPattern)) || {};\n        if (range) {\n            if (semver.valid(range)) {\n                return getLatestVersionForSemver(depName, range);\n            }\n            return range;\n        }\n    }\n    return getLatestVersionForSemver(depName, depVersion);\n}\nfunction getDependencyDependencies(dep, version, parsedResolutions, peerDependencyResult = {}) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const packageJSONCode = yield getPackageJSON(dep, version);\n        const packageJSON = JSON.parse(packageJSONCode);\n        yield Promise.all(Object.keys(packageJSON.dependencies || {}).map((depName) => __awaiter(this, void 0, void 0, function* () {\n            const depVersion = packageJSON.dependencies[depName];\n            if (peerDependencyResult[depName]) {\n                if (peerDependencyResult[depName].parents.indexOf(dep) === -1) {\n                    peerDependencyResult[depName].parents.push(dep);\n                }\n                return;\n            }\n            const absoluteVersion = yield getAbsoluteVersion(dep, depName, depVersion, parsedResolutions);\n            // In case inbetween the peer dependency result has been added already\n            if (peerDependencyResult[depName]) {\n                if (peerDependencyResult[depName].parents.indexOf(dep) === -1) {\n                    peerDependencyResult[depName].parents.push(dep);\n                }\n            }\n            else {\n                // eslint-disable-next-line\n                peerDependencyResult[depName] = {\n                    semver: depVersion,\n                    resolved: absoluteVersion,\n                    parents: [dep],\n                    entries: [],\n                };\n                yield getDependencyDependencies(depName, depVersion, parsedResolutions, peerDependencyResult);\n            }\n        })));\n        return peerDependencyResult;\n    });\n}\nexport function resolveDependencyInfo(dep, version, parsedResolutions) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const packageJSONCode = yield getPackageJSON(dep, version);\n        const packageJSON = JSON.parse(packageJSONCode);\n        const response = {\n            contents: {},\n            dependency: {\n                name: dep,\n                version,\n            },\n            peerDependencies: {},\n            dependencyDependencies: {},\n            dependencyAliases: {},\n        };\n        const resolutionsByPackage = {};\n        parsedResolutions.forEach(res => {\n            resolutionsByPackage[res.name] = resolutionsByPackage[res.name] || [];\n            resolutionsByPackage[res.name].push(res);\n        });\n        response.peerDependencies = packageJSON.peerDependencies || {};\n        response.dependencyDependencies = yield getDependencyDependencies(dep, version, resolutionsByPackage);\n        response.contents = {\n            [`/node_modules/${dep}/package.json`]: {\n                content: packageJSONCode,\n            },\n        };\n        return response;\n    });\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport _debug from '@codesandbox/common/lib/utils/debug';\nimport { getAbsoluteDependency } from '@codesandbox/common/lib/utils/dependencies';\nimport delay from '../../utils/delay';\nimport dependenciesToQuery from '../dependencies-to-query';\nconst RETRY_COUNT = 60;\nconst debug = _debug('cs:sandbox:packager');\nconst VERSION = 2;\n// eslint-disable-next-line\nconst DEV_URLS = {\n    packager: 'https://xi5p9f7czk.execute-api.eu-west-1.amazonaws.com/dev/packages',\n    bucket: 'https://dev-packager-packages.codesandbox.io',\n};\n// eslint-disable-next-line\nconst PROD_URLS = {\n    packager: 'https://aiwi8rnkp5.execute-api.eu-west-1.amazonaws.com/prod/packages',\n    bucket: 'https://prod-packager-packages.codesandbox.io',\n};\nconst URLS = PROD_URLS;\nconst BUCKET_URL = URLS.bucket;\nconst PACKAGER_URL = URLS.packager;\nfunction callApi(url, method = 'GET') {\n    return fetch(url, {\n        method,\n    })\n        .then((response) => __awaiter(this, void 0, void 0, function* () {\n        if (!response.ok) {\n            const error = new Error(response.statusText || '' + response.status);\n            const message = yield response.json();\n            // @ts-ignore\n            error.response = message;\n            // @ts-ignore\n            error.statusCode = response.status;\n            throw error;\n        }\n        return response;\n    }))\n        .then(response => response.json());\n}\n/**\n * Request the packager, if retries > RETRY_COUNT it will throw if something goes wrong\n * otherwise it will retry again with an incremented retry\n *\n * @param {string} query The dependencies to call\n */\nfunction requestPackager(url, method = 'GET') {\n    return __awaiter(this, void 0, void 0, function* () {\n        let retries = 0;\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            debug(`Trying to call packager for ${retries} time`);\n            try {\n                const manifest = yield callApi(url, method); // eslint-disable-line no-await-in-loop\n                return manifest;\n            }\n            catch (e) {\n                if (e.response && e.statusCode !== 504) {\n                    throw new Error(e.response.error);\n                }\n                // 403 status code means the bundler is still bundling\n                if (retries < RETRY_COUNT) {\n                    retries += 1;\n                    yield delay(1000 * 2); // eslint-disable-line no-await-in-loop\n                }\n                else {\n                    throw e;\n                }\n            }\n        }\n    });\n}\nfunction dependencyToPackagePath(name, version) {\n    return `v${VERSION}/packages/${name}/${version}.json`;\n}\nexport function getDependency(depName, depVersion) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let version = depVersion;\n        try {\n            const { version: absoluteVersion } = yield getAbsoluteDependency(depName, depVersion);\n            version = absoluteVersion;\n        }\n        catch (e) {\n            /* Ignore this, not critical */\n        }\n        const dependencyUrl = dependenciesToQuery({ [depName]: depVersion });\n        const bucketDependencyUrl = dependencyToPackagePath(depName, version);\n        const fullUrl = `${BUCKET_URL}/${bucketDependencyUrl}`;\n        try {\n            const bucketManifest = yield callApi(fullUrl);\n            return bucketManifest;\n        }\n        catch (e) {\n            // The dep has not been generated yet...\n            yield requestPackager(`${PACKAGER_URL}/${dependencyUrl}`, 'POST');\n            return requestPackager(fullUrl);\n        }\n    });\n}\n","import uniq from 'lodash-es/uniq';\nimport * as semver from 'semver';\n/**\n * Compare two sorted string arrays\n *\n * @param {string[]} s1\n * @param {string[]} s2\n * @returns\n */\nfunction isEqual(s1, s2) {\n    if (s1.length !== s2.length) {\n        return false;\n    }\n    for (let i = 0; i < s1.length; i++) {\n        if (s1[i] !== s2[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n/**\n * Replaces the start of a key with a new string\n *\n * @param {{ [key: string]: string }} paths\n * @param {string} oldName\n * @param {string} newName\n */\nfunction replacePaths(paths, oldName, newName) {\n    Object.keys(paths).forEach(al => {\n        if (al.startsWith(`${oldName}/`) || al === oldName) {\n            paths[al.replace(oldName, newName)] =\n                typeof paths[al] === 'string'\n                    ? paths[al].replace(oldName, newName)\n                    : paths[al];\n            delete paths[al];\n        }\n    });\n}\nfunction replaceDependencyInfo(r, depDepName, newDepDep) {\n    if (process.env.NODE_ENV === 'development' ||\n        process.env.NODE_ENV === 'test') {\n        // eslint-disable-next-line\n        console.log('Resolving conflict for ' +\n            depDepName +\n            ' new version: ' +\n            newDepDep.resolved);\n    }\n    const newPath = `${depDepName}/${newDepDep.resolved}`;\n    replacePaths(r.contents, `/node_modules/${depDepName}`, `/node_modules/${newPath}`);\n    r.dependencyDependencies[newPath] = r.dependencyDependencies[depDepName];\n    delete r.dependencyDependencies[depDepName];\n    // eslint-disable-next-line\n    for (const n of Object.keys(r.dependencyDependencies)) {\n        r.dependencyDependencies[n].parents = r.dependencyDependencies[n].parents.map(p => (p === depDepName ? newPath : p));\n    }\n    r.dependencyAliases = r.dependencyAliases || {};\n    newDepDep.parents.forEach(p => {\n        r.dependencyAliases[p] = r.dependencyAliases[p] || {};\n        r.dependencyAliases[p][depDepName] = newPath;\n    });\n    replacePaths(r.dependencyAliases, depDepName, newPath);\n}\nconst intersects = (v1, v2) => {\n    try {\n        return semver.intersects(v1, v2);\n    }\n    catch (e) {\n        return false;\n    }\n};\nexport function mergeDependencies(responses) {\n    // For consistency between requests\n    const sortedResponses = responses.sort((a, b) => a.dependency.name.localeCompare(b.dependency.name));\n    const response = {\n        contents: {},\n        dependencies: sortedResponses.map(r => r.dependency),\n        dependencyAliases: {},\n        dependencyDependencies: {},\n    };\n    // eslint-disable-next-line\n    for (const r of sortedResponses) {\n        for (let i = 0; i < Object.keys(r.dependencyDependencies).length; i++) {\n            const depDepName = Object.keys(r.dependencyDependencies)[i];\n            const newDepDep = r.dependencyDependencies[depDepName];\n            const rootDependency = response.dependencies.find(d => d.name === depDepName);\n            if (rootDependency &&\n                !intersects(rootDependency.version, newDepDep.semver) &&\n                // If the resolved or semver is the same we don't have to actually replace dependency info\n                rootDependency.version !== newDepDep.resolved &&\n                rootDependency.version !== newDepDep.semver &&\n                rootDependency.name !== r.dependency.name // and this dependency doesn't require an older version of itself\n            ) {\n                // If a root dependency is in conflict with a child dependency, we always\n                // go for the root dependency\n                replaceDependencyInfo(r, depDepName, newDepDep);\n                // Start from the beginning, to make sure everything is correct\n                i = -1;\n            }\n            else if (response.dependencyDependencies[depDepName]) {\n                const exDepDep = response.dependencyDependencies[depDepName];\n                if (exDepDep.resolved === newDepDep.resolved) {\n                    exDepDep.parents = uniq([...exDepDep.parents, ...newDepDep.parents]);\n                    exDepDep.entries = uniq([...exDepDep.entries, ...newDepDep.entries]);\n                }\n                else if (intersects(exDepDep.semver, newDepDep.semver) &&\n                    isEqual(exDepDep.entries, newDepDep.entries)) {\n                    const replacingDepDep = semver.gt(newDepDep.resolved, exDepDep.resolved)\n                        ? newDepDep\n                        : exDepDep;\n                    response.dependencyDependencies[depDepName] = replacingDepDep;\n                    response.dependencyDependencies[depDepName].parents = uniq([\n                        ...exDepDep.parents,\n                        ...newDepDep.parents,\n                    ]);\n                }\n                else {\n                    replaceDependencyInfo(r, depDepName, newDepDep);\n                    // Start from the beginning, to make sure everything is correct\n                    i = -1;\n                }\n            }\n            else {\n                response.dependencyDependencies[depDepName] =\n                    r.dependencyDependencies[depDepName];\n            }\n        }\n        response.dependencyAliases = Object.assign(Object.assign({}, response.dependencyAliases), r.dependencyAliases);\n        response.contents = Object.assign(Object.assign({}, response.contents), r.contents);\n    }\n    return response;\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { pickBy } from 'lodash-es';\nimport { dispatch, actions } from 'codesandbox-api';\nimport { preloadedProtocols, getFetchProtocol, } from './dynamic/fetch-protocols';\nimport dependenciesToQuery from './dependencies-to-query';\nimport { parseResolutions } from './dynamic/resolutions';\nimport { resolveDependencyInfo } from './dynamic/resolve-dependency';\nimport { getDependency as getPrebundledDependency } from './preloaded/fetch-dependencies';\nimport { mergeDependencies } from './merge-dependency';\nlet loadedDependencyCombination = null;\nlet manifest = null;\nconst PRELOADED_PROTOCOLS = [\n    preloadedProtocols.jsdelivr,\n    preloadedProtocols.unpkg,\n];\n/**\n * Depending on the dependency version we decide whether we can load a prebundled bundle (generated\n * in a lambda) or use a dynamic version of fetching the dependency.\n */\nfunction shouldFetchDynamically(depName, depVersion) {\n    const fetchProtocol = getFetchProtocol(depName, depVersion);\n    return !PRELOADED_PROTOCOLS.includes(fetchProtocol);\n}\n/**\n * Some dependencies have a space in their version for some reason, this is invalid and we\n * ignore them. This is what yarn does as well.\n */\nfunction removeSpacesFromDependencies(dependencies) {\n    const newDeps = {};\n    Object.keys(dependencies).forEach(depName => {\n        const [version] = dependencies[depName].split(' ');\n        newDeps[depName] = version;\n    });\n    return newDeps;\n}\n/**\n * Split the dependencies between whether they should be loaded from dynamically or from an endpoint\n * that has the dependency already prebundled.\n */\nfunction splitDependencies(dependencies, forceFetchDynamically) {\n    if (forceFetchDynamically) {\n        return { dynamicDependencies: dependencies, prebundledDependencies: {} };\n    }\n    const dynamicDependencies = {};\n    const prebundledDependencies = {};\n    Object.keys(dependencies).forEach(depName => {\n        const version = dependencies[depName];\n        if (shouldFetchDynamically(depName, version)) {\n            dynamicDependencies[depName] = version;\n        }\n        else {\n            prebundledDependencies[depName] = version;\n        }\n    });\n    return { dynamicDependencies, prebundledDependencies };\n}\nexport function getDependenciesFromSources(dependencies, resolutions, forceFetchDynamically, updateProgress) {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            const parsedResolutions = parseResolutions(resolutions);\n            const remainingDependencies = Object.keys(dependencies);\n            const totalDependencies = remainingDependencies.length;\n            const depsWithNodeLibs = removeSpacesFromDependencies(Object.assign({ 'node-libs-browser': '2.2.0' }, dependencies));\n            const { dynamicDependencies, prebundledDependencies } = splitDependencies(depsWithNodeLibs, forceFetchDynamically);\n            const updateLoadScreen = () => {\n                const progress = totalDependencies - remainingDependencies.length;\n                const total = totalDependencies;\n                updateProgress({\n                    done: progress,\n                    total,\n                    remainingDependencies,\n                });\n            };\n            const dynamicPromise = Promise.all(Object.keys(dynamicDependencies).map(depName => resolveDependencyInfo(depName, depsWithNodeLibs[depName], parsedResolutions).finally(() => {\n                remainingDependencies.splice(remainingDependencies.indexOf(depName), 1);\n                updateLoadScreen();\n            })));\n            const prebundledPromise = Promise.all(Object.keys(prebundledDependencies).map(depName => getPrebundledDependency(depName, depsWithNodeLibs[depName])\n                .then(d => {\n                // Unfortunately we've let this through in our system, some dependencies will just be { error: string }.\n                // The bug has been fixed, but dependencies have been cached, we have to filter them out and fetch them\n                // dynamically.\n                // @ts-ignore not possible anymore\n                if (d.error) {\n                    return resolveDependencyInfo(depName, depsWithNodeLibs[depName], parsedResolutions);\n                }\n                return d;\n            })\n                .finally(() => {\n                remainingDependencies.splice(remainingDependencies.indexOf(depName), 1);\n                updateLoadScreen();\n            })));\n            const [dynamicLoadedDependencies, prebundledLoadedDependencies,] = yield Promise.all([dynamicPromise, prebundledPromise]);\n            return mergeDependencies([\n                ...dynamicLoadedDependencies,\n                ...prebundledLoadedDependencies,\n            ]);\n        }\n        catch (e) {\n            e.message = `Could not fetch dependencies, please try again in a couple seconds: ${e.message}`;\n            dispatch(actions.notifications.show(e.message, 'error'));\n            throw e;\n        }\n    });\n}\n/**\n * This fetches the manifest and dependencies from our packager or dynamic sources\n * @param {*} dependencies\n */\nexport function loadDependencies(dependencies, updateProgress, { disableExternalConnection = false, resolutions = undefined, } = {}) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let isNewCombination = false;\n        if (Object.keys(dependencies).length !== 0) {\n            // We filter out all @types, as they are not of any worth to the bundler\n            const dependenciesWithoutTypings = pickBy(dependencies, (val, key) => !(key.includes && key.includes('@types')));\n            const depQuery = dependenciesToQuery(dependenciesWithoutTypings);\n            if (loadedDependencyCombination !== depQuery) {\n                isNewCombination = true;\n                const data = yield getDependenciesFromSources(dependenciesWithoutTypings, resolutions, disableExternalConnection, updateProgress);\n                // Mark that the last requested url is this\n                loadedDependencyCombination = depQuery;\n                manifest = data;\n            }\n        }\n        else {\n            manifest = null;\n        }\n        return { manifest, isNewCombination };\n    });\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { satisfies, valid } from 'semver';\nimport { fetchWithRetries } from './utils';\nimport { TarStore } from './utils/tar-store';\nconst NPM_REGISTRY_ACCEPT_HEADER = 'application/vnd.npm.install-v1+json; q=1.0, application/json; q=0.8, */*';\nfunction join(a, b) {\n    if (a.endsWith('/')) {\n        return a + b;\n    }\n    return a + '/' + b;\n}\nexport class NpmRegistryFetcher {\n    constructor(registryLocation, config) {\n        this.registryLocation = registryLocation;\n        this.tarStore = new TarStore();\n        this.packageMetadata = new Map();\n        this.condition = (name, version) => {\n            if (this.scopeWhitelist) {\n                return this.scopeWhitelist.some(scope => name.startsWith(scope));\n            }\n            return true;\n        };\n        this.proxyUrl = config.proxyUrl;\n        this.scopeWhitelist = config.scopeWhitelist;\n        this.authToken = config.authToken;\n        this.provideTarballUrl = config.provideTarballUrl;\n    }\n    getProxiedUrl(url) {\n        if (this.proxyUrl) {\n            return this.proxyUrl + '?registryurl=' + url;\n        }\n        return url;\n    }\n    getTarballUrl(name, version, tarballUrl) {\n        if (this.provideTarballUrl) {\n            return this.provideTarballUrl(name, version, tarballUrl);\n        }\n        return this.getProxiedUrl(tarballUrl);\n    }\n    getPackageUrl(name) {\n        const encodedName = name.replace('/', '%2f');\n        return this.getProxiedUrl(join(this.registryLocation, encodedName));\n    }\n    getRequestInit() {\n        const headers = new Headers();\n        headers.append('Accept', NPM_REGISTRY_ACCEPT_HEADER);\n        headers.append('Content-Type', 'application/json');\n        if (this.authToken) {\n            headers.append('Authorization', `Bearer ${this.authToken}`);\n        }\n        return {\n            method: 'get',\n            headers,\n            mode: 'cors',\n        };\n    }\n    fetchRegistry(url) {\n        return fetchWithRetries(url, 3, this.getRequestInit())\n            .then(x => x.json())\n            .catch((e) => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            let errorMessage = 'Make sure the right auth token and URL are set';\n            if (e.responseObject) {\n                const res = yield e.responseObject.json();\n                if (res.error) {\n                    errorMessage = res.error;\n                }\n                else if ((_a = res.errors) === null || _a === void 0 ? void 0 : _a.detail) {\n                    errorMessage = res.errors.detail[0];\n                }\n            }\n            return Promise.reject(new Error(`Could not fetch from registry. ${errorMessage}.`));\n        }));\n    }\n    getPackageMetadata(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.packageMetadata.has(name)) {\n                this.packageMetadata.set(name, this.fetchRegistry(this.getPackageUrl(name)));\n            }\n            return this.packageMetadata.get(name);\n        });\n    }\n    getAbsoluteVersion(name, version) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (valid(version)) {\n                return version;\n            }\n            const metadata = yield this.getPackageMetadata(name);\n            if (metadata['dist-tags'][version]) {\n                return metadata['dist-tags'][version];\n            }\n            const versions = Object.keys(metadata.versions).reverse();\n            const foundVersion = versions.find(absoluteVersion => satisfies(absoluteVersion, version));\n            if (!foundVersion) {\n                throw new Error(`Can't find version that satisfies ${name}@${version}`);\n            }\n            return foundVersion;\n        });\n    }\n    getVersionInfo(name, version) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const absoluteVersion = yield this.getAbsoluteVersion(name, version);\n            const metadata = yield this.getPackageMetadata(name);\n            const versionInfo = metadata.versions[absoluteVersion];\n            if (!versionInfo) {\n                throw new Error(`Version '${version}' is not available on the registry for '${name}'`);\n            }\n            return versionInfo;\n        });\n    }\n    file(name, version, path) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const versionInfo = yield this.getVersionInfo(name, version);\n            const tarball = this.getTarballUrl(name, versionInfo.version, versionInfo.dist.tarball);\n            return this.tarStore.file(name, tarball, path, this.getRequestInit());\n        });\n    }\n    meta(name, version) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const versionInfo = yield this.getVersionInfo(name, version);\n            const tarball = this.getTarballUrl(name, versionInfo.version, versionInfo.dist.tarball);\n            return this.tarStore.meta(name, tarball, this.getRequestInit());\n        });\n    }\n}\n","import { getCurrentManager } from '../compile';\n\nlet cachedBoilerplates = [];\n\nexport async function evalBoilerplates(boilerplates) {\n  cachedBoilerplates = await Promise.all(\n    boilerplates.map(async boilerplate => {\n      const fakeModule = {\n        path: `/boilerplate-${boilerplate.condition}${boilerplate.extension}`,\n        code: boilerplate.code,\n      };\n\n      const manager = getCurrentManager();\n\n      await manager.transpileModules(fakeModule);\n      const module = manager.evaluateModule(fakeModule);\n\n      return { ...boilerplate, module };\n    })\n  );\n}\n\nexport function getBoilerplates() {\n  return cachedBoilerplates;\n}\n\nexport function findBoilerplate(module) {\n  const boilerplates = getBoilerplates();\n  const boilerplate = boilerplates.find(b => {\n    const regex = new RegExp(b.condition);\n    return regex.test(module.path);\n  });\n\n  if (boilerplate == null) {\n    throw new Error(\n      `No boilerplate found for ${module.path}, you can create one in the future`\n    );\n  }\n\n  return boilerplate;\n}\n","export const JS = {\n  id: 'js',\n  extension: '.js',\n  condition: '.jsx?$',\n  code: `\nimport React from 'react';\nimport { render } from 'react-dom';\nexport default function(module) {\n  const node = document.createElement('div');\n  document.body.appendChild(node);\n  render(React.createElement(module.default), node);\n}\n`,\n};\n\nexport const HTML = {\n  id: 'html',\n  extension: '.html',\n  condition: '.html$',\n  code: `\nexport default function(module) {\n  document.body.innerHTML = module\n}\n`,\n};\n\nexport const TS = {\n  id: 'ts',\n  extension: '.ts',\n  condition: '.tsx?$',\n  code: `\nimport * as React from 'react';\nimport { render } from 'react-dom';\nexport default function(module) {\n  const node = document.createElement('div');\n  document.body.appendChild(node);\n  render(React.createElement(module.default), node);\n}\n`,\n};\n\nexport default [JS, HTML, TS];\n","import { getParameters } from 'codesandbox-import-utils/lib/api/define';\n\nexport default function createOverlay(modules) {\n  const normalized = Object.keys(modules).reduce(\n    (prev, next) => ({\n      ...prev,\n      [next.replace('/', '')]: {\n        content: modules[next].code,\n        isBinary: false,\n      },\n    }),\n    {}\n  );\n\n  const parameters = getParameters({ files: normalized });\n\n  return new Promise(resolve => {\n    const iframe = document.createElement('iframe');\n\n    iframe.setAttribute(\n      'style',\n      `transition: 0.3s ease background-color; position: fixed; bottom: 8px; right: 8px; height: 40px; width: 196px; background-color: rgba(0, 0, 0, 0.6); border-radius: 4px; border: 0; outline: 0; z-index: 214748366;`\n    );\n    iframe.setAttribute(\n      'onmouseover',\n      \"this.style.backgroundColor='rgba(0, 0, 0, 0.7)';\"\n    );\n    iframe.setAttribute(\n      'onmouseout',\n      \"this.style.backgroundColor='rgba(0, 0, 0, 0.6)';\"\n    );\n\n    iframe.onload = () => {\n      iframe.contentDocument.body.innerHTML = `\n        <form\n          action=\"https://codesandbox.io/api/v1/sandboxes/define\"\n          method=\"POST\"\n          target=\"_blank\"\n          style=\"cursor:pointer;\"\n        >\n        <input\n          type=\"hidden\"\n          name=\"parameters\"\n          value=\"${parameters}\"\n        />\n          <div style=\"display:flex;align-items:center\" onclick=\"javascript:document.forms[0].submit();\">\n            <svg style=\"width:24px;height:24px;margin-right:8px;\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"1024px\"\n              height=\"1024px\" viewBox=\"0 0 1024 1024\" enable-background=\"new 0 0 1024 1024\" xml:space=\"preserve\">\n              <g id=\"Layer_1\">\n                <polyline\n                  fill=\"#FFFFFF\"\n                  points=\"719.001,851 719.001,639.848 902,533.802 902,745.267 719.001,851\"\n                />\n                <polyline\n                  fill=\"#FFFFFF\"\n                  points=\"302.082,643.438 122.167,539.135 122.167,747.741 302.082,852.573 302.082,643.438\"\n                />\n                <polyline\n                  fill=\"#FFFFFF\"\n                  points=\"511.982,275.795 694.939,169.633 512.06,63 328.436,169.987 511.982,275.795\"\n                />\n              </g>\n              <g id=\"Layer_2\">\n                <polyline\n                  fill=\"none\"\n                  stroke=\"#FFFFFF\"\n                  stroke-width=\"80\"\n                  stroke-miterlimit=\"10\"\n                  points=\"899,287.833 509,513 509,963\"\n                />\n                <line\n                  fill=\"none\"\n                  stroke=\"#FFFFFF\"\n                  stroke-width=\"80\"\n                  stroke-miterlimit=\"10\"\n                  x1=\"122.167\"\n                  y1=\"289\"\n                  x2=\"511.5\"\n                  y2=\"513\"\n                />\n                <polygon\n                  fill=\"none\"\n                  stroke=\"#FFFFFF\"\n                  stroke-width=\"80\"\n                  stroke-miterlimit=\"10\"\n                  points=\"121,739.083 510.917,963.042 901,738.333 901,288 511,62 121,289\"\n                />\n              </g>\n          </svg>\n          <div style=\"font-size:.875rem; font-weight: 300; color: white; font-family: sans-serif\">Open in CodeSandbox</div>\n        </div>\n      </form>\n      `;\n\n      resolve();\n    };\n\n    document.body.appendChild(iframe);\n  });\n}\n","const wrapper = (id: string, css: string, webpackHMREnabled = false) => `\nfunction createStyleNode(id, content) {\n  var styleNode =\n    document.getElementById(id) || document.createElement('style');\n\n  styleNode.setAttribute('id', id);\n  styleNode.type = 'text/css';\n  if (styleNode.styleSheet) {\n    styleNode.styleSheet.cssText = content;\n  } else {\n    styleNode.innerHTML = '';\n    styleNode.appendChild(document.createTextNode(content));\n  }\n  document.head.appendChild(styleNode);\n}\n\ncreateStyleNode(\n  ${JSON.stringify(id)},\n  ${JSON.stringify(css)}\n);\n\n${webpackHMREnabled ? 'module.hot.accept()' : ''}\n`;\n\nexport default function (\n  id: string,\n  css?: string,\n  webpackHMREnabled?: boolean\n) {\n  const result = wrapper(id, css || '', webpackHMREnabled);\n  return result;\n}\n","export default function toDefinition(classes: string[]): string {\n  return Object.keys(classes).reduce(\n    (previous, className) => previous + `export const ${className}: string;\\n`,\n    ''\n  );\n}\n","import { LoaderContext } from 'sandpack-core';\n\nlet core = null;\n\nexport default async (code: string, loaderContext: LoaderContext) => {\n  if (!core) {\n    const Core = await import(\n      /* webpackChunkName: 'css-modules-loader-core' */ 'css-modules-loader-core'\n    ).then(x => x.default);\n\n    core = new Core();\n  }\n\n  return core\n    .load(code, loaderContext.path, (dependencyPath: string) => {\n      loaderContext.addDependency(dependencyPath);\n\n      const tModule = loaderContext.resolveTranspiledModule(dependencyPath);\n\n      return tModule.source ? tModule.source.compiledCode : tModule.module.code;\n    })\n    .then(({ injectableSource, exportTokens }) => ({\n      css: injectableSource,\n      exportTokens,\n    }));\n};\n","import { dispatch } from 'codesandbox-api';\nimport { Transpiler, LoaderContext } from 'sandpack-core';\n\nimport insertCss from './utils/insert-css';\nimport toDefinition from './utils/to-definition';\nimport getModules from './get-modules';\n\nconst getStyleId = (id: string) => id + '-css'; // eslint-disable-line\n\nclass StyleTranspiler extends Transpiler {\n  constructor() {\n    super('style-loader');\n    this.cacheable = false;\n  }\n\n  cleanModule(loaderContext: LoaderContext) {\n    const id = getStyleId(loaderContext._module.getId());\n    const element = document.getElementById(id);\n\n    if (element != null && element.parentNode != null) {\n      element.parentNode.removeChild(element);\n    }\n  }\n\n  doTranspilation(code: string, loaderContext: LoaderContext) {\n    const id = getStyleId(loaderContext._module.getId());\n    const { path } = loaderContext;\n\n    if (loaderContext.options.module) {\n      return getModules(code, loaderContext).then(({ css, exportTokens }) => {\n        let result = insertCss(id, css, loaderContext.options.hmrEnabled);\n        result += `\\nmodule.exports=${JSON.stringify(exportTokens)};`;\n\n        dispatch({\n          type: 'add-extra-lib',\n          path,\n          code: toDefinition(exportTokens),\n        });\n        return Promise.resolve({ transpiledCode: result });\n      });\n    }\n\n    const result = insertCss(id, code, loaderContext.options.hmrEnabled);\n    return Promise.resolve({ transpiledCode: result });\n  }\n}\n\nconst transpiler = new StyleTranspiler();\n\nexport { StyleTranspiler };\n\nexport default transpiler;\n","const expr = /(;|^|}|\\s)(import|export)(\\s|{)/gm;\n\nexport default function isESModule(code: string) {\n  expr.lastIndex = 0;\n  return code.indexOf('export default') !== -1 || expr.test(code);\n}\n","// @flow\n\ntype WorkerError = {\n  name: string,\n  message: string,\n  fileName: ?string,\n  lineNumber: ?number,\n  columnNumber: ?number,\n};\n\nexport function buildWorkerError(error: Error): WorkerError {\n  return {\n    name: error.name,\n    message: error.message,\n    fileName: error.fileName,\n    lineNumber: error.lineNumber,\n    columnNumber: error.columnNumber,\n  };\n}\n\nexport function parseWorkerError(error: WorkerError): Error {\n  const reconstructedError = new Error(error.message);\n  reconstructedError.name = error.name;\n  reconstructedError.columnNumber = error.columnNumber;\n  reconstructedError.fileName = error.columnNumber;\n  reconstructedError.lineNumber = error.lineNumber;\n\n  return reconstructedError;\n}\n","import _debug from '@codesandbox/common/lib/utils/debug';\nimport { dispatch, actions } from 'codesandbox-api';\n\nimport {\n  LoaderContext,\n  Transpiler,\n  TranspilerResult,\n  Manager,\n} from 'sandpack-core';\nimport { parseWorkerError } from './utils/worker-error-handler';\n\nconst debug = _debug('cs:compiler:worker-transpiler');\n\ntype TranspilerCallback = (\n  err: any | undefined,\n  data: TranspilerResult | undefined\n) => void;\n\ntype Task = {\n  message: any;\n  callbacks: TranspilerCallback[];\n  loaderContext: LoaderContext;\n};\n\n/**\n * A transpiler that handles worker messaging for you! Magic\n */\nexport default abstract class WorkerTranspiler extends Transpiler {\n  Worker: () => Worker;\n  workers: Array<Worker>;\n  idleWorkers: Array<Worker>;\n  loadingWorkers: number;\n  workerCount: number;\n  tasks: {\n    [id: string]: Task;\n  };\n\n  initialized: boolean;\n  runningTasks: {\n    [id: string]: (error: Error, message: Object) => void;\n  };\n\n  hasFS: boolean;\n\n  constructor(\n    name: string,\n    Worker: () => Worker,\n    workerCount = navigator.hardwareConcurrency,\n    options: { hasFS?: boolean; preload?: boolean } = {}\n  ) {\n    super(name);\n\n    this.workerCount = workerCount;\n    this.Worker = Worker;\n    this.workers = [];\n    this.idleWorkers = [];\n    this.tasks = {};\n    this.initialized = false;\n    this.hasFS = options.hasFS || false;\n    this.loadingWorkers = 0;\n\n    if (options.preload) {\n      if (this.workers.length === 0) {\n        Promise.all(\n          Array.from({ length: this.workerCount }, () => this.loadWorker())\n        );\n      }\n    }\n  }\n\n  getWorker(): Promise<Worker> {\n    // @ts-ignore\n    return Promise.resolve(new this.Worker());\n  }\n\n  async loadWorker() {\n    this.loadingWorkers++;\n    const t = Date.now();\n    const worker = await this.getWorker();\n    const readyListener = e => {\n      if (e.data === 'ready') {\n        debug(`Loaded '${this.name}' worker in ${Date.now() - t}ms`);\n        worker.removeEventListener('message', readyListener);\n      }\n    };\n    worker.addEventListener('message', readyListener);\n\n    if (this.hasFS) {\n      // Register file system that syncs with filesystem in manager\n      // @ts-ignore\n      BrowserFS.FileSystem.WorkerFS.attachRemoteListener(worker); // eslint-disable-line\n      worker.postMessage({ type: 'initialize-fs', codesandbox: true });\n    }\n\n    this.idleWorkers.push(worker);\n\n    this.executeRemainingTasks();\n\n    this.workers.push(worker);\n  }\n\n  async initialize() {\n    this.initialized = true;\n    if (this.workers.length === 0) {\n      await Promise.all(\n        Array.from({ length: this.workerCount }, () => this.loadWorker())\n      );\n    }\n  }\n\n  dispose() {\n    this.workers.forEach(w => w.terminate());\n    this.initialized = false;\n    this.tasks = {};\n    this.workers.length = 0;\n    this.idleWorkers.length = 0;\n    this.loadingWorkers = 0;\n  }\n\n  executeRemainingTasks() {\n    const taskIds = Object.keys(this.tasks);\n    while (this.idleWorkers.length && taskIds.length) {\n      const taskId = taskIds.shift();\n\n      const task = this.tasks[taskId];\n      delete this.tasks[taskId];\n\n      const worker = this.idleWorkers.shift();\n      this.executeTask(task, worker);\n    }\n  }\n\n  runCallbacks(\n    callbacks: Array<TranspilerCallback>,\n    err: Error | undefined,\n    data?: TranspilerResult\n  ) {\n    callbacks.forEach(c => c(err, data));\n  }\n\n  executeTask({ message, loaderContext, callbacks }: Task, worker: Worker) {\n    worker.onmessage = async newMessage => {\n      const { data } = newMessage;\n\n      if (data) {\n        if (data.type === 'error') {\n          const reconstructedError = parseWorkerError(data.error);\n\n          this.runCallbacks(callbacks, reconstructedError);\n        }\n\n        if (data.type === 'warning') {\n          loaderContext.emitWarning(data.warning);\n          return;\n        }\n\n        if (data.type === 'clear-warnings') {\n          dispatch(actions.correction.clear(data.path, data.source));\n        }\n\n        if (data.type === 'resolve-fs') {\n          const { id } = data;\n\n          const modules = loaderContext.getModules();\n          worker.postMessage({\n            type: 'resolve-fs-response',\n            id,\n            modules,\n          });\n        }\n\n        if (data.type === 'resolve-async-transpiled-module') {\n          // This one is to add an asynchronous transpiled module\n\n          const { id, path, options } = data;\n\n          try {\n            const tModule = await loaderContext.resolveTranspiledModuleAsync(\n              path,\n              options\n            );\n            worker.postMessage({\n              type: 'resolve-async-transpiled-module-response',\n              id,\n              found: true,\n              path: tModule.module.path,\n              code: tModule.module.code,\n            });\n          } catch (e) {\n            worker.postMessage({\n              type: 'resolve-async-transpiled-module-response',\n              id,\n              found: false,\n            });\n          }\n        }\n\n        if (data.type === 'add-dependency') {\n          // Dynamic import\n          if (data.isGlob) {\n            loaderContext.addDependenciesInDirectory(data.path, {\n              isAbsolute: data.isAbsolute,\n              isEntry: data.isEntry,\n            });\n          } else {\n            loaderContext.addDependency(data.path, {\n              isAbsolute: data.isAbsolute,\n              isEntry: data.isEntry,\n            });\n          }\n          return;\n        }\n\n        if (data.type === 'add-transpilation-dependency') {\n          loaderContext.addTranspilationDependency(data.path, {\n            isAbsolute: data.isAbsolute,\n            isEntry: data.isEntry,\n          });\n          return;\n        }\n\n        // Means the transpile task has been completed\n        if (data.type === 'result') {\n          this.runCallbacks(callbacks, null, data);\n        }\n\n        if (data.type === 'error' || data.type === 'result') {\n          // Unshift instead of push, we want to prepend the worker because\n          // this worker is warm now.\n          this.idleWorkers.unshift(worker);\n          this.executeRemainingTasks();\n        }\n      }\n    };\n    worker.postMessage({ type: 'compile', codesandbox: true, ...message });\n  }\n\n  async queueTask(\n    message: any,\n    id: string,\n    loaderContext: LoaderContext,\n    callback: (err: Error, message: TranspilerResult) => void\n  ) {\n    this.initialized = true;\n    if (\n      this.idleWorkers.length === 0 &&\n      this.loadingWorkers < this.workerCount\n    ) {\n      // Load new worker if needed\n      await this.loadWorker();\n    }\n\n    if (!this.tasks[id]) {\n      this.tasks[id] = {\n        message,\n        loaderContext,\n        callbacks: [],\n      };\n    }\n\n    this.tasks[id].callbacks.push(callback);\n\n    this.executeRemainingTasks();\n  }\n\n  async getTranspilerContext(manager: Manager) {\n    return super.getTranspilerContext(manager).then(x => ({\n      ...x,\n      worker: true,\n      hasFS: this.hasFS,\n      workerCount: this.workerCount,\n      initialized: Boolean(this.initialized),\n    }));\n  }\n}\n","const DEFAULT_BABEL_CONFIG = {\n  presets: ['env', 'react'],\n  plugins: [],\n};\n\n/**\n * Parses the .babelrc if it exists, if it doesn't it will return a default config\n */\nexport default function getBabelConfig(\n  config: Object | undefined,\n  loaderOptions: { disableCodeSandboxPlugins?: boolean },\n  path: string,\n  isV7: boolean = false\n) {\n  const resolvedConfig = config || DEFAULT_BABEL_CONFIG;\n\n  if (loaderOptions.disableCodeSandboxPlugins) {\n    return resolvedConfig;\n  }\n\n  const finalConfig: Partial<{\n    sourceMaps: string;\n    sourceFileName: string;\n    filename: string;\n    plugins: string[];\n    presets: string[];\n  }> = {\n    ...resolvedConfig,\n    sourceMaps: 'inline',\n    sourceFileName: path,\n    filename: path,\n  };\n\n  const commonjsPluginName = isV7\n    ? 'transform-modules-commonjs'\n    : 'transform-es2015-modules-commonjs';\n\n  if (finalConfig.plugins) {\n    if (finalConfig.plugins.indexOf(commonjsPluginName) === -1) {\n      finalConfig.plugins = [...finalConfig.plugins, commonjsPluginName];\n    }\n  } else {\n    finalConfig.plugins = [commonjsPluginName];\n  }\n\n  return finalConfig;\n}\n","export const Syntax = {\n  ArrayExpression: 'ArrayExpression' as 'ArrayExpression',\n  ArrayPattern: 'ArrayPattern' as 'ArrayPattern',\n  ArrowFunctionExpression: 'ArrowFunctionExpression' as 'ArrowFunctionExpression',\n  AssignmentExpression: 'AssignmentExpression' as 'AssignmentExpression',\n  AssignmentPattern: 'AssignmentPattern' as 'AssignmentPattern',\n  AwaitExpression: 'AwaitExpression' as 'AwaitExpression',\n  BinaryExpression: 'BinaryExpression' as 'BinaryExpression',\n  BlockStatement: 'BlockStatement' as 'BlockStatement',\n  BreakStatement: 'BreakStatement' as 'BreakStatement',\n  CallExpression: 'CallExpression' as 'CallExpression',\n  CatchClause: 'CatchClause' as 'CatchClause',\n  ClassBody: 'ClassBody' as 'ClassBody',\n  ClassDeclaration: 'ClassDeclaration' as 'ClassDeclaration',\n  ClassExpression: 'ClassExpression' as 'ClassExpression',\n  ConditionalExpression: 'ConditionalExpression' as 'ConditionalExpression',\n  ContinueStatement: 'ContinueStatement' as 'ContinueStatement',\n  DebuggerStatement: 'DebuggerStatement' as 'DebuggerStatement',\n  DoWhileStatement: 'DoWhileStatement' as 'DoWhileStatement',\n  EmptyStatement: 'EmptyStatement' as 'EmptyStatement',\n  ExportAllDeclaration: 'ExportAllDeclaration' as 'ExportAllDeclaration',\n  ExportDefaultDeclaration: 'ExportDefaultDeclaration' as 'ExportDefaultDeclaration',\n  ExportNamedDeclaration: 'ExportNamedDeclaration' as 'ExportNamedDeclaration',\n  ExportSpecifier: 'ExportSpecifier' as 'ExportSpecifier',\n  ExpressionStatement: 'ExpressionStatement' as 'ExpressionStatement',\n  ForInStatement: 'ForInStatement' as 'ForInStatement',\n  ForOfStatement: 'ForOfStatement' as 'ForOfStatement',\n  ForStatement: 'ForStatement' as 'ForStatement',\n  FunctionDeclaration: 'FunctionDeclaration' as 'FunctionDeclaration',\n  FunctionExpression: 'FunctionExpression' as 'FunctionExpression',\n  Identifier: 'Identifier' as 'Identifier',\n  IfStatement: 'IfStatement' as 'IfStatement',\n  Import: 'Import' as 'Import',\n  ImportDeclaration: 'ImportDeclaration' as 'ImportDeclaration',\n  ImportDefaultSpecifier: 'ImportDefaultSpecifier' as 'ImportDefaultSpecifier',\n  ImportNamespaceSpecifier: 'ImportNamespaceSpecifier' as 'ImportNamespaceSpecifier',\n  ImportSpecifier: 'ImportSpecifier' as 'ImportSpecifier',\n  LabeledStatement: 'LabeledStatement' as 'LabeledStatement',\n  Literal: 'Literal' as 'Literal',\n  LogicalExpression: 'LogicalExpression' as 'LogicalExpression',\n  MemberExpression: 'MemberExpression' as 'MemberExpression',\n  MetaProperty: 'MetaProperty' as 'MetaProperty',\n  MethodDefinition: 'MethodDefinition' as 'MethodDefinition',\n  NewExpression: 'NewExpression' as 'NewExpression',\n  ObjectExpression: 'ObjectExpression' as 'ObjectExpression',\n  ObjectPattern: 'ObjectPattern' as 'ObjectPattern',\n  Program: 'Program' as 'Program',\n  Property: 'Property' as 'Property',\n  RestElement: 'RestElement' as 'RestElement',\n  ReturnStatement: 'ReturnStatement' as 'ReturnStatement',\n  SequenceExpression: 'SequenceExpression' as 'SequenceExpression',\n  SpreadElement: 'SpreadElement' as 'SpreadElement',\n  Super: 'Super' as 'Super',\n  SwitchCase: 'SwitchCase' as 'SwitchCase',\n  SwitchStatement: 'SwitchStatement' as 'SwitchStatement',\n  TaggedTemplateExpression: 'TaggedTemplateExpression' as 'TaggedTemplateExpression',\n  TemplateElement: 'TemplateElement' as 'TemplateElement',\n  TemplateLiteral: 'TemplateLiteral' as 'TemplateLiteral',\n  ThisExpression: 'ThisExpression' as 'ThisExpression',\n  ThrowStatement: 'ThrowStatement' as 'ThrowStatement',\n  TryStatement: 'TryStatement' as 'TryStatement',\n  UnaryExpression: 'UnaryExpression' as 'UnaryExpression',\n  UpdateExpression: 'UpdateExpression' as 'UpdateExpression',\n  VariableDeclaration: 'VariableDeclaration' as 'VariableDeclaration',\n  VariableDeclarator: 'VariableDeclarator' as 'VariableDeclarator',\n  WhileStatement: 'WhileStatement' as 'WhileStatement',\n  WithStatement: 'WithStatement' as 'WithStatement',\n  YieldExpression: 'YieldExpression' as 'YieldExpression',\n  JSXElement: 'JSXElement' as 'JSXElement',\n  ExportNamespaceSpecifier: 'ExportNamespaceSpecifier' as 'ExportNamespaceSpecifier',\n};\n","import { ESTree } from 'meriyah';\nimport { Syntax as n } from './syntax';\n\nexport function generateRequireStatement(varName: string, requirePath: string) {\n  // Generates `var $varName = require('$requirePath');\n  return {\n    type: n.VariableDeclaration,\n    declarations: [\n      {\n        type: n.VariableDeclarator,\n        id: {\n          type: n.Identifier,\n          name: varName,\n        },\n        init: {\n          type: n.CallExpression,\n          callee: {\n            type: n.Identifier,\n            name: 'require',\n          },\n          arguments: [\n            {\n              type: n.Literal,\n              value: requirePath,\n            },\n          ],\n        },\n      },\n    ],\n    kind: 'var' as 'var',\n  };\n}\n\n/**\n * Generates:\n * ```js\n * Object.keys($varName).forEach(function (key) {\n *   if (key === \"default\" || key === \"__esModule\") return;\n *   if (Object.prototype.hasOwnProperty.call(exports, key)) return;\n *   Object.defineProperty(exports, key, {\n *     enumerable: true,\n *     configurable: true,\n *     get: function get() {\n *       return $varName[key];\n *     }\n *   });\n * });\n * ```\n */\nexport function generateAllExportsIterator(varName: string) {\n  return {\n    type: n.ExpressionStatement,\n    expression: {\n      type: n.CallExpression,\n      callee: {\n        type: n.MemberExpression,\n        computed: false,\n        object: {\n          type: n.CallExpression,\n          callee: {\n            type: n.MemberExpression,\n            computed: false,\n            object: {\n              type: n.Identifier,\n              name: 'Object',\n            },\n            property: {\n              type: n.Identifier,\n              name: 'keys',\n            },\n          },\n          arguments: [\n            {\n              type: n.Identifier,\n              name: varName,\n            },\n          ],\n        },\n        property: {\n          type: n.Identifier,\n          name: 'forEach',\n        },\n      },\n      arguments: [\n        {\n          type: n.FunctionExpression,\n          id: null,\n          params: [\n            {\n              type: n.Identifier,\n              name: 'key',\n            },\n          ],\n          body: {\n            type: n.BlockStatement,\n            body: [\n              {\n                type: n.IfStatement,\n                test: {\n                  type: n.LogicalExpression,\n                  operator: '||' as '||',\n                  left: {\n                    type: n.BinaryExpression,\n                    operator: '===' as '===',\n                    left: {\n                      type: n.Identifier,\n                      name: 'key',\n                    },\n                    right: {\n                      type: n.Literal,\n                      value: 'default',\n                      raw: '\"default\"',\n                    },\n                  },\n                  right: {\n                    type: n.BinaryExpression,\n                    operator: '===' as '===',\n                    left: {\n                      type: n.Identifier,\n                      name: 'key',\n                    },\n                    right: {\n                      type: n.Literal,\n                      value: '__esModule',\n                      raw: '\"__esModule\"',\n                    },\n                  },\n                },\n                consequent: {\n                  type: n.ReturnStatement,\n                  argument: null,\n                },\n                alternate: null,\n              },\n              {\n                type: n.IfStatement,\n                test: {\n                  type: n.CallExpression,\n                  callee: {\n                    type: n.MemberExpression,\n                    object: {\n                      type: n.MemberExpression,\n                      object: {\n                        type: n.MemberExpression,\n                        object: {\n                          type: n.Identifier,\n                          name: 'Object',\n                        },\n                        computed: false,\n                        property: {\n                          type: n.Identifier,\n                          name: 'prototype',\n                        },\n                      },\n                      computed: false,\n                      property: {\n                        type: n.Identifier,\n                        name: 'hasOwnProperty',\n                      },\n                    },\n                    computed: false,\n                    property: {\n                      type: n.Identifier,\n                      name: 'call',\n                    },\n                  },\n                  arguments: [\n                    {\n                      type: n.Identifier,\n                      name: 'exports',\n                    },\n                    {\n                      type: n.Identifier,\n                      name: 'key',\n                    },\n                  ],\n                },\n                consequent: {\n                  type: n.ReturnStatement,\n                  argument: null,\n                },\n                alternate: null,\n              },\n              generateExportGetter(\n                { type: n.Identifier, name: 'key' },\n                {\n                  type: n.MemberExpression,\n                  computed: true,\n                  object: {\n                    type: n.Identifier,\n                    name: varName,\n                  },\n                  property: {\n                    type: n.Identifier,\n                    name: 'key',\n                  },\n                }\n              ),\n            ],\n          },\n          generator: false,\n          expression: false,\n          async: false,\n        },\n      ],\n    },\n  };\n}\n\n/**\n * exports.$exportName = $varName.$exportName;\n */\nexport function generateExportStatement(varName: string, exportName: string) {\n  return {\n    type: n.ExpressionStatement,\n    expression: {\n      type: n.AssignmentExpression,\n      operator: '=' as '=',\n      left: {\n        type: n.MemberExpression,\n        computed: false,\n        object: {\n          type: n.Identifier,\n          name: 'exports',\n        },\n        property: {\n          type: n.Identifier,\n          name: exportName,\n        },\n      },\n      right: {\n        type: n.Identifier,\n        name: varName,\n      },\n    },\n  };\n}\n\n/**\n * Object.defineProperty(exports, { __esModule: true })\n */\nexport function generateEsModuleSpecifier() {\n  return {\n    type: n.ExpressionStatement,\n    expression: {\n      type: n.CallExpression,\n      callee: {\n        type: n.MemberExpression,\n        computed: false,\n        object: {\n          type: n.Identifier,\n          name: 'Object',\n        },\n        property: {\n          type: n.Identifier,\n          name: 'defineProperty',\n        },\n      },\n      arguments: [\n        {\n          type: n.Identifier,\n          name: 'exports',\n        },\n        {\n          type: n.Literal,\n          value: '__esModule',\n          raw: '\"__esModule\"',\n        },\n        {\n          type: n.ObjectExpression,\n          properties: [\n            {\n              type: n.Property,\n              key: {\n                type: n.Identifier,\n                name: 'value',\n              },\n              computed: false,\n              value: {\n                type: n.Literal,\n                value: true,\n                raw: 'true',\n              },\n              kind: 'init' as 'init',\n              method: false,\n              shorthand: false,\n            },\n          ],\n        },\n      ],\n    },\n  };\n}\n\n/**\n * Object.defineProperty(exports, $exportName, {\n *   enumerable: true,\n *   configurable: true,\n *   get: function get() {\n *     return $localName;\n *   }\n * })\n */\nexport function generateExportGetter(\n  exportObj:\n    | { type: 'Identifier'; name: string }\n    | { type: 'Literal'; value: string },\n  local: ESTree.Expression\n) {\n  return {\n    type: n.ExpressionStatement,\n    expression: {\n      type: n.CallExpression,\n      callee: {\n        type: n.MemberExpression,\n        computed: false,\n        object: {\n          type: n.Identifier,\n          name: 'Object',\n        },\n        property: {\n          type: n.Identifier,\n          name: 'defineProperty',\n        },\n      },\n      arguments: [\n        {\n          type: n.Identifier,\n          name: 'exports',\n        },\n        exportObj,\n        {\n          type: n.ObjectExpression,\n          properties: [\n            {\n              type: n.Property,\n              key: {\n                type: n.Identifier,\n                name: 'enumerable',\n              },\n              computed: false,\n              value: {\n                type: n.Literal,\n                value: true,\n                raw: 'true',\n              },\n              kind: 'init' as 'init',\n              method: false,\n              shorthand: false,\n            },\n            {\n              type: n.Property,\n              key: {\n                type: n.Identifier,\n                name: 'configurable',\n              },\n              computed: false,\n              value: {\n                type: n.Literal,\n                value: true,\n                raw: 'true',\n              },\n              kind: 'init' as 'init',\n              method: false,\n              shorthand: false,\n            },\n            {\n              type: n.Property,\n              key: {\n                type: n.Identifier,\n                name: 'get',\n              },\n              computed: false,\n              value: {\n                type: n.FunctionExpression,\n                id: {\n                  type: n.Identifier,\n                  name: '$csbGet',\n                },\n                generator: false,\n                async: false,\n                params: [],\n                body: {\n                  type: n.BlockStatement,\n                  body: [\n                    {\n                      type: n.ReturnStatement,\n                      argument: local,\n                    },\n                  ],\n                },\n              },\n              kind: 'init' as 'init',\n              method: false,\n              shorthand: false,\n            },\n          ],\n        },\n      ],\n    },\n  };\n}\n\nexport function generateInteropRequire() {\n  return {\n    type: n.FunctionDeclaration,\n    params: [\n      {\n        type: n.Identifier,\n        name: 'obj' as 'obj',\n      },\n    ],\n    body: {\n      type: n.BlockStatement,\n      body: [\n        {\n          type: n.ReturnStatement,\n          argument: {\n            type: n.ConditionalExpression,\n            test: {\n              type: n.LogicalExpression,\n              left: {\n                type: n.Identifier,\n                name: 'obj',\n              },\n              right: {\n                type: n.MemberExpression,\n                object: {\n                  type: n.Identifier,\n                  name: 'obj',\n                },\n                computed: false,\n                property: {\n                  type: n.Identifier,\n                  name: '__esModule',\n                },\n              },\n              operator: '&&',\n            },\n            consequent: {\n              type: n.Identifier,\n              name: 'obj',\n            },\n            alternate: {\n              type: n.ObjectExpression,\n              properties: [\n                {\n                  type: n.Property,\n                  key: {\n                    type: n.Identifier,\n                    name: 'default',\n                  },\n                  value: {\n                    type: n.Identifier,\n                    name: 'obj',\n                  },\n                  kind: 'init' as 'init',\n                  computed: false,\n                  method: false,\n                  shorthand: false,\n                },\n              ],\n            },\n          },\n        },\n      ],\n    },\n    async: false,\n    generator: false,\n    id: {\n      type: n.Identifier,\n      name: '$_csb__interopRequireDefault',\n    },\n  };\n}\n\nexport function generateInteropRequireExpression(\n  argument: ESTree.Expression,\n  localName: string\n) {\n  return {\n    type: n.VariableDeclaration,\n    kind: 'var' as 'var',\n    declarations: [\n      {\n        type: n.VariableDeclarator,\n        init: {\n          type: n.CallExpression,\n          callee: {\n            type: n.Identifier,\n            name: '$_csb__interopRequireDefault',\n          },\n          arguments: [argument],\n        },\n        id: {\n          type: n.Identifier,\n          name: localName,\n        },\n      },\n    ],\n  };\n}\n","import * as astring from 'astring';\nimport * as meriyah from 'meriyah';\nimport { Identifier } from 'meriyah/dist/estree';\nimport jsxGenerator from './generator-jsx';\n\n// Enables parenthesis regardless of precedence\nconst NEEDS_PARENTHESES = 17;\nconst EXPRESSIONS_PRECEDENCE = {\n  // Definitions\n  ArrayExpression: 20,\n  TaggedTemplateExpression: 20,\n  ThisExpression: 20,\n  Identifier: 20,\n  Literal: 18,\n  TemplateLiteral: 20,\n  Super: 20,\n  SequenceExpression: 20,\n  // Operations\n  MemberExpression: 19,\n  CallExpression: 19,\n  NewExpression: 19,\n  // Other definitions\n  ArrowFunctionExpression: NEEDS_PARENTHESES,\n  ClassExpression: NEEDS_PARENTHESES,\n  FunctionExpression: NEEDS_PARENTHESES,\n  ObjectExpression: NEEDS_PARENTHESES,\n  // Other operations\n  UpdateExpression: 16,\n  UnaryExpression: 15,\n  BinaryExpression: 14,\n  LogicalExpression: 13,\n  ConditionalExpression: 4,\n  AssignmentExpression: 3,\n  AwaitExpression: 2,\n  YieldExpression: 2,\n  RestElement: 1,\n};\n\n/**\n * Add support for next syntax\n */\nexport const customGenerator = {\n  ...astring.baseGenerator,\n  FieldDefinition(\n    node: meriyah.ESTree.FieldDefinition,\n    state: { write(s: string): void }\n  ) {\n    // Support class fields\n\n    if (node.static) {\n      state.write('static ');\n    }\n    state.write((node.key as Identifier).name);\n    state.write(' = ');\n    this[node.value.type](node.value, state);\n  },\n  ImportExpression(\n    node: meriyah.ESTree.ImportExpression,\n    state: { write(s: string): void }\n  ) {\n    // Convert import() to $csbImport()\n\n    state.write('$csbImport(');\n    this[node.source.type](node.source, state);\n    state.write(')');\n  },\n  UnaryExpression(\n    node: meriyah.ESTree.UnaryExpression,\n    state: { write(s: string): void }\n  ) {\n    if (node.prefix) {\n      state.write(node.operator);\n      if (node.operator.length > 1) {\n        state.write(' ');\n      }\n      if (\n        EXPRESSIONS_PRECEDENCE[node.argument.type] <\n        EXPRESSIONS_PRECEDENCE.UnaryExpression\n      ) {\n        state.write('(');\n        this[node.argument.type](node.argument, state);\n        state.write(')');\n      } else {\n        state.write(' ');\n        this[node.argument.type](node.argument, state);\n      }\n    } else {\n      // FIXME: This case never occurs\n      this[node.argument.type](node.argument, state);\n      state.write(node.operator);\n    }\n  },\n  ...jsxGenerator,\n};\n","/**\n * Derived from https://unpkg.com/browse/astring-jsx@1.0.1/index.js\n */\n\nexport default {\n  // <div></div>\n  JSXElement(node, state) {\n    state.write('<');\n    this[node.openingElement.type](node.openingElement, state);\n    if (node.closingElement) {\n      state.write('>');\n      for (let i = 0; i < node.children.length; i++) {\n        const child = node.children[i];\n        this[child.type](child, state);\n      }\n      state.write('</');\n      this[node.closingElement.type](node.closingElement, state);\n      state.write('>');\n    } else {\n      state.write(' />');\n    }\n  },\n  // <div>\n  JSXOpeningElement: function JSXOpeningElement(node, state) {\n    this[node.name.type](node.name, state);\n    for (let i = 0; i < node.attributes.length; i++) {\n      const attr = node.attributes[i];\n      this[attr.type](attr, state);\n    }\n  },\n  // </div>\n  JSXClosingElement: function JSXOpeningElement(node, state) {\n    this[node.name.type](node.name, state);\n  },\n  // div\n  JSXIdentifier: function JSXOpeningElement(node, state) {\n    state.write(node.name);\n  },\n  // Member.Expression\n  JSXMemberExpression: function JSXMemberExpression(node, state) {\n    this[node.object.type](node.object, state);\n    state.write('.');\n    this[node.property.type](node.property, state);\n  },\n  // attr=\"something\"\n  JSXAttribute: function JSXAttribute(node, state) {\n    state.write(' ');\n    this[node.name.type](node.name, state);\n    state.write('=');\n    this[node.value.type](node.value, state);\n  },\n  // namespaced:attr=\"something\"\n  JSXNamespacedName: function JSXNamespacedName(node, state) {\n    this[node.namespace.type](node.namespace, state);\n    state.write(':');\n    this[node.name.type](node.name, state);\n  },\n  // {expression}\n  JSXExpressionContainer: function JSXExpressionContainer(node, state) {\n    state.write('{');\n    this[node.expression.type](node.expression, state);\n    state.write('}');\n  },\n  JSXText(node, state) {\n    state.write(node.value);\n  },\n};\n","// This code is written to be performant, that's why we opted to ignore these linting issues\n/* eslint-disable no-loop-func, no-continue */\nimport * as meriyah from 'meriyah';\nimport * as astring from 'astring';\nimport * as escope from 'escope';\nimport { basename } from 'path';\nimport { walk } from 'estree-walker';\nimport { flatten } from 'lodash-es';\nimport {\n  AssignmentExpression,\n  Identifier,\n  Property,\n  Statement,\n} from 'meriyah/dist/estree';\nimport { Syntax as n } from './syntax';\nimport {\n  generateRequireStatement,\n  generateAllExportsIterator,\n  generateExportStatement,\n  generateEsModuleSpecifier,\n  generateInteropRequire,\n  generateInteropRequireExpression,\n  generateExportGetter,\n} from './utils';\nimport { customGenerator } from './generator';\n\n/**\n * Converts esmodule code to commonjs code, built to be as fast as possible\n */\nexport function convertEsModule(\n  code: string\n): { code: string; ast: meriyah.ESTree.Program } {\n  const usedVarNames = {};\n  const varsToRename = {};\n  const trackedExports = {};\n  /**\n   * All names we export, used to predefine the exports at the start\n   */\n  const exportNames = new Set<string>();\n\n  const getVarName = (name: string) => {\n    let usedName = name.replace(/(\\s|\\.|-|@|\\?|&|=|{|})/g, '');\n    while (usedVarNames[usedName]) {\n      usedName += '_';\n    }\n    usedVarNames[usedName] = true;\n    return usedName;\n  };\n\n  let program = meriyah.parseModule(code, {\n    next: true,\n    raw: true,\n    jsx: true,\n  });\n\n  let i = 0;\n  let importOffset = 0;\n\n  function addNodeInImportSpace(oldPosition: number, node: Statement) {\n    program.body.splice(oldPosition, 1);\n    program.body.splice(importOffset, 0, node);\n    importOffset++;\n  }\n\n  let addedSpecifier = false;\n  function addEsModuleSpecifier() {\n    if (addedSpecifier) {\n      return;\n    }\n    addedSpecifier = true;\n\n    program.body.unshift(generateEsModuleSpecifier());\n\n    // Make sure imports will stay after this\n    importOffset++;\n\n    i++;\n  }\n\n  let addedDefaultInterop = false;\n  function addDefaultInterop() {\n    if (addedDefaultInterop) {\n      return;\n    }\n    addedDefaultInterop = true;\n\n    program.body.push(generateInteropRequire());\n  }\n\n  /**\n   * Adds the export identifiers (exports.a = exports.b = exports.c = void 0)\n   */\n  function addExportVoids() {\n    const exportNamesArray = [...exportNames];\n    while (exportNamesArray.length !== 0) {\n      // We need to chunk the exports by 50, otherwise this line will get too long\n      // and the visitor will create a Maximum call stack size exceeded error\n      const exportNamesToUse = exportNamesArray.splice(0, 50);\n      const totalNode = {\n        type: n.ExpressionStatement,\n        expression: {\n          type: n.AssignmentExpression,\n          operator: '=',\n        },\n      };\n      let currentNode: Partial<AssignmentExpression> = totalNode.expression;\n      while (exportNamesToUse.length > 0) {\n        const exportName = exportNamesToUse.pop();\n        currentNode.left = {\n          type: n.MemberExpression,\n          object: {\n            type: n.Identifier,\n            name: 'exports',\n          },\n          property: {\n            type: n.Identifier,\n            name: exportName,\n          } as Identifier,\n        };\n        if (exportNamesToUse.length) {\n          // @ts-expect-error This will be filled in in the next loop\n          currentNode.right = {\n            type: n.AssignmentExpression,\n            operator: '=',\n          } as Partial<AssignmentExpression>;\n          currentNode = currentNode.right as Partial<AssignmentExpression>;\n        } else {\n          currentNode.right = {\n            type: n.UnaryExpression,\n            operator: 'void',\n            prefix: true,\n            argument: {\n              type: n.Literal,\n              value: 0,\n            },\n          };\n        }\n      }\n\n      // @ts-expect-error TS thinks this is a partial type, but by now it's full\n      program.body.unshift(totalNode);\n    }\n  }\n\n  // If there is a declaration of `exports` (`var exports = []`), we need to rename this\n  // variable as it's a reserved keyword\n  let exportsDefined = false;\n  // @ts-ignore\n  program = walk(program, {\n    enter(node, parent) {\n      if (node.type === n.VariableDeclaration) {\n        // We don't rename exports vars in functions, only on root level\n        if (parent.type === n.BlockStatement && exportsDefined === false) {\n          this.skip();\n        }\n      } else if (node.type === n.VariableDeclarator) {\n        const declNode = node as meriyah.ESTree.VariableDeclarator;\n        if (\n          declNode.id.type === n.Identifier &&\n          declNode.id.name === 'exports'\n        ) {\n          exportsDefined = true;\n        }\n      } else if (node.type === n.Identifier && exportsDefined) {\n        const idNode = node as meriyah.ESTree.Identifier;\n        if (idNode.name === 'exports') {\n          idNode.name = '__$csb_exports';\n          this.replace(idNode);\n        }\n      } else if (!exportsDefined && parent != null) {\n        // Skip, we don't need to go deeper now\n        this.skip();\n      }\n    },\n  });\n\n  for (; i < program.body.length; i++) {\n    const statement = program.body[i];\n\n    if (statement.type === n.ExportAllDeclaration) {\n      // export * from './test';\n      // TO:\n      // const _csb = require('./test');\n      // Object.keys(_csb).forEach(key => {\n      //   if (key === 'default' || key === '__esModule')\n      //     return;\n      //   exports[key] = _csb[key])\n      // }\n\n      addEsModuleSpecifier();\n      const { source } = statement;\n      if (typeof source.value !== 'string') {\n        continue;\n      }\n      const varName = getVarName(`$csb__${basename(source.value, '.js')}`);\n      addNodeInImportSpace(i, generateRequireStatement(varName, source.value));\n\n      program.body.push(generateAllExportsIterator(varName));\n    } else if (statement.type === n.ExportNamedDeclaration) {\n      // export { a } from './test';\n      // TO:\n      // const _csb = require('./test');\n      // exports.a = _csb.a;\n\n      addEsModuleSpecifier();\n      if (statement.source) {\n        // export { ... } from ''\n        const { source } = statement;\n        if (typeof source.value !== 'string') {\n          continue;\n        }\n        const varName = getVarName(`$csb__${basename(source.value, '.js')}`);\n\n        if (\n          statement.specifiers.length === 1 &&\n          statement.specifiers[0].type === n.ExportSpecifier &&\n          statement.specifiers[0].local.name === 'default'\n        ) {\n          // In this case there's a default re-export. So we need to wrap it in a interopRequireDefault to make sure\n          // that default is exposed.\n          addDefaultInterop();\n          addNodeInImportSpace(\n            i,\n            generateInteropRequireExpression(\n              {\n                type: n.CallExpression,\n                callee: {\n                  type: n.Identifier,\n                  name: 'require',\n                },\n                arguments: [\n                  {\n                    type: n.Literal,\n                    value: source.value,\n                  },\n                ],\n              },\n              varName\n            )\n          );\n        } else {\n          addNodeInImportSpace(\n            i,\n            generateRequireStatement(varName, source.value)\n          );\n        }\n\n        if (statement.specifiers.length) {\n          statement.specifiers.forEach(specifier => {\n            if (specifier.type === n.ExportSpecifier) {\n              exportNames.add(specifier.exported.name);\n              program.body.splice(\n                importOffset++,\n                0,\n                generateExportGetter(\n                  { type: n.Literal, value: specifier.exported.name },\n                  {\n                    type: n.MemberExpression,\n                    object: {\n                      type: n.Identifier,\n                      name: varName,\n                    },\n                    property: {\n                      type: n.Identifier,\n                      name: specifier.local.name,\n                    },\n                  }\n                )\n              );\n            } else if (specifier.type === n.ExportNamespaceSpecifier) {\n              program.body.splice(\n                importOffset++,\n                0,\n                generateExportGetter(\n                  { type: n.Literal, value: specifier.specifier.name },\n                  { type: n.Identifier, name: varName }\n                )\n              );\n            }\n\n            i++;\n          });\n        }\n      } else if (statement.declaration) {\n        // First remove the export statement\n        program.body[i] = statement.declaration;\n\n        if (\n          statement.declaration.type === n.FunctionDeclaration ||\n          statement.declaration.type === n.ClassDeclaration\n        ) {\n          // export function test() {}\n\n          const varName = statement.declaration.id.name;\n          i++;\n          // Add to start of the file, after the defineModule for __esModule. This way this export is already\n          // defined before requiring other modules. This is only possible for function exports.\n          const positionToInsert =\n            statement.declaration.type === n.FunctionDeclaration ? 1 : i;\n          program.body.splice(\n            positionToInsert,\n            0,\n            generateExportStatement(varName, varName)\n          );\n          exportNames.add(varName);\n        } else {\n          // export const a = {}\n\n          const declaration = statement.declaration as meriyah.ESTree.VariableDeclaration;\n\n          program.body.splice(\n            i,\n            1,\n            declaration,\n            // @ts-ignore\n            ...flatten(\n              declaration.declarations.map(node => {\n                if (node.id.type === n.ObjectPattern) {\n                  // export const { a } = c;\n                  return flatten(\n                    node.id.properties.map(property => {\n                      if (\n                        property.type !== n.Property ||\n                        property.value.type !== n.Identifier\n                      ) {\n                        return false;\n                      }\n\n                      exportNames.add(property.value.name);\n                      trackedExports[property.value.name] = property.value.name;\n                      return generateExportStatement(\n                        property.value.name,\n                        property.value.name\n                      );\n                    })\n                  ).filter(Boolean);\n                }\n                if (node.id.type === n.Identifier) {\n                  trackedExports[node.id.name] = node.id.name;\n\n                  exportNames.add(node.id.name);\n                  return generateExportStatement(node.id.name, node.id.name);\n                }\n\n                return null;\n              })\n            ).filter(Boolean)\n          );\n        }\n      } else if (statement.specifiers) {\n        program.body.splice(i, 1);\n        i--;\n        statement.specifiers.forEach(specifier => {\n          if (specifier.type === n.ExportSpecifier) {\n            i++;\n\n            exportNames.add(specifier.exported.name);\n            program.body.unshift(\n              generateExportGetter(\n                { type: n.Literal, value: specifier.exported.name },\n                { type: n.Identifier, name: specifier.local.name }\n              )\n            );\n          }\n        });\n      }\n    } else if (statement.type === n.ExportDefaultDeclaration) {\n      addEsModuleSpecifier();\n      // export default function() {}\n      // export default class A {}\n      const varName = getVarName(`$csb__default`);\n      // First remove the export statement\n      if (statement.declaration) {\n        if (statement.declaration.type === n.FunctionDeclaration) {\n          // @ts-ignore\n          statement.declaration.type = n.FunctionExpression;\n        } else if (statement.declaration.type === n.ClassDeclaration) {\n          // @ts-ignore\n          statement.declaration.type = n.ClassExpression;\n        }\n        const newDeclaration = statement.declaration as meriyah.ESTree.Expression;\n\n        // Create a var with the export\n        if (\n          statement.declaration.type === n.ClassExpression ||\n          statement.declaration.type === n.FunctionExpression\n        ) {\n          if (!statement.declaration.id) {\n            // If the function or class has no name, we give it to it\n            statement.declaration.id = {\n              type: n.Identifier,\n              name: varName,\n            };\n          }\n\n          program.body[\n            i\n          ] = statement.declaration as meriyah.ESTree.DeclarationStatement;\n          i++;\n\n          program.body.splice(\n            i,\n            0,\n            generateExportStatement(statement.declaration.id.name, 'default')\n          );\n        } else {\n          program.body[i] = {\n            type: n.VariableDeclaration,\n            kind: 'var' as 'var',\n\n            declarations: [\n              {\n                type: n.VariableDeclarator,\n                id: {\n                  type: n.Identifier,\n                  name: varName,\n                },\n                init: newDeclaration,\n              },\n            ],\n          };\n          i++;\n\n          program.body.splice(\n            i,\n            0,\n            generateExportStatement(varName, 'default')\n          );\n        }\n\n        if (\n          newDeclaration.type === n.ClassDeclaration ||\n          newDeclaration.type === n.FunctionExpression\n        ) {\n          trackedExports[newDeclaration.id.name] = 'default';\n        }\n      }\n    } else if (statement.type === n.ImportDeclaration) {\n      // @ts-ignore Wrong typing in lib?\n      const source: meriyah.ESTree.Literal = statement.source;\n\n      if (typeof source.value !== 'string') {\n        continue;\n      }\n      const varName = getVarName(`$csb__${basename(source.value, '.js')}`);\n\n      addNodeInImportSpace(i, generateRequireStatement(varName, source.value));\n\n      statement.specifiers.reverse().forEach(specifier => {\n        let localName: string;\n        let importName: string;\n\n        if (specifier.type === n.ImportSpecifier) {\n          // import {Test} from 'test';\n          // const _test = require('test');\n          // var Test = _test.Test;\n\n          // Mark that we need to rename all references to this variable\n          // to the new require statement. This will happen in the second pass.\n          varsToRename[specifier.local.name] = [\n            varName,\n            specifier.imported.name,\n          ];\n\n          return;\n        }\n        i++;\n\n        if (specifier.type === n.ImportDefaultSpecifier) {\n          // import Test from 'test';\n          // const _test = require('test');\n          // var Test = interopRequireDefault(_test).default;\n          localName = specifier.local.name;\n          importName = 'default';\n          addDefaultInterop();\n\n          program.body.splice(\n            // After the require statement\n            importOffset,\n            0,\n            generateInteropRequireExpression(\n              { type: n.Identifier, name: varName },\n              localName\n            )\n          );\n\n          varsToRename[localName] = [localName, 'default'];\n          importOffset++;\n          return;\n        }\n\n        if (specifier.type === n.ImportNamespaceSpecifier) {\n          // import * as Test from 'test';\n          // const _test = require('test');\n          // var Test = _test;\n          localName = specifier.local.name;\n          importName = null;\n        }\n\n        // insert in index 1 instead of 0 to be after the interopRequireDefault\n        program.body.splice(importOffset, 0, {\n          type: n.VariableDeclaration,\n          kind: 'var' as 'var',\n          declarations: [\n            {\n              type: n.VariableDeclarator,\n              id: {\n                type: n.Identifier,\n                name: localName,\n              },\n              init: importName\n                ? {\n                    type: n.MemberExpression,\n                    computed: false,\n                    object: {\n                      type: n.Identifier,\n                      name: varName,\n                    },\n                    property: {\n                      type: n.Identifier,\n                      name: importName,\n                    },\n                  }\n                : {\n                    type: n.Identifier,\n                    name: varName,\n                  },\n            },\n          ],\n        });\n        importOffset++;\n      });\n    }\n  }\n\n  // console.log(exportNames);\n  if (\n    Object.keys(varsToRename).length > 0 ||\n    Object.keys(trackedExports).length > 0\n  ) {\n    // Convert all the object shorthands to not shorthands, needed later when we rename variables so we\n    // don't change to the key literals\n    // @ts-ignore\n    program = walk(program, {\n      enter(node, parent, prop, index) {\n        if (node.type === n.Property) {\n          const property = node as Property;\n          if (\n            property.shorthand &&\n            property.value.type !== n.AssignmentPattern // Not a default initializer\n          ) {\n            property.value = {\n              ...property.key,\n            };\n            property.shorthand = false;\n          }\n        }\n      },\n    });\n\n    // A second pass where we rename all references to imports that were marked before.\n    const scopeManager = escope.analyze(program, { ecmaVersion: 6 });\n\n    scopeManager.acquire(program);\n    scopeManager.scopes.forEach(scope => {\n      scope.references.forEach(ref => {\n        // If the variable cannot be resolved, it must be the var that we had\n        // just changed.\n        if (\n          Object.prototype.hasOwnProperty.call(\n            varsToRename,\n            ref.identifier.name\n          ) &&\n          ref.resolved === null &&\n          !ref.writeExpr\n        ) {\n          ref.identifier.name = `(0, ${varsToRename[ref.identifier.name].join(\n            '.'\n          )})`;\n        }\n\n        if (\n          Object.prototype.hasOwnProperty.call(\n            trackedExports,\n            ref.identifier.name\n          ) &&\n          ref.isWrite() &&\n          ref.resolved === null &&\n          !ref.init\n        ) {\n          const name = trackedExports[ref.identifier.name];\n          ref.identifier.name = `exports.${name} = ${ref.identifier.name}`;\n        }\n      });\n    });\n    scopeManager.detach();\n  }\n\n  addExportVoids();\n  const finalCode = astring.generate(program as any, {\n    generator: customGenerator,\n  });\n\n  return { code: `\"use strict\";\\n${finalCode}`, ast: program };\n}\n","const lineRegex = /require\\s*\\(['|\"|`]([^\"|'|`]*)['|\"|`]\\)|require\\s*\\((.*)\\)/g;\nconst partRegex = /require\\s*\\(['|\"|`]([^\"|'|`]*)['|\"|`]\\)|require\\s*\\((.*)\\)/;\nconst commentRegex = /^(\\s*\\/?\\*)|(\\/\\/)/;\n\n/**\n * This is the regex version of getting all require statements, it makes the assumption\n * that the file is commonjs and only has `require()` statements.\n */\nexport default function getRequireStatements(code: string) {\n  const results = [];\n  code.split('\\n').forEach(line => {\n    const commentMatch =\n      line.indexOf('/*#__PURE__*/') === -1 && commentRegex.exec(line);\n\n    if (commentMatch && commentMatch.index === 0) {\n      return;\n    }\n\n    if (line.includes('require(\"\".concat')) {\n      throw new Error('Glob require is part of statement');\n    }\n\n    const matches = line.match(lineRegex);\n\n    if (matches) {\n      matches.forEach(codePart => {\n        const match = codePart.match(partRegex);\n\n        if (match) {\n          if (commentMatch && line.indexOf(codePart) > commentMatch.index) {\n            // It's in a comment\n            return;\n          }\n\n          if (match[1]) {\n            if (\n              !results.find(r => r.type === 'direct' && r.path === match[1])\n            ) {\n              results.push({\n                type: 'direct',\n                path: match[1],\n              });\n            }\n          } else if (match[2] && /'|\"|`/.test(match[2])) {\n            if (!results.find(r => r.type === 'glob' && r.path === match[2])) {\n              results.push({\n                type: 'glob',\n                path: match[2],\n              });\n            }\n          }\n        }\n      });\n    }\n  });\n\n  return results;\n}\n","import { walk } from 'estree-walker';\nimport { Program } from 'meriyah/dist/estree';\nimport isESModule from 'sandbox/eval/utils/is-es-module';\nimport { Syntax as n } from './convert-esmodule/syntax';\n\nexport interface SyntaxInfo {\n  jsx: boolean;\n  esm: boolean;\n}\n\nexport function getSyntaxInfoFromAst(program: Program): SyntaxInfo {\n  const syntaxInfo: SyntaxInfo = { jsx: false, esm: false };\n  walk(program, {\n    enter(node) {\n      const esmTypes: string[] = [\n        n.ImportDeclaration,\n        n.ExportAllDeclaration,\n        n.ExportDefaultDeclaration,\n        n.ExportNamedDeclaration,\n        n.ExportSpecifier,\n      ];\n      if (esmTypes.includes(node.type)) {\n        syntaxInfo.esm = true;\n        this.skip();\n      }\n\n      if (node.type === n.JSXElement) {\n        syntaxInfo.jsx = true;\n        this.skip();\n      }\n    },\n  });\n\n  return syntaxInfo;\n}\n\nconst JSXSyntax = /\\n(.*?)<[A-z](.|\\n)*?\\/?>/;\n\nfunction checkComment(match: string[]) {\n  const startOfLine = match[1];\n\n  // If it's in a comment or string, we're extremely aggressive here because\n  // transpiling is absolutely our last resort.\n  if (\n    startOfLine.indexOf('//') > -1 ||\n    startOfLine.indexOf('*') > -1 ||\n    startOfLine.indexOf(\"'\") > -1 ||\n    startOfLine.indexOf('\"') > -1 ||\n    startOfLine.indexOf('`') > -1\n  ) {\n    return false;\n  }\n\n  return true;\n}\n\nexport function getSyntaxInfoFromCode(code: string, path: string): SyntaxInfo {\n  // Use getters so we can evaluate lazily\n  const syntax: SyntaxInfo = {\n    get jsx() {\n      const jsxMatch = code.match(JSXSyntax);\n\n      return jsxMatch && checkComment(jsxMatch);\n    },\n    get esm() {\n      return isESModule(code);\n    },\n  };\n\n  if (path.endsWith('.min.js')) {\n    // This needs no transpiling and often fools our JSX check with <a etc...\n    return {\n      jsx: false,\n      esm: false,\n    };\n  }\n\n  return syntax;\n}\n","/* eslint-enable import/default */\nimport { isBabel7 } from '@codesandbox/common/lib/utils/is-babel-7';\nimport isESModule from 'sandbox/eval/utils/is-es-module';\n/* eslint-disable import/default */\n// @ts-ignore\nimport BabelWorker from 'worker-loader?publicPath=/&name=babel-transpiler.[hash:8].worker.js!./worker/index';\n\nimport delay from '@codesandbox/common/lib/utils/delay';\nimport { endMeasure, measure } from '@codesandbox/common/lib/utils/metrics';\nimport { Program } from 'meriyah/dist/estree';\nimport { LoaderContext, Manager } from 'sandpack-core';\nimport WorkerTranspiler from '../worker-transpiler';\nimport getBabelConfig from './babel-parser';\nimport { convertEsModule } from './convert-esmodule';\nimport regexGetRequireStatements from './worker/simple-get-require-statements';\nimport { getSyntaxInfoFromAst, getSyntaxInfoFromCode } from './syntax-info';\n\nconst global = window as any;\nconst WORKER_COUNT = process.env.SANDPACK ? 1 : 3;\n\n// Right now this is in a worker, but when we're going to allow custom plugins\n// we need to move this out of the worker again, because the config needs\n// to support custom plugins\nclass BabelTranspiler extends WorkerTranspiler {\n  worker: Worker;\n\n  constructor() {\n    super('babel-loader', BabelWorker, WORKER_COUNT, {\n      hasFS: true,\n      preload: true,\n    });\n  }\n\n  startupWorkersInitialized = false;\n\n  async getWorker() {\n    while (typeof global.babelworkers === 'undefined') {\n      await delay(50); // eslint-disable-line\n    }\n\n    if (global.babelworkers.length === 0) {\n      return super.getWorker();\n    }\n\n    // We set these up in startup.js.\n    return global.babelworkers.pop();\n  }\n\n  doTranspilation(\n    code: string,\n    loaderContext: LoaderContext\n  ): Promise<{ transpiledCode: string }> {\n    return new Promise((resolve, reject) => {\n      const { path } = loaderContext;\n      let newCode = code;\n\n      const isNodeModule = path.startsWith('/node_modules');\n\n      /**\n       * We should never transpile babel-standalone, because it relies on code that runs\n       * in non-strict mode. Transpiling this code would add a \"use strict;\" piece, which\n       * would then break the code (because it expects `this` to be global). No transpiler\n       * can fix this, and because of this we need to just specifically ignore this file.\n       */\n      const shouldIgnore = path === '/node_modules/babel-standalone/babel.js';\n\n      if (shouldIgnore) {\n        resolve({ transpiledCode: code });\n        return;\n      }\n\n      let convertedToEsmodule = false;\n      let ast: Program | undefined;\n      if (isESModule(newCode) && isNodeModule) {\n        try {\n          measure(`esconvert-${path}`);\n          const esModuleInfo = convertEsModule(newCode);\n          newCode = esModuleInfo.code;\n          endMeasure(`esconvert-${path}`, { silent: true });\n          ast = esModuleInfo.ast;\n          convertedToEsmodule = true;\n        } catch (e) {\n          console.warn(\n            `Error when converting '${path}' esmodule to commonjs: ${e.message}`\n          );\n        }\n      }\n\n      const syntaxInfo = ast\n        ? getSyntaxInfoFromAst(ast)\n        : getSyntaxInfoFromCode(newCode, path);\n      try {\n        // When we find a node_module that already is commonjs we will just get the\n        // dependencies from the file and return the same code. We get the dependencies\n        // with a regex since commonjs modules just have `require` and regex is MUCH\n        // faster than generating an AST from the code.\n        if (\n          (loaderContext.options.simpleRequire || isNodeModule) &&\n          !syntaxInfo.jsx &&\n          !(!convertedToEsmodule && syntaxInfo.esm)\n        ) {\n          regexGetRequireStatements(newCode).forEach(dependency => {\n            if (dependency.isGlob) {\n              loaderContext.addDependenciesInDirectory(dependency.path);\n            } else {\n              loaderContext.addDependency(dependency.path);\n            }\n          });\n\n          resolve({\n            transpiledCode: newCode,\n          });\n          return;\n        }\n      } catch (e) {\n        console.warn(\n          `Error when reading dependencies of '${path}' using quick method: '${e.message}'`\n        );\n      }\n\n      const configs = loaderContext.options.configurations;\n      const foundConfig = configs.babel && configs.babel.parsed;\n      const loaderOptions = loaderContext.options || {};\n\n      const dependencies =\n        (configs.package &&\n          configs.package.parsed &&\n          configs.package.parsed.dependencies) ||\n        {};\n\n      const devDependencies =\n        (configs.package &&\n          configs.package.parsed &&\n          configs.package.parsed.devDependencies) ||\n        {};\n\n      const isV7 =\n        loaderContext.options.isV7 || isBabel7(dependencies, devDependencies);\n\n      const hasMacros = Object.keys(dependencies).some(\n        d => d.indexOf('macro') > -1 || d.indexOf('codegen') > -1\n      );\n\n      const babelConfig = getBabelConfig(\n        foundConfig || (loaderOptions as any).config,\n        loaderOptions,\n        path,\n        isV7\n      );\n\n      this.queueTask(\n        {\n          code: newCode,\n          config: babelConfig,\n          path,\n          loaderOptions,\n          babelTranspilerOptions:\n            configs &&\n            configs.babelTranspiler &&\n            configs.babelTranspiler.parsed,\n          sandboxOptions: configs && configs.sandbox && configs.sandbox.parsed,\n          version: isV7 ? 7 : 6,\n          hasMacros,\n        },\n        loaderContext._module.getId(),\n        loaderContext,\n        (err, data) => {\n          if (err) {\n            loaderContext.emitError(err);\n\n            return reject(err);\n          }\n\n          return resolve(data);\n        }\n      );\n    });\n  }\n\n  async getTranspilerContext(manager: Manager): Promise<any> {\n    return new Promise(async resolve => {\n      const baseConfig = await super.getTranspilerContext(manager);\n\n      const babelTranspilerOptions =\n        manager.configurations &&\n        manager.configurations.babelTranspiler &&\n        manager.configurations.babelTranspiler.parsed;\n\n      this.queueTask(\n        {\n          type: 'get-babel-context',\n          babelTranspilerOptions,\n        },\n        'babelContext',\n        // @ts-ignore\n        {},\n        (err, data) => {\n          const { version, availablePlugins, availablePresets } = data as any;\n\n          resolve({\n            ...baseConfig,\n            babelVersion: version,\n            availablePlugins,\n            availablePresets,\n            babelTranspilerOptions,\n          });\n        }\n      );\n    });\n  }\n}\n\nconst transpiler = new BabelTranspiler();\n\nexport { BabelTranspiler };\n\nexport default transpiler;\n","import { Transpiler } from 'sandpack-core';\n\nclass JSONTranspiler extends Transpiler {\n  doTranspilation(code: string) {\n    const result = `\n      module.exports = JSON.parse(${JSON.stringify(code || '')})\n    `;\n\n    return Promise.resolve({\n      transpiledCode: result,\n    });\n  }\n}\n\nconst transpiler = new JSONTranspiler('json-loader');\n\nexport { JSONTranspiler };\n\nexport default transpiler;\n","import { Transpiler } from 'sandpack-core';\n\nclass RawTranspiler extends Transpiler {\n  constructor() {\n    super('raw-loader');\n  }\n\n  doTranspilation(code: string) {\n    return Promise.resolve({\n      transpiledCode: `\n      module.exports = ${JSON.stringify(code)};`,\n    });\n  }\n}\n\nconst transpiler = new RawTranspiler();\n\nexport { RawTranspiler };\n\nexport default transpiler;\n","import semver from 'semver';\nimport { getAbsoluteDependencies } from '@codesandbox/common/lib/utils/dependencies';\nimport { Manager } from 'sandpack-core';\nimport { Dependencies } from '@codesandbox/common/lib/templates/template';\n\nfunction isMinimalSemverVersion(version: string, minimalVersion: string) {\n  try {\n    return semver.gte(version, minimalVersion);\n  } catch (e) {\n    // Semver couldn't be parsed, we assume that we're on the bleeding edge now, so true.\n    return true;\n  }\n}\n\nexport async function isMinimalReactDomVersion(\n  version: string,\n  minimalVersion: string\n): Promise<boolean> {\n  return isMinimalAbsoluteVersion('react-dom', version, minimalVersion);\n}\n\nexport async function isMinimalReactVersion(\n  version: string,\n  minimalVersion: string\n): Promise<boolean> {\n  return isMinimalAbsoluteVersion('react', version, minimalVersion);\n}\n\nexport async function isMinimalAbsoluteVersion(\n  name: string,\n  version: string,\n  minimalVersion: string\n): Promise<boolean> {\n  if (version) {\n    const absoluteDependencies = await getAbsoluteDependencies({\n      [name]: version,\n    });\n\n    return (\n      absoluteDependencies[name].startsWith('0.0.0') ||\n      isMinimalSemverVersion(absoluteDependencies[name], minimalVersion)\n    );\n  }\n\n  return false;\n}\n\n/**\n * Decide whether React Refresh hot module reloading strategy is supported by React\n */\nexport async function hasRefresh(\n  dependencies: { name: string; version: string }[]\n) {\n  const hasReactRefresh = dependencies.find(n => n.name === 'react-refresh');\n  if (hasReactRefresh) {\n    const reactDom = dependencies.find(dep => dep.name === 'react-dom');\n\n    if (reactDom) {\n      return isMinimalReactDomVersion(reactDom.version, '16.9.0');\n    }\n  }\n\n  return false;\n}\n\nexport async function supportsNewReactTransform(\n  dependencies: Dependencies = {},\n  devDependencies: Dependencies = {}\n): Promise<boolean> {\n  const reactScripts =\n    dependencies['react-scripts'] || devDependencies['react-scripts'];\n  const react = dependencies.react || devDependencies.react;\n\n  if (reactScripts && react) {\n    const [isReact, isReactScripts] = await Promise.all([\n      isMinimalReactVersion(react, '17.0.0'),\n      isMinimalAbsoluteVersion('react-scripts', reactScripts, '4.0.0'),\n    ]);\n    return isReact && isReactScripts;\n  }\n\n  return false;\n}\n\n/**\n * We unmount the component tree to ensure that `componentWillUnmount` et all are called\n */\nexport function cleanUsingUnmount(manager: Manager) {\n  try {\n    const { children } = document.body;\n    // Do unmounting for react\n    if (\n      manager.manifest &&\n      manager.manifest.dependencies.find(n => n.name === 'react-dom')\n    ) {\n      const reactDOMModule = manager.resolveModule('react-dom', '');\n      const reactDOM = manager.evaluateModule(reactDOMModule);\n\n      reactDOM.unmountComponentAtNode(document.body);\n\n      for (let i = 0; i < children.length; i += 1) {\n        if (children[i].tagName === 'DIV') {\n          reactDOM.unmountComponentAtNode(children[i]);\n        }\n      }\n    }\n  } catch (e) {\n    /* don't do anything with this error */\n\n    if (process.env.NODE_ENV === 'development') {\n      console.error('Problem while cleaning up');\n      console.error(e);\n    }\n  }\n}\n\nexport const aliases = {\n  // Directly match react-native to react-native-web.\n  // Attempt to use react-native internals shouldn't work on web.\n  'react-native$': 'react-native-web',\n  // Alias core react-native internals to react-native-web equivalents\n  'react-native/Libraries/EventEmitter/RCTDeviceEventEmitter$':\n    'react-native-web/dist/vendor/react-native/NativeEventEmitter/RCTDeviceEventEmitter',\n  'react-native/Libraries/vendor/emitter/EventEmitter$':\n    'react-native-web/dist/vendor/react-native/emitter/EventEmitter',\n  'react-native/Libraries/vendor/emitter/EventSubscriptionVendor$':\n    'react-native-web/dist/vendor/react-native/emitter/EventSubscriptionVendor',\n  'react-native/Libraries/EventEmitter/NativeEventEmitter$':\n    'react-native-web/dist/vendor/react-native/NativeEventEmitter',\n  // Alias core react-native asset management internals to unimodule equivalents.\n  'react-native/Libraries/Image/AssetSourceResolver$':\n    'expo-asset/build/AssetSourceResolver',\n  'react-native/Libraries/Image/assetPathUtils$':\n    'expo-asset/build/Image/assetPathUtils',\n  'react-native/Libraries/Image/resolveAssetSource$':\n    'expo-asset/build/resolveAssetSource',\n};\n","import { Preset } from 'sandpack-core';\n\nimport stylesTranspiler from '../../transpilers/style';\nimport babelTranspiler from '../../transpilers/babel';\nimport jsonTranspiler from '../../transpilers/json';\nimport rawTranspiler from '../../transpilers/raw';\nimport { aliases, cleanUsingUnmount } from './utils';\n\nexport default function initialize() {\n  const preset = new Preset(\n    'create-react-app',\n    ['web.js', 'js', 'json', 'web.jsx', 'jsx', 'ts', 'tsx', 'mjs'],\n    aliases,\n    {\n      hasDotEnv: true,\n      preEvaluate: async manager => {\n        if (!manager.webpackHMR) {\n          cleanUsingUnmount(manager);\n        }\n      },\n    }\n  );\n\n  preset.registerTranspiler(module => /\\.css$/.test(module.path), [\n    { transpiler: stylesTranspiler },\n  ]);\n\n  preset.registerTranspiler(module => /\\.m?jsx?$/.test(module.path), [\n    {\n      transpiler: babelTranspiler,\n      options: {\n        config: {\n          presets: ['es2015', 'react', 'stage-0'],\n          plugins: [\n            'transform-async-to-generator',\n            'transform-object-rest-spread',\n            'transform-decorators-legacy',\n            'transform-class-properties',\n            // Polyfills the runtime needed for async/await and generators\n            [\n              'transform-runtime',\n              {\n                helpers: false,\n                polyfill: false,\n                regenerator: true,\n              },\n            ],\n            [\n              'transform-regenerator',\n              {\n                // Async functions are converted to generators by babel-preset-env\n                async: false,\n              },\n            ],\n          ],\n        },\n      },\n    },\n  ]);\n\n  preset.registerTranspiler(module => /\\.json$/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n\n  preset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n\n  return preset;\n}\n","import { Module } from 'sandpack-core/lib/types/module';\n\nexport function getModuleHTTPPath(module: Module, sandboxId: string | null) {\n  if (!sandboxId) {\n    return module.path;\n  }\n\n  return `https://codesandbox.io/api/v1/sandboxes/${sandboxId}/fs${module.path}`;\n}\n","import { LoaderContext, Transpiler } from 'sandpack-core';\nimport { getModuleHTTPPath } from '../utils/binary';\n\nclass SVGRTranspiler extends Transpiler {\n  async doTranspilation(code: string, loaderContext: LoaderContext) {\n    const { svgrTransform } = await import('./transpiler');\n    // We follow CRA behaviour, so the code with the component is not the default\n    // export, this forces that.\n\n    const codeIsHttp = loaderContext._module.module.code.startsWith('http');\n    const sandboxId = loaderContext.sandboxId;\n    const state = {\n      webpack: {\n        previousExport: `\"${\n          codeIsHttp\n            ? loaderContext._module.module.code\n            : getModuleHTTPPath(loaderContext._module.module, sandboxId)\n        }\"`,\n      },\n    };\n\n    let downloadedCode = code;\n\n    if (codeIsHttp) {\n      await fetch(code)\n        .then(res => res.text())\n        .then(r => {\n          downloadedCode = r;\n        });\n    }\n\n    const result = await svgrTransform(downloadedCode, state);\n\n    return {\n      transpiledCode: result,\n    };\n  }\n}\n\nconst transpiler = new SVGRTranspiler('svgr-loader');\n\nexport { SVGRTranspiler };\n\nexport default transpiler;\n","// @ts-ignore\nimport SassWorker from 'worker-loader?publicPath=/&name=sass-transpiler.[hash:8].worker.js!./worker';\n\nimport { LoaderContext, TranspilerResult } from 'sandpack-core';\nimport WorkerTranspiler from '../worker-transpiler';\n\nclass SassTranspiler extends WorkerTranspiler {\n  worker: Worker;\n\n  constructor() {\n    super('sass-loader', SassWorker, 1, { hasFS: true });\n\n    this.cacheable = false;\n  }\n\n  doTranspilation(\n    code: string,\n    loaderContext: LoaderContext\n  ): Promise<TranspilerResult> {\n    if (!code) {\n      return Promise.resolve({ transpiledCode: '' });\n    }\n\n    const indentedSyntax =\n      loaderContext.options.indentedSyntax == null\n        ? loaderContext.path.endsWith('.sass')\n        : true;\n\n    return new Promise((resolve, reject) => {\n      if (code === '' || code == null) {\n        resolve({ transpiledCode: '' });\n        return;\n      }\n\n      this.queueTask(\n        {\n          code,\n          path: loaderContext.path,\n          indentedSyntax,\n        },\n        loaderContext._module.getId(),\n        loaderContext,\n        (err, data) => {\n          if (err) {\n            loaderContext.emitError(err);\n\n            return reject(err);\n          }\n\n          return resolve(data);\n        }\n      );\n    });\n  }\n}\n\nconst transpiler = new SassTranspiler();\n\nexport { SassTranspiler };\n\nexport default transpiler;\n","import { LoaderContext, Transpiler } from 'sandpack-core';\n\nconst HELPER_PATH = '/node_modules/csbbust/refresh-helper.js';\n\nconst HELPER_CODE = `\nconst Refresh = require('react-refresh/runtime');\n\nfunction debounce(func, wait, immediate) {\n\tvar timeout;\n\treturn function() {\n\t\tvar context = this, args = arguments;\n\t\tvar later = function() {\n\t\t\ttimeout = null;\n\t\t\tif (!immediate) func.apply(context, args);\n\t\t};\n\t\tvar callNow = immediate && !timeout;\n\t\tclearTimeout(timeout);\n\t\ttimeout = setTimeout(later, wait);\n\t\tif (callNow) func.apply(context, args);\n\t};\n};\n\nconst enqueueUpdate = () => {\n  try {\n    Refresh.performReactRefresh()\n  } catch (e) {\n    module.hot.decline();\n    throw e;\n  }\n}\n\nfunction isReactRefreshBoundary(moduleExports) {\n  if (Object.keys(Refresh).length === 0) {\n    return false;\n  }\n\n  if (Refresh.isLikelyComponentType(moduleExports)) {\n    return true;\n  }\n  if (moduleExports == null || typeof moduleExports !== 'object') {\n    // Exit if we can't iterate over exports.\n    return false;\n  }\n  let hasExports = false;\n  let areAllExportsComponents = true;\n  for (const key in moduleExports) {\n    hasExports = true;\n    if (key === '__esModule') {\n      continue;\n    }\n    const desc = Object.getOwnPropertyDescriptor(moduleExports, key);\n    if (desc && desc.get) {\n      // Don't invoke getters as they may have side effects.\n      return false;\n    }\n    const exportValue = moduleExports[key];\n    if (!Refresh.isLikelyComponentType(exportValue)) {\n      areAllExportsComponents = false;\n    }\n  }\n  return hasExports && areAllExportsComponents;\n};\n\n// When this signature changes, it's unsafe to stop at this refresh boundary.\nfunction getRefreshBoundarySignature(moduleExports) {\n  const signature = [];\n  signature.push(Refresh.getFamilyByType(moduleExports));\n  if (moduleExports == null || typeof moduleExports !== 'object') {\n    // Exit if we can't iterate over exports.\n    // (This is important for legacy environments.)\n    return signature;\n  }\n  for (const key in moduleExports) {\n    if (key === '__esModule') {\n      continue;\n    }\n    const desc = Object.getOwnPropertyDescriptor(moduleExports, key);\n    if (desc && desc.get) {\n      continue;\n    }\n    const exportValue = moduleExports[key];\n    signature.push(key);\n    signature.push(Refresh.getFamilyByType(exportValue));\n  }\n  return signature;\n};\n\nfunction shouldInvalidateReactRefreshBoundary(\n  prevExports,\n  nextExports,\n) {\n  const prevSignature = getRefreshBoundarySignature(prevExports);\n  const nextSignature = getRefreshBoundarySignature(nextExports);\n  if (prevSignature.length !== nextSignature.length) {\n    return true;\n  }\n  for (let i = 0; i < nextSignature.length; i++) {\n    if (prevSignature[i] !== nextSignature[i]) {\n      return true;\n    }\n  }\n  return false;\n};\n\nvar registerExportsForReactRefresh = (moduleExports, moduleID) => {\n  Refresh.register(moduleExports, moduleID + ' %exports%');\n  if (moduleExports == null || typeof moduleExports !== 'object') {\n    // Exit if we can't iterate over exports.\n    // (This is important for legacy environments.)\n    return;\n  }\n  for (const key in moduleExports) {\n    const desc = Object.getOwnPropertyDescriptor(moduleExports, key);\n    if (desc && desc.get) {\n      // Don't invoke getters as they may have side effects.\n      continue;\n    }\n    const exportValue = moduleExports[key];\n    const typeID = moduleID + ' %exports% ' + key;\n    Refresh.register(exportValue, typeID);\n  }\n};\n\nmodule.exports = {\n  enqueueUpdate: debounce(enqueueUpdate, 30),\n  isReactRefreshBoundary,\n  registerExportsForReactRefresh,\n  shouldInvalidateReactRefreshBoundary\n};\n`.trim();\n\n// const getWrapperCode = (sourceCode: string) =>\n//   `\n// var prevRefreshReg = window.$RefreshReg$;\n// var prevRefreshSig = window.$RefreshSig$;\n// var RefreshRuntime = require('react-refresh/runtime');\n\n// window.$RefreshReg$ = (type, id) => {\n//   // Note module.id is webpack-specific, this may vary in other bundlers\n//   const fullId = module.id + ' ' + id;\n//   RefreshRuntime.register(type, fullId);\n// }\n// window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;\n\n// try {\n//   ${sourceCode}\n// } finally {\n//   window.$RefreshReg$ = prevRefreshReg;\n//   window.$RefreshSig$ = prevRefreshSig;\n// }\n\n// const _csbRefreshUtils = require('${HELPER_PATH}');\n\n// const isHotUpdate = !!module.hot.data;\n// const prevExports = isHotUpdate ? module.hot.data.prevExports : null;\n// if (_csbRefreshUtils.isReactRefreshBoundary) {\n//   if (_csbRefreshUtils.isReactRefreshBoundary(module.exports)) {\n//     _csbRefreshUtils.registerExportsForReactRefresh(module.exports, module.id)\n//     const currentExports = { ...module.exports };\n\n//     module.hot.dispose(function hotDisposeCallback(data) {\n//       data.prevExports = currentExports;\n//     });\n\n//     if (isHotUpdate && _csbRefreshUtils.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n//       module.hot.invalidate();\n//     } else {\n//       module.hot.accept();\n//     }\n\n//     _csbRefreshUtils.enqueueUpdate();\n//   } else if (isHotUpdate && _csbRefreshUtils.isReactRefreshBoundary(prevExports)) {\n//     module.hot.invalidate();\n//   }\n// }\n// `;\n\n/**\n * This is the compressed version of the code in the comment above. We compress the code\n * to a single line so we don't mess with the source mapping when showing errors.\n */\nconst getWrapperCode = (sourceCode: string) =>\n  `var prevRefreshReg=window.$RefreshReg$,prevRefreshSig=window.$RefreshSig$,RefreshRuntime=require(\"react-refresh/runtime\");window.$RefreshReg$=(e,r)=>{const s=module.id+\" \"+r;RefreshRuntime.register(e,s)},window.$RefreshSig$=RefreshRuntime.createSignatureFunctionForTransform;try{${sourceCode}\n}finally{window.$RefreshReg$=prevRefreshReg,window.$RefreshSig$=prevRefreshSig}const _csbRefreshUtils=require(\"${HELPER_PATH}\"),isHotUpdate=!!module.hot.data,prevExports=isHotUpdate?module.hot.data.prevExports:null;if(_csbRefreshUtils.isReactRefreshBoundary)if(_csbRefreshUtils.isReactRefreshBoundary(module.exports)){_csbRefreshUtils.registerExportsForReactRefresh(module.exports,module.id);const e={...module.exports};module.hot.dispose((function(r){r.prevExports=e})),isHotUpdate&&_csbRefreshUtils.shouldInvalidateReactRefreshBoundary(prevExports,e)?module.hot.invalidate():module.hot.accept(),_csbRefreshUtils.enqueueUpdate()}else isHotUpdate&&_csbRefreshUtils.isReactRefreshBoundary(prevExports)&&module.hot.invalidate();`;\n\nclass RefreshTranspiler extends Transpiler {\n  constructor() {\n    super('refresh-loader');\n  }\n\n  doTranspilation(code: string, loaderContext: LoaderContext) {\n    loaderContext.addDependency('react-refresh/runtime');\n    loaderContext.emitModule(HELPER_PATH, HELPER_CODE, '/', false, false);\n\n    const newCode = getWrapperCode(code);\n\n    return Promise.resolve({\n      transpiledCode: newCode || '',\n    });\n  }\n}\n\nconst transpiler = new RefreshTranspiler();\n\nexport { RefreshTranspiler };\n\nexport default transpiler;\n","import { LoaderContext, Transpiler } from 'sandpack-core';\n\n/**\n * Mainly responsible for inlining css imports\n */\nclass PostCSSCompiler extends Transpiler {\n  constructor() {\n    super('postcss-compiler');\n  }\n\n  doTranspilation(code: string, loaderContext: LoaderContext) {\n    return import(\n      /* webpackChunkName: 'postcss-compiler' */ './loader'\n    ).then(loader => loader.default(code, loaderContext));\n  }\n}\n\nconst transpiler = new PostCSSCompiler();\n\nexport { PostCSSCompiler };\n\nexport default transpiler;\n","import { dispatch } from 'codesandbox-api';\n\nexport async function initializeReactDevTools() {\n  if (!window.opener) {\n    const { initialize: initializeDevTools, activate } = await import(\n      /* webpackChunkName: 'react-devtools-backend' */ 'react-devtools-inline/backend'\n    );\n    // The dispatch needs to happen before initializing, so that the backend can already listen\n    dispatch({ type: 'activate-react-devtools' });\n\n    // @ts-ignore\n    if (typeof window.__REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined') {\n      try {\n        // @ts-ignore We need to make sure that the existing chrome extension doesn't interfere\n        delete window.__REACT_DEVTOOLS_GLOBAL_HOOK__;\n      } catch (e) {\n        /* ignore */\n      }\n    }\n    // Call this before importing React (or any other packages that might import React).\n    initializeDevTools(window);\n    activate(window);\n  }\n}\n","import { Manager } from 'sandpack-core';\n\n/**\n * When using React Refresh we need to evaluate some code before 'react-dom' is initialized\n * (https://github.com/facebook/react/issues/16604#issuecomment-528663101) this is the code.\n */\nexport async function createRefreshEntry(manager: Manager) {\n  const entryModule = {\n    path: '/node_modules/__csb/react-dom-entrypoint.js',\n    code: `if (process.env.NODE_ENV !== 'production' && typeof window !== 'undefined') {\nconst runtime = require('react-refresh/runtime');\nruntime.injectIntoGlobalHook(window);\nwindow.$RefreshReg$ = () => {};\nwindow.$RefreshSig$ = () => type => type;\n}\n`,\n  };\n  manager.addModule(entryModule);\n\n  const tEntryModule = manager.getTranspiledModule(entryModule);\n  tEntryModule.setIsEntry(true);\n\n  await tEntryModule\n    .transpile(manager)\n    .then(() => tEntryModule.evaluate(manager, { force: true }));\n}\n","import { Preset } from 'sandpack-core';\nimport _debug from '@codesandbox/common/lib/utils/debug';\nimport stylesTranspiler from '../../../transpilers/style';\nimport babelTranspiler from '../../../transpilers/babel';\nimport jsonTranspiler from '../../../transpilers/json';\nimport rawTranspiler from '../../../transpilers/raw';\nimport svgrTranspiler from '../../../transpilers/svgr';\nimport sassTranspiler from '../../../transpilers/sass';\nimport refreshTranspiler from '../../../transpilers/react/refresh-transpiler';\nimport styleProcessor from '../../../transpilers/postcss';\nimport {\n  hasRefresh,\n  aliases,\n  cleanUsingUnmount,\n  isMinimalReactDomVersion,\n} from '../utils';\nimport { initializeReactDevTools } from './initDevTools';\nimport { createRefreshEntry } from './createRefreshEntry';\n\nexport const reactPreset = babelConfig => {\n  const debug = _debug('cs:compiler:cra');\n  let initialized = false;\n  let refreshInitialized = false;\n\n  const preset = new Preset(\n    'create-react-app',\n    [\n      'web.mjs',\n      'mjs',\n      'web.js',\n      'js',\n      'web.ts',\n      'ts',\n      'web.tsx',\n      'tsx',\n      'json',\n      'web.jsx',\n      'jsx',\n    ],\n    aliases,\n    {\n      hasDotEnv: true,\n      processDependencies: async dependencies => {\n        if (\n          dependencies['react-dom'] &&\n          isMinimalReactDomVersion(dependencies['react-dom'], '16.9.0')\n        ) {\n          return { ...dependencies, 'react-refresh': '0.9.0' };\n        }\n\n        return dependencies;\n      },\n      setup: async manager => {\n        const dependencies = manager.manifest.dependencies;\n        const isRefresh = await hasRefresh(dependencies);\n\n        if (!initialized || refreshInitialized !== isRefresh) {\n          initialized = true;\n          refreshInitialized = isRefresh;\n          preset.resetTranspilers();\n\n          if (isRefresh) {\n            debug('Refresh is enabled, registering additional transpiler');\n            // Add react refresh babel plugin for non-node_modules\n\n            preset.registerTranspiler(\n              module =>\n                !module.path.startsWith('/node_modules') &&\n                /\\.m?(t|j)sx?$/.test(module.path) &&\n                !module.path.endsWith('.d.ts'),\n              [\n                {\n                  transpiler: babelTranspiler,\n                  options: {\n                    ...babelConfig,\n                    config: {\n                      ...babelConfig.config,\n                      plugins: [\n                        ...babelConfig.config.plugins,\n                        'react-refresh/babel',\n                      ],\n                    },\n                  },\n                },\n                { transpiler: refreshTranspiler },\n              ]\n            );\n          } else {\n            debug('Refresh is disabled');\n          }\n\n          preset.registerTranspiler(\n            module =>\n              /\\.m?(t|j)sx?$/.test(module.path) &&\n              !module.path.endsWith('.d.ts'),\n            [{ transpiler: babelTranspiler, options: babelConfig }]\n          );\n\n          preset.registerTranspiler(module => /\\.svg$/.test(module.path), [\n            { transpiler: svgrTranspiler },\n            { transpiler: babelTranspiler, options: babelConfig },\n          ]);\n\n          preset.registerTranspiler(\n            module => /\\.module\\.s[c|a]ss$/.test(module.path),\n            [\n              { transpiler: sassTranspiler },\n              { transpiler: styleProcessor },\n              {\n                transpiler: stylesTranspiler,\n                options: { module: true, hmrEnabled: isRefresh },\n              },\n            ]\n          );\n          preset.registerTranspiler(\n            module => /\\.module\\.css$/.test(module.path),\n            [\n              { transpiler: styleProcessor },\n              {\n                transpiler: stylesTranspiler,\n                options: { module: true, hmrEnabled: isRefresh },\n              },\n            ]\n          );\n\n          preset.registerTranspiler(module => /\\.css$/.test(module.path), [\n            { transpiler: styleProcessor },\n            {\n              transpiler: stylesTranspiler,\n              options: { hmrEnabled: isRefresh },\n            },\n          ]);\n          preset.registerTranspiler(module => /\\.s[c|a]ss$/.test(module.path), [\n            { transpiler: sassTranspiler },\n            { transpiler: styleProcessor },\n            {\n              transpiler: stylesTranspiler,\n              options: { hmrEnabled: isRefresh },\n            },\n          ]);\n\n          preset.registerTranspiler(module => /\\.json$/.test(module.path), [\n            { transpiler: jsonTranspiler },\n          ]);\n\n          preset.registerTranspiler(() => true, [\n            { transpiler: rawTranspiler },\n          ]);\n        }\n      },\n      preEvaluate: async manager => {\n        if (manager.isFirstLoad) {\n          await initializeReactDevTools();\n        }\n\n        if (await hasRefresh(manager.manifest.dependencies)) {\n          await createRefreshEntry(manager);\n        }\n\n        const reactDom = manager.manifest.dependencies.find(\n          n => n.name === 'react-dom'\n        );\n        if (\n          reactDom &&\n          !manager.webpackHMR &&\n          !(await isMinimalReactDomVersion(reactDom.version, '16.8.0'))\n        ) {\n          cleanUsingUnmount(manager);\n        }\n      },\n    }\n  );\n\n  return preset;\n};\n","import { reactPreset } from './utils/reactPreset';\n\nconst BABEL7_CONFIG = {\n  isV7: true,\n  compileNodeModulesWithEnv: true,\n  config: {\n    plugins: [\n      ['proposal-decorators', { legacy: true }],\n      '@babel/plugin-transform-react-jsx-source',\n      'transform-flow-strip-types',\n      'transform-destructuring',\n      'babel-plugin-macros',\n      ['proposal-class-properties', { loose: true }],\n      ['proposal-object-rest-spread', { useBuiltIns: true }],\n      [\n        'transform-runtime',\n        {\n          corejs: false,\n          helpers: true,\n          regenerator: true,\n        },\n      ],\n      '@babel/plugin-proposal-optional-chaining',\n      '@babel/plugin-proposal-nullish-coalescing-operator',\n      'syntax-dynamic-import',\n    ],\n    presets: [\n      [\n        'env',\n        {\n          // We want Create React App to be IE 9 compatible until React itself\n          // no longer works with IE 9\n          targets: {\n            ie: 9,\n          },\n          // Users cannot override this behavior because this Babel\n          // configuration is highly tuned for ES5 support\n          ignoreBrowserslistConfig: true,\n          // If users import all core-js they're probably not concerned with\n          // bundle size. We shouldn't rely on magic to try and shrink it.\n          useBuiltIns: false,\n          // Do not transform modules to CJS\n          modules: false,\n        },\n      ],\n      'react',\n      'typescript',\n    ],\n  },\n};\n\nexport default function initialize() {\n  const preset = reactPreset(BABEL7_CONFIG);\n\n  return preset;\n}\n","import { reactPreset } from './utils/reactPreset';\n\nconst BABEL7_CONFIG = {\n  isV7: true,\n  compileNodeModulesWithEnv: true,\n  config: {\n    plugins: [\n      ['proposal-decorators', { legacy: true }],\n      '@babel/plugin-transform-react-jsx-source',\n      'transform-flow-strip-types',\n      'transform-destructuring',\n      'babel-plugin-macros',\n      ['proposal-class-properties', { loose: true }],\n      ['proposal-object-rest-spread', { useBuiltIns: true }],\n      [\n        'transform-runtime',\n        {\n          corejs: false,\n          helpers: true,\n          regenerator: true,\n        },\n      ],\n      '@babel/plugin-proposal-optional-chaining',\n      '@babel/plugin-proposal-nullish-coalescing-operator',\n      'syntax-dynamic-import',\n    ],\n    presets: [\n      [\n        'env',\n        {\n          // We want Create React App to be IE 9 compatible until React itself\n          // no longer works with IE 9\n          targets: {\n            ie: 9,\n          },\n          // Users cannot override this behavior because this Babel\n          // configuration is highly tuned for ES5 support\n          ignoreBrowserslistConfig: true,\n          // If users import all core-js they're probably not concerned with\n          // bundle size. We shouldn't rely on magic to try and shrink it.\n          useBuiltIns: false,\n          // Do not transform modules to CJS\n          modules: false,\n        },\n      ],\n      [\n        'react',\n        {\n          runtime: 'automatic',\n        },\n      ],\n      'typescript',\n    ],\n  },\n};\n\nexport default function initialize() {\n  const preset = reactPreset(BABEL7_CONFIG);\n\n  return preset;\n}\n","import { Preset } from 'sandpack-core';\n\nimport stylesTranspiler from '../../transpilers/style';\nimport jsonTranspiler from '../../transpilers/json';\nimport rawTranspiler from '../../transpilers/raw';\nimport babelTranspiler from '../../transpilers/babel';\n\nexport default function initialize() {\n  const preset = new Preset('create-react-app-typescript', [\n    'web.ts',\n    'ts',\n    'json',\n    'web.tsx',\n    'tsx',\n    'js',\n    'mjs',\n  ]);\n\n  preset.registerTranspiler(module => /\\.css$/.test(module.path), [\n    { transpiler: stylesTranspiler },\n  ]);\n\n  const babelOptions = {\n    isV7: true,\n    compileNodeModulesWithEnv: true,\n    config: {\n      plugins: [\n        'transform-flow-strip-types',\n        'transform-destructuring',\n        'babel-plugin-macros',\n        ['proposal-decorators', { legacy: true }],\n        ['proposal-class-properties', { loose: true }],\n        ['proposal-object-rest-spread', { useBuiltIns: true }],\n        [\n          'transform-runtime',\n          {\n            corejs: false,\n            helpers: true,\n            regenerator: true,\n          },\n        ],\n        'syntax-dynamic-import',\n      ],\n      presets: [\n        [\n          'env',\n          {\n            // We want Create React App to be IE 9 compatible until React itself\n            // no longer works with IE 9\n            targets: {\n              ie: 9,\n            },\n            // Users cannot override this behavior because this Babel\n            // configuration is highly tuned for ES5 support\n            ignoreBrowserslistConfig: true,\n            // If users import all core-js they're probably not concerned with\n            // bundle size. We shouldn't rely on magic to try and shrink it.\n            useBuiltIns: false,\n            // Do not transform modules to CJS\n            modules: false,\n          },\n        ],\n        'react',\n        'typescript',\n      ],\n    },\n  };\n  preset.registerTranspiler(\n    module =>\n      /\\.m?(t|j)sx?$/.test(module.path) && !module.path.endsWith('.d.ts'),\n    [\n      {\n        transpiler: babelTranspiler,\n        options: babelOptions,\n      },\n    ],\n    true\n  );\n\n  preset.registerTranspiler(module => /\\.json$/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n\n  preset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n\n  return preset;\n}\n","/* eslint-disable import/default */\n// @ts-ignore\nimport TypeScriptWorker from 'worker-loader?publicPath=/&name=typescript-transpiler.[hash:8].worker.js!./typescript-worker';\n/* eslint-enable import/default */\nimport { getDependenciesFromConfig } from 'sandbox/eval/utils/get-dependencies';\nimport { LoaderContext, TranspilerResult } from 'sandpack-core';\n\nimport WorkerTranspiler from '../worker-transpiler';\n\nclass TypeScriptTranspiler extends WorkerTranspiler {\n  worker: Worker;\n\n  constructor() {\n    super('ts-loader', TypeScriptWorker, 3);\n  }\n\n  doTranspilation(\n    code: string,\n    loaderContext: LoaderContext\n  ): Promise<TranspilerResult> {\n    return new Promise((resolve, reject) => {\n      const { path } = loaderContext;\n\n      let foundConfig = null;\n      let typescriptVersion = '3.4.1';\n      if (\n        loaderContext.options.configurations &&\n        loaderContext.options.configurations.typescript &&\n        loaderContext.options.configurations.typescript.parsed\n      ) {\n        foundConfig = loaderContext.options.configurations.typescript.parsed;\n      }\n\n      const dependencies = getDependenciesFromConfig(\n        loaderContext.options.configurations\n      );\n      if (dependencies && dependencies.typescript) {\n        typescriptVersion = dependencies.typescript;\n      }\n\n      this.queueTask(\n        {\n          code,\n          path,\n          config: foundConfig,\n          typescriptVersion,\n        },\n        loaderContext._module.getId(),\n        loaderContext,\n        (err, data) => {\n          if (err) {\n            loaderContext.emitError(err);\n\n            return reject(err);\n          }\n\n          return resolve(data);\n        }\n      );\n    });\n  }\n}\n\nconst transpiler = new TypeScriptTranspiler();\n\nexport { TypeScriptTranspiler };\n\nexport default transpiler;\n","import { ParsedConfigurationFiles } from '@codesandbox/common/lib/templates/template';\n\nexport function getDependenciesFromConfig(\n  configurations: ParsedConfigurationFiles\n) {\n  if (\n    configurations &&\n    configurations.package &&\n    configurations.package.parsed\n  ) {\n    return {\n      ...configurations.package.parsed.devDependencies,\n      ...configurations.package.parsed.dependencies,\n    };\n  }\n\n  return {};\n}\n","/* eslint-disable import/default */\n/* eslint-disable import/no-named-as-default-member */\n/* eslint-disable import/no-named-as-default */\n// @ts-ignore\nimport StylusWorker from 'worker-loader?publicPath=/&name=stylus-transpiler.[hash:8].worker.js!./stylus-worker';\n/* eslint-enable import/default */\nimport { LoaderContext, TranspilerResult } from 'sandpack-core';\n\nimport WorkerTranspiler from '../worker-transpiler';\n\nclass StylusTranspiler extends WorkerTranspiler {\n  worker: Worker;\n\n  constructor() {\n    super('stylus-loader', StylusWorker, 1);\n\n    this.cacheable = false;\n  }\n\n  doTranspilation(\n    code: string,\n    loaderContext: LoaderContext\n  ): Promise<TranspilerResult> {\n    return new Promise((resolve, reject) => {\n      const { path } = loaderContext;\n\n      this.queueTask(\n        {\n          code,\n          path,\n        },\n        loaderContext._module.getId(),\n        loaderContext,\n        (err, data) => {\n          if (err) {\n            loaderContext.emitError(err);\n\n            return reject(err);\n          }\n\n          return resolve(data);\n        }\n      );\n    });\n  }\n}\n\nconst transpiler = new StylusTranspiler();\n\nexport { StylusTranspiler };\n\nexport default transpiler;\n","/* eslint-disable import/default */\n// @ts-ignore\nimport LessWorker from 'worker-loader?publicPath=/&name=less-transpiler.[hash:8].worker.js!./less-worker';\n/* eslint-enable import/default */\n\nimport { LoaderContext, TranspilerResult } from 'sandpack-core';\nimport WorkerTranspiler from '../worker-transpiler';\n\nclass LessTranspiler extends WorkerTranspiler {\n  worker: Worker;\n\n  constructor() {\n    super('less-loader', LessWorker, 1);\n\n    this.cacheable = false;\n  }\n\n  doTranspilation(\n    code: string,\n    loaderContext: LoaderContext\n  ): Promise<TranspilerResult> {\n    return new Promise((resolve, reject) => {\n      const modules = loaderContext.getModules();\n\n      const lessModules = modules.filter(m => /\\.[css|less]$/.test(m.path));\n      const files = lessModules.reduce(\n        (interMediateFiles, module) => ({\n          ...interMediateFiles,\n          [module.path]: module.code,\n        }),\n        {}\n      );\n\n      const { path } = loaderContext;\n      files[path] = code;\n\n      this.queueTask(\n        {\n          code,\n          files,\n          path,\n        },\n        loaderContext._module.getId(),\n        loaderContext,\n        (err, data) => {\n          if (err) {\n            loaderContext.emitError(err);\n\n            return reject(err);\n          }\n\n          return resolve(data);\n        }\n      );\n    });\n  }\n}\n\nconst transpiler = new LessTranspiler();\n\nexport { LessTranspiler };\n\nexport default transpiler;\n","import { Transpiler } from 'sandpack-core';\n\nclass NoopTranspiler extends Transpiler {\n  constructor() {\n    super('noop-loader');\n  }\n\n  doTranspilation(code: string) {\n    return Promise.resolve({\n      transpiledCode: code || '',\n    });\n  }\n}\n\nconst transpiler = new NoopTranspiler();\n\nexport { NoopTranspiler };\n\nexport default transpiler;\n","import { LoaderContext, Transpiler, TranspilerResult } from 'sandpack-core';\n\n/**\n * Just fetches a file from the interwebs and converts it to a blob\n *\n * @class BinaryTranspiler\n * @extends {Transpiler}\n */\nclass BinaryTranspiler extends Transpiler {\n  constructor() {\n    super('binary-loader');\n  }\n\n  doTranspilation(\n    code: string,\n    loaderContext: LoaderContext\n  ): Promise<TranspilerResult> {\n    return fetch(code)\n      .then(res => res.blob())\n      .then(blob => ({ transpiledCode: blob }));\n  }\n}\n\nconst transpiler = new BinaryTranspiler();\n\nexport { BinaryTranspiler };\n\nexport default transpiler;\n","import { LoaderContext } from 'sandpack-core/lib/transpiled-module';\nimport { Transpiler } from 'sandpack-core/lib/transpiler';\n\n// This is the most advanced compiler, I wanted to get it working in sync first,\n// but will eventually move to async.\n\nclass VueTranspiler extends Transpiler {\n  constructor() {\n    super('vue-loader');\n  }\n\n  doTranspilation(code: string, loaderContext: LoaderContext) {\n    return import(/* webpackChunkName: 'vue-loader' */ './loader').then(\n      loader => {\n        const transpiledCode = loader.default(code, loaderContext);\n\n        return Promise.resolve({ transpiledCode });\n      }\n    );\n  }\n}\n\nconst transpiler = new VueTranspiler();\n\nexport { VueTranspiler };\n\nexport default transpiler;\n","import { LoaderContext, Transpiler } from 'sandpack-core';\n\nclass VueTemplateTranspiler extends Transpiler {\n  constructor() {\n    super('vue-template-compiler');\n  }\n\n  doTranspilation(code: string, loaderContext: LoaderContext) {\n    return import(\n      /* webpackChunkName: 'vue-template-compiler' */ './loader'\n    ).then(loader => {\n      const transpiledCode = loader.default(code, loaderContext);\n\n      return Promise.resolve({ transpiledCode });\n    });\n  }\n}\n\nconst transpiler = new VueTemplateTranspiler();\n\nexport { VueTemplateTranspiler };\n\nexport default transpiler;\n","import { LoaderContext, Transpiler } from 'sandpack-core';\n\nclass VueStyleCompiler extends Transpiler {\n  constructor() {\n    super('vue-style-compiler');\n  }\n\n  doTranspilation(code: string, loaderContext: LoaderContext) {\n    return import(\n      /* webpackChunkName: 'vue-style-compiler' */ './loader'\n    ).then(loader => loader.default(code, loaderContext));\n  }\n}\n\nconst transpiler = new VueStyleCompiler();\n\nexport { VueStyleCompiler };\n\nexport default transpiler;\n","import { LoaderContext } from 'sandpack-core/lib/transpiled-module';\nimport { Transpiler } from 'sandpack-core/lib/transpiler';\n\nclass VueSelector extends Transpiler {\n  constructor() {\n    super('vue-selector');\n  }\n\n  doTranspilation(content: string, loaderContext: LoaderContext) {\n    return import(\n      /* webpackChunkName: 'vue-selector' */ './loader'\n    ).then(loader => loader.default(content, loaderContext));\n  }\n}\n\nconst transpiler = new VueSelector();\n\nexport { VueSelector };\n\nexport default transpiler;\n","import { LoaderContext, Transpiler } from 'sandpack-core';\n\nimport loader from './loader';\n\nclass VueStyleLoader extends Transpiler {\n  constructor() {\n    super('vue-style-loader');\n  }\n\n  doTranspilation(content: string, loaderContext: LoaderContext) {\n    const transpiledCode = loader(content, loaderContext);\n\n    return Promise.resolve({ transpiledCode });\n  }\n}\n\nconst transpiler = new VueStyleLoader();\n\nexport { VueStyleLoader };\n\nexport default transpiler;\n","/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\nimport hash from 'hash-sum';\n\nimport loaderUtils from 'sandpack-core/lib/transpiler/utils/loader-utils';\nimport addStylesClientRaw from '!raw-loader!./addStylesClient';\nimport listToStylesRaw from '!raw-loader!./listToStyles';\n\n\nconst addStylesClientPath = '/node_modules/vue-style-loader/addStylesClient.js';\nconst listToStylesPath = '/node_modules/vue-style-loader/listToStyles.js';\n\nexport default function(content: string, loaderContext) {\n  const isServer = false;\n  const isProduction = false;\n\n  loaderContext.emitModule(\n    addStylesClientPath,\n    addStylesClientRaw,\n    '/',\n    false,\n    false\n  );\n  loaderContext.emitModule(\n    listToStylesPath,\n    listToStylesRaw,\n    '/',\n    false,\n    false\n  );\n\n  const request = loaderUtils.stringifyRequest(\n    loaderContext,\n    loaderContext._module.query.replace('vue-style-loader!', '') +\n      '!' +\n      loaderContext.path\n  );\n\n  const id = JSON.stringify(hash(request));\n  loaderContext.addDependency(JSON.parse(request));\n\n  const shared = [\n    '// style-loader: Adds some css to the DOM by adding a <style> tag',\n    '',\n    '// load the styles',\n    `var content = require(${request})`,\n    // content list format is [id, css, media, sourceMap]\n    \"if(typeof content === 'string') content = [[module.id, content, '']];\",\n    'if(content.locals) module.exports = content.locals;',\n  ];\n\n  if (!isServer) {\n    // on the client: dynamic inject + hot-reload\n    let code = [\n      '// add the styles to the DOM',\n      'var update = require(\"' +\n        addStylesClientPath +\n        '\")(' +\n        id +\n        ', content, ' +\n        isProduction +\n        ');',\n    ];\n    if (!isProduction) {\n      code = code.concat([\n        '// Hot Module Replacement',\n        'if(module.hot) {',\n        ' // When the styles change, update the <style> tags',\n        ' if(!content.locals) {',\n        '   module.hot.accept(' + request + ', function() {',\n        '     var newContent = require(' + request + ');',\n        \"     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\",\n        '     update(newContent);',\n        '   });',\n        ' }',\n        ' // When the module is disposed, remove the <style> tags',\n        ' module.hot.dispose(function() { update(); });',\n        '}',\n      ]);\n    }\n    return shared.concat(code).join('\\n');\n  }\n\n  return undefined;\n}\n","import { LoaderContext } from 'sandpack-core/lib/transpiled-module';\nimport { Transpiler } from 'sandpack-core/lib/transpiler';\n\n// This is the most advanced compiler, I wanted to get it working in sync first,\n// but will eventually move to async.\n\nclass CSSTranspiler extends Transpiler {\n  constructor() {\n    super('css-loader');\n  }\n\n  doTranspilation(code: string, loaderContext: LoaderContext) {\n    return import(\n      /* webpackChunkName: 'css-loader' */ './loader'\n    ).then(loader => loader.default(code, loaderContext));\n  }\n}\n\nconst transpiler = new CSSTranspiler();\n\nexport { CSSTranspiler };\n\nexport default transpiler;\n","import { TranspilerResult, Transpiler } from 'sandpack-core';\n\nclass Base64Transpiler extends Transpiler {\n  constructor() {\n    super('base64-loader');\n  }\n\n  doTranspilation(code: string) {\n    return new Promise<TranspilerResult>(resolve => {\n      const reader = new FileReader();\n      // @ts-ignore\n      reader.readAsDataURL(code);\n\n      reader.onloadend = () => {\n        const base64data = reader.result;\n        resolve({\n          transpiledCode: `module.exports = \"${base64data.toString()}\"`,\n        });\n      };\n    });\n  }\n}\n\nconst transpiler = new Base64Transpiler();\n\nexport { Base64Transpiler };\n\nexport default transpiler;\n","/* eslint-disable import/default */\n// @ts-ignore\nimport PugWorker from 'worker-loader?publicPath=/&name=pug-transpiler.[hash:8].worker.js!./pug-worker';\n/* eslint-enable import/default */\n\nimport { LoaderContext, TranspilerResult } from 'sandpack-core';\nimport WorkerTranspiler from '../worker-transpiler';\n\nclass PugTranspiler extends WorkerTranspiler {\n  worker: Worker;\n\n  constructor() {\n    super('pug-loader', PugWorker, 1);\n\n    this.cacheable = false;\n  }\n\n  doTranspilation(\n    code: string,\n    loaderContext: LoaderContext\n  ): Promise<TranspilerResult> {\n    return new Promise((resolve, reject) => {\n      const { path } = loaderContext;\n\n      this.queueTask(\n        {\n          code,\n          path,\n        },\n        loaderContext._module.getId(),\n        loaderContext,\n        (err, data) => {\n          if (err) {\n            loaderContext.emitError(err);\n\n            return reject(err);\n          }\n\n          return resolve(data);\n        }\n      );\n    });\n  }\n}\n\nconst transpiler = new PugTranspiler();\n\nexport { PugTranspiler };\n\nexport default transpiler;\n","/* eslint-disable import/default */\n// @ts-ignore\nimport CoffeeWorker from 'worker-loader?publicPath=/&name=coffee-transpiler.[hash:8].worker.js!./coffee-worker';\n/* eslint-enable import/default */\n\nimport { LoaderContext, TranspilerResult } from 'sandpack-core';\nimport WorkerTranspiler from '../worker-transpiler';\n\nclass CoffeeTranspiler extends WorkerTranspiler {\n  worker: Worker;\n\n  constructor() {\n    super('coffee-loader', CoffeeWorker, 1);\n\n    this.cacheable = false;\n  }\n\n  doTranspilation(\n    code: string,\n    loaderContext: LoaderContext\n  ): Promise<TranspilerResult> {\n    return new Promise((resolve, reject) => {\n      const { path } = loaderContext;\n\n      this.queueTask(\n        {\n          code,\n          path,\n        },\n        loaderContext._module.getId(),\n        loaderContext,\n        (err, data) => {\n          if (err) {\n            loaderContext.emitError(err);\n\n            return reject(err);\n          }\n\n          return resolve(data);\n        }\n      );\n    });\n  }\n}\n\nconst transpiler = new CoffeeTranspiler();\n\nexport { CoffeeTranspiler };\n\nexport default transpiler;\n","import { Preset } from 'sandpack-core';\n\nimport babelTranspiler from '../../transpilers/babel';\nimport typescriptTranspiler from '../../transpilers/typescript';\nimport jsonTranspiler from '../../transpilers/json';\nimport stylesTranspiler from '../../transpilers/style';\nimport sassTranspiler from '../../transpilers/sass';\nimport rawTranspiler from '../../transpilers/raw';\nimport stylusTranspiler from '../../transpilers/stylus';\nimport lessTranspiler from '../../transpilers/less';\nimport noopTranspiler from '../../transpilers/noop';\nimport binaryTranspiler from '../../transpilers/binary';\nimport vueTranspiler from '../../transpilers/vue/v2';\nimport vueTemplateTranspiler from '../../transpilers/vue/v2/template-compiler';\nimport vueStyleTranspiler from '../../transpilers/vue/v2/style-compiler';\nimport vueSelector from '../../transpilers/vue/v2/selector';\nimport vueStyleLoader from '../../transpilers/vue/v2/style-loader';\nimport cssLoader from '../../transpilers/vue/v2/css-loader';\nimport base64Transpiler from '../../transpilers/base64';\nimport pugTranspiler from '../../transpilers/pug';\nimport coffeeTranspiler from '../../transpilers/coffee';\n\n\nexport default function initialize(vuePreset: Preset) {\n  vuePreset.setAdditionalAliases({\n    vue$: 'vue/dist/vue.common.js',\n  });\n\n  const sassWithConfig = {\n    transpiler: sassTranspiler,\n    config: {},\n  };\n\n  const lessWithConfig = {\n    transpiler: lessTranspiler,\n    config: {},\n  };\n\n  const stylusWithConfig = {\n    transpiler: stylusTranspiler,\n    config: {},\n  };\n\n  /**\n   * Registers transpilers for all different combinations\n   *\n   * @returns\n   */\n  function registerStyleTranspilers() {\n    const styles = {\n      css: [],\n      scss: [sassWithConfig],\n      sass: [sassWithConfig],\n      less: [lessWithConfig],\n      styl: [stylusWithConfig],\n    };\n\n    return Object.keys(styles).forEach(type => {\n      vuePreset.registerTranspiler(\n        module => new RegExp(`\\\\.${type}`).test(module.path),\n        [...styles[type], { transpiler: stylesTranspiler }]\n      );\n    });\n  }\n\n  vuePreset.registerTranspiler(module => /\\.m?jsx?$/.test(module.path), [\n    { transpiler: babelTranspiler },\n  ]);\n  vuePreset.registerTranspiler(module => /\\.m?tsx?$/.test(module.path), [\n    { transpiler: typescriptTranspiler },\n    { transpiler: babelTranspiler },\n  ]);\n  vuePreset.registerTranspiler(module => /\\.json$/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n  vuePreset.registerTranspiler(module => /\\.vue$/.test(module.path), [\n    { transpiler: vueTranspiler },\n  ]);\n  vuePreset.registerTranspiler(module => /\\.coffee$/.test(module.path), [\n    { transpiler: coffeeTranspiler },\n    { transpiler: babelTranspiler },\n  ]);\n\n  registerStyleTranspilers();\n\n  vuePreset.registerTranspiler(() => false, [\n    { transpiler: vueTemplateTranspiler },\n  ]);\n  vuePreset.registerTranspiler(() => false, [\n    { transpiler: vueStyleTranspiler },\n  ]);\n  vuePreset.registerTranspiler(() => false, [{ transpiler: vueSelector }]);\n  vuePreset.registerTranspiler(() => false, [{ transpiler: vueStyleLoader }]);\n  vuePreset.registerTranspiler(() => false, [{ transpiler: cssLoader }]);\n\n  vuePreset.registerTranspiler(module => /\\.png$/.test(module.path), [\n    { transpiler: binaryTranspiler },\n    { transpiler: base64Transpiler },\n  ]);\n  vuePreset.registerTranspiler(module => /!noop/.test(module.path), [\n    { transpiler: noopTranspiler },\n  ]);\n  vuePreset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n  vuePreset.registerTranspiler(module => /\\.pug$/.test(module.path), [\n    { transpiler: pugTranspiler },\n  ]);\n\n  return vuePreset;\n}\n","import { TranspilerDefinition, Preset } from 'sandpack-core';\nimport babelTranspiler from '../../transpilers/babel';\nimport typescriptTranspiler from '../../transpilers/typescript';\nimport jsonTranspiler from '../../transpilers/json';\nimport stylesTranspiler from '../../transpilers/style';\nimport sassTranspiler from '../../transpilers/sass';\nimport rawTranspiler from '../../transpilers/raw';\nimport stylusTranspiler from '../../transpilers/stylus';\nimport lessTranspiler from '../../transpilers/less';\nimport noopTranspiler from '../../transpilers/noop';\nimport binaryTranspiler from '../../transpilers/binary';\nimport base64Transpiler from '../../transpilers/base64';\nimport pugTranspiler from '../../transpilers/pug';\nimport coffeeTranspiler from '../../transpilers/coffee';\n\nexport default async function initialize(vuePreset: Preset) {\n  const { stylePostLoader, vueLoader, templateLoader } = await import(\n    'vue3-transpiler/lib/transpilers'\n  );\n\n  const sassWithConfig: TranspilerDefinition = {\n    transpiler: sassTranspiler,\n    options: {\n      indentedSyntax: true,\n    },\n  };\n\n  const scssWithConfig: TranspilerDefinition = {\n    transpiler: sassTranspiler,\n    options: {},\n  };\n\n  const lessWithConfig: TranspilerDefinition = {\n    transpiler: lessTranspiler,\n    options: {},\n  };\n\n  const stylusWithConfig: TranspilerDefinition = {\n    transpiler: stylusTranspiler,\n    options: {},\n  };\n\n  /**\n   * Registers transpilers for all different combinations\n   *\n   * @returns\n   */\n  function registerStyleTranspilers() {\n    const styles = {\n      css: [],\n      scss: [scssWithConfig],\n      sass: [sassWithConfig],\n      less: [lessWithConfig],\n      styl: [stylusWithConfig],\n    };\n\n    return Object.keys(styles).forEach(type => {\n      vuePreset.registerTranspiler(\n        module => new RegExp(`\\\\.${type}`).test(module.path),\n        [\n          ...styles[type],\n          { transpiler: stylesTranspiler, options: { hmrEnabled: true } },\n        ]\n      );\n    });\n  }\n\n  vuePreset.registerTranspiler(module => /\\.m?jsx?$/.test(module.path), [\n    { transpiler: babelTranspiler },\n  ]);\n  vuePreset.registerTranspiler(module => /\\.m?tsx?$/.test(module.path), [\n    { transpiler: typescriptTranspiler },\n    { transpiler: babelTranspiler },\n  ]);\n  vuePreset.registerTranspiler(module => /\\.json$/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n  vuePreset.registerTranspiler(module => /\\.vue$/.test(module.path), [\n    { transpiler: vueLoader },\n    { transpiler: babelTranspiler },\n  ]);\n  vuePreset.registerTranspiler(module => /\\.coffee$/.test(module.path), [\n    { transpiler: coffeeTranspiler },\n    { transpiler: babelTranspiler },\n  ]);\n\n  registerStyleTranspilers();\n\n  vuePreset.registerTranspiler(() => false, [{ transpiler: templateLoader }]);\n  vuePreset.registerTranspiler(() => false, [{ transpiler: stylePostLoader }]);\n\n  vuePreset.registerTranspiler(module => /\\.png$/.test(module.path), [\n    { transpiler: binaryTranspiler },\n    { transpiler: base64Transpiler },\n  ]);\n  vuePreset.registerTranspiler(module => /!noop/.test(module.path), [\n    { transpiler: noopTranspiler },\n  ]);\n  vuePreset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n  vuePreset.registerTranspiler(module => /\\.pug$/.test(module.path), [\n    { transpiler: pugTranspiler },\n  ]);\n\n  return vuePreset;\n}\n","import { dispatch, actions } from 'codesandbox-api';\nimport semver from 'semver';\nimport { Manager, Preset } from 'sandpack-core';\n\nimport initializeV2 from './v2';\nimport initializeV3 from './v3';\n\nfunction isMinimalSemverVersion(version: string, minimalVersion: string) {\n  try {\n    return semver.gte(version, minimalVersion);\n  } catch (e) {\n    // Semver couldn't be parsed, we assume that we're on the bleeding edge now, so true.\n    return true;\n  }\n}\n\nconst getFileNameFromVm = vm => {\n  if (vm) {\n    const options =\n      typeof vm === 'function' && vm.cid != null\n        ? vm.options\n        : vm._isVue\n        ? vm.$options || vm.constructor.options\n        : vm || {};\n\n    return options.__file;\n  }\n  return undefined;\n};\n\nexport default function initialize() {\n  const vuePreset = new Preset(\n    'vue-cli',\n    ['vue', 'json', 'js', 'ts'],\n    {\n      '@': '{{sandboxRoot}}/src',\n    },\n    {\n      setup: async (manager: Manager) => {\n        const dependencies = manager.manifest.dependencies;\n        const vue = dependencies.find(dep => dep.name === 'vue');\n        const isV3 = vue && isMinimalSemverVersion(vue.version, '3.0.0');\n\n        try {\n          const tModule = manager.resolveTranspiledModule(\n            '@vue/babel-preset-app',\n            '/package.json'\n          );\n          await tModule.transpile(manager);\n        } catch (e) {\n          console.error(e);\n          // Ignore\n        }\n\n        if (isV3) {\n          await initializeV3(vuePreset);\n        } else {\n          initializeV2(vuePreset);\n        }\n\n        try {\n          const vueModule = manager.resolveTranspiledModule('vue', '/');\n\n          if (!vueModule.source) {\n            await vueModule.transpile(manager);\n          }\n          const Vue = vueModule.evaluate(manager);\n\n          if (Vue) {\n            Vue.config.warnHandler = (msg, vm, trace) => {\n              console.error('[Vue warn]: ' + msg + trace);\n\n              const file = getFileNameFromVm(vm);\n\n              dispatch(\n                actions.correction.show(msg, {\n                  line: 1,\n                  column: 1,\n                  path: file,\n                  severity: 'warning',\n                  source: 'Vue',\n                })\n              );\n            };\n          }\n        } catch (e) {\n          /* ignore */\n        }\n      },\n    }\n  );\n\n  return vuePreset;\n}\n","import { NoopTranspiler } from '../../../transpilers/noop';\n\n/**\n * This transpiler actually does nothing but return the code that was given,\n * this happens since our code is already in the browser, we don't need to\n * dynamically load it\n *\n * @class AsyncTranspiler\n * @extends {NoopTranspiler}\n */\nclass AsyncTranspiler extends NoopTranspiler {\n  constructor() {\n    super();\n\n    this.name = 'async';\n  }\n}\n\nconst transpiler = new AsyncTranspiler();\n\nexport { AsyncTranspiler };\n\nexport default transpiler;\n","import { Preset } from 'sandpack-core';\n\nimport babelTranspiler from '../../transpilers/babel';\nimport jsonTranspiler from '../../transpilers/json';\nimport stylesTranspiler from '../../transpilers/style';\nimport sassTranspiler from '../../transpilers/sass';\nimport rawTranspiler from '../../transpilers/raw';\nimport stylusTranspiler from '../../transpilers/stylus';\nimport lessTranspiler from '../../transpilers/less';\n\nimport asyncTranspiler from './transpilers/async';\n\nexport default function PreactPresetV8() {\n  const preactPreset = new Preset(\n    'preact-cli',\n    ['js', 'jsx', 'ts', 'tsx', 'json', 'less', 'scss', 'sass', 'styl', 'css'],\n    {\n      preact$: 'preact',\n      // preact-compat aliases for supporting React dependencies:\n      react: 'preact-compat',\n      'react-dom': 'preact-compat',\n      'create-react-class': 'preact-compat/lib/create-react-class',\n      'react-addons-css-transition-group': 'preact-css-transition-group',\n    }\n  );\n\n  preactPreset.registerTranspiler(module => /\\.m?jsx?$/.test(module.path), [\n    {\n      transpiler: babelTranspiler,\n      options: {\n        isV7: false,\n        compileNodeModulesWithEnv: true,\n        // config is derived from babelrc at packages/common/src/templates/configuration/babelrc/index.ts\n      },\n    },\n  ]);\n\n  // For these routes we need to enable css modules\n  const cssModulesPaths = [\n    '/src/components',\n    '/components',\n    '/src/routes',\n    '/routes',\n  ];\n\n  const cssModulesRegex = extension =>\n    new RegExp(`^(${cssModulesPaths.join('|')})\\\\/.*\\\\.${extension}$`);\n\n  const cssTypes = {\n    css: [],\n    's[a|c]ss': [{ transpiler: sassTranspiler }],\n    less: [{ transpiler: lessTranspiler }],\n    styl: [{ transpiler: stylusTranspiler }],\n  };\n\n  Object.keys(cssTypes).forEach(cssType => {\n    preactPreset.registerTranspiler(\n      module => cssModulesRegex(cssType).test(module.path),\n      [\n        ...cssTypes[cssType],\n        { transpiler: stylesTranspiler, options: { module: true } },\n      ]\n    );\n\n    preactPreset.registerTranspiler(\n      module => new RegExp(`\\\\.${cssType}$`).test(module.path),\n      [...cssTypes[cssType], { transpiler: stylesTranspiler }]\n    );\n  });\n\n  preactPreset.registerTranspiler(module => /\\.json/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n\n  // Support for !async statements\n  preactPreset.registerTranspiler(\n    () => false /* never load without explicit statement */,\n    [{ transpiler: asyncTranspiler }]\n  );\n\n  preactPreset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n\n  return preactPreset;\n}\n","import { Preset } from 'sandpack-core';\n\nimport babelTranspiler from '../../transpilers/babel';\nimport jsonTranspiler from '../../transpilers/json';\nimport stylesTranspiler from '../../transpilers/style';\nimport sassTranspiler from '../../transpilers/sass';\nimport rawTranspiler from '../../transpilers/raw';\nimport stylusTranspiler from '../../transpilers/stylus';\nimport lessTranspiler from '../../transpilers/less';\n\nimport asyncTranspiler from './transpilers/async';\n\nexport default function PreactPreset() {\n  const preactPreset = new Preset(\n    'preact-cli',\n    ['js', 'jsx', 'ts', 'tsx', 'json', 'less', 'scss', 'sass', 'styl', 'css'],\n    {\n      preact$: 'preact',\n      // preact-compat aliases for supporting React dependencies:\n      react: 'preact/compat',\n      'react-dom': 'preact/compat',\n      'create-react-class': 'preact/compat/lib/create-react-class',\n      'react-addons-css-transition-group': 'preact-css-transition-group',\n    }\n  );\n\n  preactPreset.registerTranspiler(module => /\\.m?(t|j)sx?$/.test(module.path), [\n    {\n      transpiler: babelTranspiler,\n      options: {\n        isV7: true,\n        compileNodeModulesWithEnv: true,\n        // config is derived from babelrc at packages/common/src/templates/configuration/babelrc/index.ts\n      },\n    },\n  ]);\n\n  // For these routes we need to enable css modules\n  const cssModulesPaths = [\n    '/src/components',\n    '/components',\n    '/src/routes',\n    '/routes',\n  ];\n\n  const cssModulesRegex = extension =>\n    new RegExp(`^(${cssModulesPaths.join('|')})\\\\/.*\\\\.${extension}$`);\n\n  const cssTypes = {\n    css: [],\n    's[a|c]ss': [{ transpiler: sassTranspiler }],\n    less: [{ transpiler: lessTranspiler }],\n    styl: [{ transpiler: stylusTranspiler }],\n  };\n\n  Object.keys(cssTypes).forEach(cssType => {\n    preactPreset.registerTranspiler(\n      module => cssModulesRegex(cssType).test(module.path),\n      [\n        ...cssTypes[cssType],\n        { transpiler: stylesTranspiler, options: { module: true } },\n      ]\n    );\n\n    preactPreset.registerTranspiler(\n      module => new RegExp(`\\\\.${cssType}$`).test(module.path),\n      [...cssTypes[cssType], { transpiler: stylesTranspiler }]\n    );\n  });\n\n  preactPreset.registerTranspiler(module => /\\.json/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n\n  // Support for !async statements\n  preactPreset.registerTranspiler(\n    () => false /* never load without explicit statement */,\n    [{ transpiler: asyncTranspiler }]\n  );\n\n  preactPreset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n\n  return preactPreset;\n}\n","/* eslint-disable import/default */\n// @ts-ignore\nimport SvelteWorker from 'worker-loader?publicPath=/&name=svelte-transpiler.[hash:8].worker.js!./svelte-worker';\n/* eslint-enable import/default */\n\nimport semver from 'semver';\nimport { LoaderContext, TranspilerResult } from 'sandpack-core';\n\nimport WorkerTranspiler from '../worker-transpiler';\n\nclass SvelteTranspiler extends WorkerTranspiler {\n  worker: Worker;\n\n  constructor() {\n    super('svelte-loader', SvelteWorker, 2);\n  }\n\n  doTranspilation(code: string, loaderContext: LoaderContext) {\n    const packageJSON = loaderContext.options.configurations.package;\n    const svelte =\n      (packageJSON &&\n        packageJSON.parsed &&\n        packageJSON.parsed.devDependencies &&\n        packageJSON.parsed.devDependencies.svelte &&\n        semver.coerce(packageJSON.parsed.devDependencies.svelte)) ||\n      semver.coerce(packageJSON.parsed.dependencies.svelte);\n\n    return new Promise<TranspilerResult>((resolve, reject) => {\n      const { path } = loaderContext;\n\n      this.queueTask(\n        {\n          code,\n          path,\n          version: (svelte || {}).version,\n        },\n        loaderContext._module.getId(),\n        loaderContext,\n        (err, data) => {\n          if (err) {\n            loaderContext.emitError(err);\n\n            return reject(err);\n          }\n\n          return resolve(data);\n        }\n      );\n    });\n  }\n}\n\nconst transpiler = new SvelteTranspiler();\n\nexport { SvelteTranspiler };\n\nexport default transpiler;\n","import { Preset } from 'sandpack-core';\n\nimport babelTranspiler from '../../transpilers/babel';\nimport jsonTranspiler from '../../transpilers/json';\nimport rawTranspiler from '../../transpilers/raw';\nimport svelteTranspiler from '../../transpilers/svelte';\nimport sassTranspiler from '../../transpilers/sass';\nimport styleProcessor from '../../transpilers/postcss';\nimport stylesTranspiler from '../../transpilers/style';\n\nconst babelOptions = {\n  isV7: true,\n  config: {\n    presets: [],\n    plugins: [],\n    parserOpts: {\n      plugins: ['dynamicImport', 'objectRestSpread'],\n    },\n  },\n};\n\nexport default function initialize() {\n  const sveltePreset = new Preset('svelte', ['js', 'jsx', 'svelte'], {});\n\n  sveltePreset.registerTranspiler(module => /\\.m?jsx?$/.test(module.path), [\n    { transpiler: babelTranspiler, options: babelOptions },\n  ]);\n\n  sveltePreset.registerTranspiler(module => /\\.css$/.test(module.path), [\n    { transpiler: styleProcessor },\n    {\n      transpiler: stylesTranspiler,\n      options: { hmrEnabled: false },\n    },\n  ]);\n\n  sveltePreset.registerTranspiler(module => /\\.s[c|a]ss$/.test(module.path), [\n    { transpiler: sassTranspiler },\n    { transpiler: styleProcessor },\n    {\n      transpiler: stylesTranspiler,\n      options: { hmrEnabled: false },\n    },\n  ]);\n\n  sveltePreset.registerTranspiler(module => /\\.svelte$/.test(module.path), [\n    { transpiler: svelteTranspiler },\n    { transpiler: babelTranspiler, options: babelOptions },\n  ]);\n\n  sveltePreset.registerTranspiler(module => /\\.html$/.test(module.path), [\n    { transpiler: svelteTranspiler },\n    { transpiler: babelTranspiler, options: babelOptions },\n  ]);\n\n  sveltePreset.registerTranspiler(module => /\\.json/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n\n  sveltePreset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n\n  return sveltePreset;\n}\n","const importRegex = /(^|\\s)(import)\\s*\\(/g;\nexport function convertDynamicImport(code) {\n    return code.replace(importRegex, ' $csbImport(');\n}\n","import { Transpiler } from '../..';\nimport { convertDynamicImport } from './dynamic-import';\n/**\n * This transpiler is run after all modules, to enable specific CodeSandbox features\n *\n * @class CodeSandbox\n * @extends {Transpiler}\n */\nclass CodeSandboxDynamicImports extends Transpiler {\n    constructor() {\n        super('codesandbox-dynamic-imports-loader');\n    }\n    doTranspilation(code, loaderContext) {\n        const newCode = convertDynamicImport(code);\n        return { transpiledCode: newCode };\n    }\n}\nconst transpiler = new CodeSandboxDynamicImports();\nexport { CodeSandboxDynamicImports };\nexport default transpiler;\n","/* eslint-disable */\nimport { Transpiler, LoaderContext } from 'sandpack-core';\n\n// using: regex, capture groups, and capture group variables.\nconst templateUrlRegex = /templateUrl\\s*:(\\s*['\"`](.*?)['\"`]\\s*([,}]))/gm;\nconst stylesRegex = /styleUrls *:(\\s*\\[[^\\]]*?\\])/g;\nconst stringRegex = /(['`\"])((?:[^\\\\]\\\\\\1|.)*?)\\1/g;\n\nfunction replaceStringsWithRequires(string, extensionConfig, addDependency) {\n  return string.replace(stringRegex, (match, quote, url) => {\n    if (url.charAt(0) !== '.') {\n      // eslint-disable-next-line\n      url = './' + url;\n    }\n\n    const urlParts = url.split('.');\n    const extension = urlParts[urlParts.length - 1];\n    const transpilers = extensionConfig[extension] || [];\n\n    const finalUrl = `!raw-loader!${transpilers\n      .map(t => t.transpiler.name)\n      .join('!')}!${url}`;\n\n    addDependency(finalUrl, { isAbsolute: false });\n    return \"require('\" + finalUrl + \"')\";\n  });\n}\n\n/**\n * Converts Angular statements to css/html to require statements. Taken from\n * https://github.com/TheLarkInn/angular2-template-loader/blob/master/index.js\n *\n * @class Angular2Transpiler\n * @extends {Transpiler}\n */\nclass Angular2Transpiler extends Transpiler {\n  constructor() {\n    super('binary-loader');\n  }\n\n  doTranspilation(code: string, loaderContext: LoaderContext) {\n    const styleProperty = 'styles';\n    const templateProperty = 'template';\n\n    const newSource = code\n      .replace(templateUrlRegex, (match, url) => {\n        // replace: templateUrl: './path/to/template.html'\n        // with: template: require('./path/to/template.html')\n        // or: templateUrl: require('./path/to/template.html')\n        // if `keepUrl` query parameter is set to true.\n\n        return (\n          templateProperty +\n          ':' +\n          replaceStringsWithRequires(\n            url,\n            loaderContext.options.preTranspilers,\n            loaderContext.addDependency\n          )\n        );\n      })\n      .replace(stylesRegex, (match, urls) => {\n        // replace: stylesUrl: ['./foo.css', \"./baz.css\", \"./index.component.css\"]\n        // with: styles: [require('./foo.css'), require(\"./baz.css\"), require(\"./index.component.css\")]\n        // or: styleUrls: [require('./foo.css'), require(\"./baz.css\"), require(\"./index.component.css\")]\n        // if `keepUrl` query parameter is set to true.\n        return (\n          styleProperty +\n          ':' +\n          replaceStringsWithRequires(\n            urls,\n            loaderContext.options.preTranspilers,\n            loaderContext.addDependency\n          )\n        );\n      });\n\n    return Promise.resolve({\n      transpiledCode: newSource,\n    });\n  }\n}\n\nconst transpiler = new Angular2Transpiler();\n\nexport { Angular2Transpiler };\n\nexport default transpiler;\n","// @flow\nimport { join, absolute } from '@codesandbox/common/lib/utils/path';\nimport { Manager, TranspiledModule, Preset } from 'sandpack-core';\nimport csbDynamicImportTranspiler from 'sandpack-core/lib/transpiler/transpilers/csb-dynamic-import';\n\nimport angular2Transpiler from '../../transpilers/angular2-template';\nimport typescriptTranspiler from '../../transpilers/typescript';\nimport babelTranspiler from '../../transpilers/babel';\nimport jsonTranspiler from '../../transpilers/json';\nimport stylesTranspiler from '../../transpilers/style';\nimport sassTranspiler from '../../transpilers/sass';\nimport rawTranspiler from '../../transpilers/raw';\nimport stylusTranspiler from '../../transpilers/stylus';\nimport lessTranspiler from '../../transpilers/less';\n\nlet polyfillsLoaded = false;\n\nasync function addAngularJSONPolyfills(manager) {\n  const { parsed } = manager.configurations['angular-config'];\n\n  const { defaultProject } = parsed;\n  const project = parsed.projects[defaultProject];\n\n  if (project && project.architect) {\n    const { build } = project.architect;\n    if (build.options) {\n      if (project.root && build.options.polyfill) {\n        const polyfillLocation = absolute(\n          join(project.root, build.options.polyfill)\n        );\n        const polyfills = manager.resolveModule(polyfillLocation, '/');\n\n        await manager.transpileModules(polyfills);\n        manager.evaluateModule(polyfills);\n      }\n    }\n  }\n}\n\nasync function addAngularCLIPolyfills(manager) {\n  const { parsed } = manager.configurations['angular-cli'];\n  if (parsed.apps && parsed.apps[0]) {\n    const app = parsed.apps[0];\n\n    if (app.root && app.polyfills) {\n      const polyfillLocation = absolute(join(app.root, app.polyfills));\n      const polyfills = manager.resolveModule(polyfillLocation, '/');\n\n      await manager.transpileModules(polyfills);\n      manager.evaluateModule(polyfills);\n    }\n  }\n}\n\nasync function addAngularJSONResources(manager) {\n  const { parsed } = manager.configurations['angular-config'];\n\n  const { defaultProject } = parsed;\n  const project = parsed.projects[defaultProject];\n\n  if (project && project.architect) {\n    const { build } = project.architect;\n    if (build.options) {\n      const { styles = [], scripts = [] } = build.options;\n\n      /* eslint-disable no-await-in-loop */\n      for (let i = 0; i < styles.length; i++) {\n        const p = styles[i];\n\n        const finalPath = absolute(join(project.root, p.input || p));\n\n        const tModule = await manager.resolveTranspiledModuleAsync(\n          finalPath,\n          null\n        );\n\n        await tModule.transpile(manager);\n        tModule.setIsEntry(true);\n        tModule.evaluate(manager);\n      }\n\n      const scriptTModules: TranspiledModule[] = await Promise.all(\n        scripts.map(async p => {\n          const finalPath = absolute(join(project.root, p));\n          const tModule = await manager.resolveTranspiledModuleAsync(\n            finalPath,\n            null\n          );\n          tModule.setIsEntry(true);\n          return tModule.transpile(manager);\n        })\n      );\n\n      scriptTModules.forEach(t => {\n        t.evaluate(manager, { asUMD: true });\n      });\n    }\n  }\n}\n\nconst getPathFromResource = (root, p) => {\n  const nodeModuleRegex = /(^\\.\\/)?node_modules\\//;\n  if (/(^\\.\\/)?node_modules/.test(p)) {\n    // If starts with node_modules or ./node_modules\n    return p.replace(nodeModuleRegex, '');\n  }\n\n  return absolute(join(root || 'src', p));\n};\n\nasync function addAngularCLIResources(manager: Manager) {\n  const { parsed } = manager.configurations['angular-cli'];\n  if (parsed.apps && parsed.apps[0]) {\n    const app = parsed.apps[0];\n\n    const { styles = [], scripts = [] } = app;\n\n    /* eslint-disable no-await-in-loop */\n    for (let i = 0; i < styles.length; i++) {\n      const p = styles[i];\n      const finalPath = getPathFromResource(app.root, p.input || p);\n\n      const tModule = await manager.resolveTranspiledModuleAsync(\n        finalPath,\n        null\n      );\n\n      await tModule.transpile(manager);\n      tModule.setIsEntry(true);\n      tModule.evaluate(manager);\n    }\n    /* eslint-enable no-await-in-loop */\n\n    const scriptTModules: TranspiledModule[] = await Promise.all(\n      scripts.map(async p => {\n        const finalPath = getPathFromResource(app.root, p);\n        const tModule = await manager.resolveTranspiledModuleAsync(\n          finalPath,\n          null\n        );\n        tModule.setIsEntry(true);\n        return tModule.transpile(manager);\n      })\n    );\n\n    scriptTModules.forEach(t => {\n      t.evaluate(manager, { asUMD: true });\n    });\n\n    if (app.environmentSource && app.environments && app.environments.dev) {\n      manager.preset.setAdditionalAliases({\n        [app.environmentSource]: app.environments.dev,\n      });\n    }\n  }\n}\n\nexport default function initialize() {\n  const preset = new Preset(\n    'angular-cli',\n    ['web.ts', 'ts', 'json', 'web.tsx', 'tsx', 'js'],\n    {},\n    {\n      setup: async manager => {\n        if (!polyfillsLoaded) {\n          const zone = manager.resolveModule('zone.js', '/');\n          await manager.transpileModules(zone);\n          manager.evaluateModule(zone);\n\n          if (!manager.configurations['angular-config'].generated) {\n            await addAngularJSONPolyfills(manager);\n          } else {\n            await addAngularCLIPolyfills(manager);\n          }\n\n          polyfillsLoaded = true;\n        }\n\n        if (!manager.configurations['angular-config'].generated) {\n          await addAngularJSONResources(manager);\n        } else {\n          await addAngularCLIResources(manager);\n        }\n      },\n    }\n  );\n\n  const sassWithConfig = {\n    transpiler: sassTranspiler,\n    options: {},\n  };\n\n  const lessWithConfig = {\n    transpiler: lessTranspiler,\n    options: {},\n  };\n\n  const stylusWithConfig = {\n    transpiler: stylusTranspiler,\n    options: {},\n  };\n  const styles = {\n    css: [],\n    scss: [sassWithConfig],\n    sass: [sassWithConfig],\n    less: [lessWithConfig],\n    styl: [stylusWithConfig],\n  };\n\n  /**\n   * Registers transpilers for all different combinations\n   *\n   * @returns\n   */\n  function registerStyleTranspilers() {\n    return Object.keys(styles).forEach(type => {\n      preset.registerTranspiler(\n        module => new RegExp(`\\\\.${type}`).test(module.path),\n        [...styles[type], { transpiler: stylesTranspiler }]\n      );\n    });\n  }\n\n  registerStyleTranspilers();\n\n  preset.registerTranspiler(module => /\\.tsx?$/.test(module.path), [\n    { transpiler: angular2Transpiler, options: { preTranspilers: styles } },\n    { transpiler: typescriptTranspiler },\n    { transpiler: csbDynamicImportTranspiler },\n  ]);\n\n  preset.registerTranspiler(module => /\\.m?js$/.test(module.path), [\n    {\n      transpiler: babelTranspiler,\n      options: {\n        config: {\n          presets: ['es2015', 'react', 'stage-0'],\n          plugins: [\n            'transform-async-to-generator',\n            'transform-object-rest-spread',\n            'transform-decorators-legacy',\n            'transform-class-properties',\n            // Polyfills the runtime needed for async/await and generators\n            [\n              'transform-runtime',\n              {\n                helpers: false,\n                polyfill: false,\n                regenerator: true,\n              },\n            ],\n            [\n              'transform-regenerator',\n              {\n                // Async functions are converted to generators by babel-preset-env\n                async: false,\n              },\n            ],\n          ],\n        },\n      },\n    },\n  ]);\n\n  preset.registerTranspiler(module => /\\.json$/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n\n  preset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n\n  return preset;\n}\n","import { LoaderContext, TranspilerResult } from 'sandpack-core';\n\n// @ts-ignore\nimport HTMLWorker from 'worker-loader?publicPath=/&name=parcel-html-transpiler.[hash:8].worker.js!./html-worker';\nimport WorkerTranspiler from '../../../transpilers/worker-transpiler';\n\nclass HTMLTranspiler extends WorkerTranspiler {\n  constructor() {\n    super('html-loader', HTMLWorker, 1);\n\n    this.HMREnabled = false;\n  }\n\n  doTranspilation(\n    code: string,\n    loaderContext: LoaderContext\n  ): Promise<TranspilerResult> {\n    return new Promise((resolve, reject) => {\n      this.queueTask(\n        {\n          code,\n        },\n        loaderContext._module.getId(),\n        loaderContext,\n        (err, data) => {\n          if (err) {\n            loaderContext.emitError(err);\n\n            return reject(err);\n          }\n\n          return resolve(data);\n        }\n      );\n    });\n  }\n}\n\nconst transpiler = new HTMLTranspiler();\n\nexport { HTMLTranspiler };\n\nexport default transpiler;\n","import { Preset } from 'sandpack-core';\n\nimport babelTranspiler from '../../transpilers/babel';\nimport jsonTranspiler from '../../transpilers/json';\nimport stylesTranspiler from '../../transpilers/style';\nimport sassTranspiler from '../../transpilers/sass';\nimport rawTranspiler from '../../transpilers/raw';\nimport stylusTranspiler from '../../transpilers/stylus';\nimport lessTranspiler from '../../transpilers/less';\nimport tsTranspiler from '../../transpilers/typescript';\nimport vueTranspiler from '../../transpilers/vue/v2';\nimport vueTemplateTranspiler from '../../transpilers/vue/v2/template-compiler';\nimport vueStyleTranspiler from '../../transpilers/vue/v2/style-compiler';\nimport vueSelector from '../../transpilers/vue/v2/selector';\nimport vueStyleLoader from '../../transpilers/vue/v2/style-loader';\nimport cssLoader from '../../transpilers/vue/v2/css-loader';\nimport htmlTranspiler from './transpilers/html-transpiler';\nimport pugTranspiler from '../../transpilers/pug';\nimport coffeeTranspiler from '../../transpilers/coffee';\nimport noopTranspiler from '../../transpilers/noop';\n\nexport default function initialize() {\n  const parcelPreset = new Preset(\n    'parcel',\n    [\n      'js',\n      'jsx',\n      'ts',\n      'tsx',\n      'json',\n      'less',\n      'scss',\n      'sass',\n      'styl',\n      'css',\n      'vue',\n    ],\n    {},\n    {\n      htmlDisabled: true,\n      setup: manager => {\n        const packageJSON = manager.configurations.package;\n\n        if (packageJSON && packageJSON.parsed && packageJSON.parsed.alias) {\n          manager.preset.setAdditionalAliases(packageJSON.parsed.alias);\n        }\n      },\n    }\n  );\n\n  parcelPreset.registerTranspiler(module => /\\.coffee$/.test(module.path), [\n    { transpiler: coffeeTranspiler },\n    { transpiler: babelTranspiler },\n  ]);\n\n  parcelPreset.registerTranspiler(module => /\\.m?jsx?$/.test(module.path), [\n    {\n      transpiler: babelTranspiler,\n      options: {\n        dynamicCSSModules: true,\n      },\n    },\n  ]);\n\n  parcelPreset.registerTranspiler(module => /\\.tsx?$/.test(module.path), [\n    { transpiler: tsTranspiler },\n    {\n      transpiler: babelTranspiler,\n      options: {\n        dynamicCSSModules: true,\n      },\n    },\n  ]);\n\n  parcelPreset.registerTranspiler(module => /\\.pug$/.test(module.path), [\n    { transpiler: pugTranspiler },\n    { transpiler: htmlTranspiler },\n  ]);\n\n  parcelPreset.registerTranspiler(module => /\\.html$/.test(module.path), [\n    { transpiler: htmlTranspiler },\n  ]);\n\n  parcelPreset.registerTranspiler(module => /\\.css$/.test(module.path), [\n    { transpiler: stylesTranspiler },\n  ]);\n\n  parcelPreset.registerTranspiler(module => /\\.json$/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n\n  // VUE START\n  parcelPreset.registerTranspiler(module => /\\.vue$/.test(module.path), [\n    { transpiler: vueTranspiler },\n  ]);\n  parcelPreset.registerTranspiler(() => false, [\n    { transpiler: vueTemplateTranspiler },\n  ]);\n  parcelPreset.registerTranspiler(() => false, [\n    { transpiler: vueStyleTranspiler },\n  ]);\n  parcelPreset.registerTranspiler(() => false, [{ transpiler: vueSelector }]);\n  parcelPreset.registerTranspiler(() => false, [\n    { transpiler: vueStyleLoader },\n  ]);\n  parcelPreset.registerTranspiler(() => false, [{ transpiler: cssLoader }]);\n  // VUE END\n\n  const sassWithConfig = {\n    transpiler: sassTranspiler,\n    options: {},\n  };\n\n  const lessWithConfig = {\n    transpiler: lessTranspiler,\n    options: {},\n  };\n\n  const stylusWithConfig = {\n    transpiler: stylusTranspiler,\n    options: {},\n  };\n  const styles = {\n    css: [],\n    scss: [sassWithConfig],\n    sass: [sassWithConfig],\n    less: [lessWithConfig],\n    styl: [stylusWithConfig],\n  };\n\n  /**\n   * Registers transpilers for all different combinations\n   *\n   * @returns\n   */\n  function registerStyleTranspilers() {\n    return Object.keys(styles).forEach(type => {\n      parcelPreset.registerTranspiler(\n        module => new RegExp(`\\\\.${type}`).test(module.path),\n        [...styles[type], { transpiler: stylesTranspiler }]\n      );\n    });\n  }\n\n  registerStyleTranspilers();\n\n  parcelPreset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n\n  parcelPreset.registerTranspiler(() => false, [\n    { transpiler: noopTranspiler },\n  ]);\n\n  return parcelPreset;\n}\n","import { Preset } from 'sandpack-core';\n\nimport babelTranspiler from '../../transpilers/babel';\nimport jsonTranspiler from '../../transpilers/json';\nimport rawTranspiler from '../../transpilers/raw';\n\nexport default function initialize() {\n  const babelPreset = new Preset(\n    'babel-repl',\n    ['js', 'jsx', 'ts', 'tsx', 'json'],\n    {},\n    {}\n  );\n\n  babelPreset.registerTranspiler(module => /\\.jsx?$/.test(module.path), [\n    {\n      transpiler: babelTranspiler,\n      options: {\n        disableCodeSandboxPlugins: true,\n      },\n    },\n  ]);\n\n  babelPreset.registerTranspiler(module => /\\.json$/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n\n  babelPreset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n\n  return babelPreset;\n}\n","import { Preset } from 'sandpack-core';\nimport csbDynamicImportTranspiler from 'sandpack-core/lib/transpiler/transpilers/csb-dynamic-import';\n\nimport babelTranspiler from '../../transpilers/babel';\nimport jsonTranspiler from '../../transpilers/json';\nimport stylesTranspiler from '../../transpilers/style';\nimport sassTranspiler from '../../transpilers/sass';\nimport rawTranspiler from '../../transpilers/raw';\nimport stylusTranspiler from '../../transpilers/stylus';\nimport lessTranspiler from '../../transpilers/less';\nimport tsTranspiler from '../../transpilers/typescript';\n\nexport default function initialize() {\n  const cxjsPreset = new Preset(\n    'cxjs',\n    ['js', 'jsx', 'ts', 'tsx', 'json', 'less', 'scss', 'sass', 'styl', 'css'],\n    {},\n    {}\n  );\n\n  cxjsPreset.registerTranspiler(module => /\\.m?jsx?$/.test(module.path), [\n    {\n      transpiler: babelTranspiler,\n      options: {\n        dynamicCSSModules: true,\n        compileNodeModulesWithEnv: true,\n\n        config: {\n          presets: ['es2015', 'react', 'stage-0'],\n          plugins: [\n            'transform-async-to-generator',\n            'transform-object-rest-spread',\n            'transform-decorators-legacy',\n            'transform-class-properties',\n            // Polyfills the runtime needed for async/await and generators\n            [\n              'transform-runtime',\n              {\n                helpers: false,\n                polyfill: false,\n                regenerator: true,\n              },\n            ],\n            [\n              'transform-regenerator',\n              {\n                // Async functions are converted to generators by babel-preset-env\n                async: false,\n              },\n            ],\n          ],\n        },\n      },\n    },\n  ]);\n\n  cxjsPreset.registerTranspiler(module => /\\.tsx?$/.test(module.path), [\n    { transpiler: tsTranspiler },\n    { transpiler: csbDynamicImportTranspiler },\n  ]);\n\n  cxjsPreset.registerTranspiler(module => /\\.css$/.test(module.path), [\n    { transpiler: stylesTranspiler },\n  ]);\n\n  cxjsPreset.registerTranspiler(module => /\\.json$/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n\n  const sassWithConfig = {\n    transpiler: sassTranspiler,\n    options: {},\n  };\n\n  const lessWithConfig = {\n    transpiler: lessTranspiler,\n    options: {},\n  };\n\n  const stylusWithConfig = {\n    transpiler: stylusTranspiler,\n    options: {},\n  };\n  const styles = {\n    css: [],\n    scss: [sassWithConfig],\n    sass: [sassWithConfig],\n    less: [lessWithConfig],\n    styl: [stylusWithConfig],\n  };\n\n  /**\n   * Registers transpilers for all different combinations\n   *\n   * @returns\n   */\n  function registerStyleTranspilers() {\n    return Object.keys(styles).forEach(type => {\n      cxjsPreset.registerTranspiler(\n        module => new RegExp(`\\\\.${type}`).test(module.path),\n        [...styles[type], { transpiler: stylesTranspiler }]\n      );\n    });\n  }\n\n  registerStyleTranspilers();\n\n  cxjsPreset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n\n  return cxjsPreset;\n}\n","import { basename, dirname, join } from 'path';\nimport stripANSI from 'strip-ansi';\n\nimport { LoaderContext, Transpiler } from 'sandpack-core';\nimport { Module } from 'sandpack-core/lib/types/module';\n\ntype ReasonModule = Module & {\n  moduleName: string;\n};\n\nfunction addScript(src) {\n  return new Promise(resolve => {\n    const s = document.createElement('script');\n    s.setAttribute('src', src);\n    document.body.appendChild(s);\n\n    s.onload = () => {\n      resolve();\n    };\n  });\n}\n\nconst IGNORED_DEPENDENCIES = ['ReactDOMRe', 'ReasonReact'];\n\nfunction getModuleName(path: string) {\n  const moduleParts = basename(path).split('.');\n  moduleParts.pop();\n\n  const unCapitalizedModuleName = moduleParts.join('.');\n  return (\n    unCapitalizedModuleName[0].toUpperCase() + unCapitalizedModuleName.slice(1)\n  );\n}\n\nconst cachedDependencies = new Map();\nconst global = window as any;\n\nfunction getDependencyList(\n  modules: Array<ReasonModule>,\n  list: Set<ReasonModule>,\n  module: ReasonModule\n) {\n  const cache = cachedDependencies.get(module.path);\n\n  const listFunction = module.path.endsWith('.re')\n    ? global.ocaml.reason_list_dependencies\n    : global.ocaml.list_dependencies;\n\n  const deps =\n    cache ||\n    listFunction(module.code)\n      .filter(x => IGNORED_DEPENDENCIES.indexOf(x) === -1)\n      .filter(x => !list.has(x));\n\n  if (!cache) {\n    // Didn't get it from the cache\n    deps.shift(); // Remove the first 0 value\n  }\n\n  if (module.path.startsWith('/node_modules')) {\n    cachedDependencies.set(module.path, deps);\n  }\n\n  deps.forEach(dep => {\n    const foundModule = modules.find(\n      x => x.moduleName === dep && !x.path.endsWith('.rei')\n    );\n\n    if (foundModule) {\n      getDependencyList(modules, list, foundModule);\n    }\n  });\n\n  list.add(module);\n}\n\nclass ReasonTranspiler extends Transpiler {\n  worker: Worker;\n\n  constructor() {\n    super('reason-loader');\n  }\n\n  async doTranspilation(\n    code: string,\n    loaderContext: LoaderContext\n  ): Promise<{ transpiledCode: string }> {\n    if (!global.ocaml) {\n      await addScript(\n        'https://cdn.jsdelivr.net/gh/jaredly/reason-react@more-docs/docs/bucklescript.js'\n      );\n      await addScript('https://reason.surge.sh/bucklescript-deps.js');\n      await addScript('https://unpkg.com/reason@3.3.4/refmt.js');\n    }\n\n    const reasonModules = loaderContext\n      .getModules()\n      .filter(\n        x =>\n          x.path.endsWith('.re') ||\n          x.path.endsWith('.rei') ||\n          x.path.endsWith('.ml')\n      )\n      .map(x => ({\n        ...x,\n        moduleName: getModuleName(x.path),\n      }));\n\n    const mainReasonModule: ReasonModule = reasonModules.find(\n      m => m.path === loaderContext._module.module.path\n    );\n\n    const modulesToAdd: Set<ReasonModule> = new Set();\n    getDependencyList(reasonModules, modulesToAdd, mainReasonModule);\n\n    modulesToAdd.forEach(m => {\n      if (m.path !== loaderContext._module.module.path) {\n        loaderContext.addTranspilationDependency(m.path, {});\n      }\n    });\n\n    const newCode = Array.from(modulesToAdd)\n      .map(x => {\n        const usedCode = x.path.endsWith('.re')\n          ? x.code\n          : global.printRE(global.parseML(x.code));\n\n        const { moduleName } = x;\n\n        const typesPath = join(\n          dirname(x.path),\n          basename(x.path, '.re') + '.rei'\n        );\n\n        const typesModule = reasonModules.find(\n          module => module.path === typesPath\n        );\n\n        let reasonCode = `module ${moduleName}`;\n\n        if (typesModule) {\n          reasonCode += `: {\\n${typesModule.code}\\n}`;\n        }\n\n        reasonCode += ` = {\n#1 ${moduleName}\n${usedCode}\n};`;\n\n        return reasonCode;\n      })\n      .join('\\n\\n');\n\n    const {\n      // eslint-disable-next-line camelcase\n      js_code,\n      js_error_msg: errorMessage,\n      row,\n      column,\n      text,\n    } = global.ocaml.reason_compile_super_errors(newCode);\n\n    if (errorMessage) {\n      const error = new Error(stripANSI(text));\n\n      error.name = 'Reason Compile Error';\n      // @ts-ignore\n      error.fileName = loaderContext._module.module.path;\n      // @ts-ignore\n      error.lineNumber = row + 1;\n      // @ts-ignore\n      error.columnNumber = column;\n      return Promise.reject(error);\n    }\n\n    return Promise.resolve({\n      transpiledCode: js_code,\n    });\n  }\n}\n\nconst transpiler = new ReasonTranspiler();\n\nexport { ReasonTranspiler };\n\nexport default transpiler;\n","export default {\n  'stdlib/reasonReact': '@jaredly/reason-react/lib/js/src/ReasonReact.js',\n  'stdlib/reasonReactOptimizedCreateClass':\n    '@jaredly/reason-react/lib/js/src/ReasonReactOptimizedCreateClass.js',\n  'stdlib/reactEventRe': '@jaredly/reason-react/lib/js/src/ReactEventRe.js',\n  'stdlib/reactDOMServerRe':\n    '@jaredly/reason-react/lib/js/src/ReactDOMServerRe.js',\n  'stdlib/reactDOMRe': '@jaredly/reason-react/lib/js/src/ReactDOMRe.js',\n  'stdlib/belt_MutableSet': '@jaredly/bs-core/lib/js/belt_MutableSet.js',\n  'stdlib/belt_MutableStack': '@jaredly/bs-core/lib/js/belt_MutableStack.js',\n  'stdlib/js_unsafe': '@jaredly/bs-core/lib/js/js_unsafe.js',\n  'stdlib/caml_string': '@jaredly/bs-core/lib/js/caml_string.js',\n  'stdlib/belt_internalMapString':\n    '@jaredly/bs-core/lib/js/belt_internalMapString.js',\n  'stdlib/belt_Id': '@jaredly/bs-core/lib/js/belt_Id.js',\n  'stdlib/caml_module': '@jaredly/bs-core/lib/js/caml_module.js',\n  'stdlib/js_internal': '@jaredly/bs-core/lib/js/js_internal.js',\n  'stdlib/char': '@jaredly/bs-core/lib/js/char.js',\n  'stdlib/js': '@jaredly/bs-core/lib/js/js.js',\n  'stdlib/caml_gc': '@jaredly/bs-core/lib/js/caml_gc.js',\n  'stdlib/js_null': '@jaredly/bs-core/lib/js/js_null.js',\n  'stdlib/belt_HashMapString': '@jaredly/bs-core/lib/js/belt_HashMapString.js',\n  'stdlib/int64': '@jaredly/bs-core/lib/js/int64.js',\n  'stdlib/sort': '@jaredly/bs-core/lib/js/sort.js',\n  'stdlib/belt_SortArrayInt': '@jaredly/bs-core/lib/js/belt_SortArrayInt.js',\n  'stdlib/caml_basic': '@jaredly/bs-core/lib/js/caml_basic.js',\n  'stdlib/js_result': '@jaredly/bs-core/lib/js/js_result.js',\n  'stdlib/caml_utils': '@jaredly/bs-core/lib/js/caml_utils.js',\n  'stdlib/js_promise': '@jaredly/bs-core/lib/js/js_promise.js',\n  'stdlib/js_obj': '@jaredly/bs-core/lib/js/js_obj.js',\n  'stdlib/belt_Map': '@jaredly/bs-core/lib/js/belt_Map.js',\n  'stdlib/js_console': '@jaredly/bs-core/lib/js/js_console.js',\n  'stdlib/caml_backtrace': '@jaredly/bs-core/lib/js/caml_backtrace.js',\n  'stdlib/oo': '@jaredly/bs-core/lib/js/oo.js',\n  'stdlib/caml_hash': '@jaredly/bs-core/lib/js/caml_hash.js',\n  'stdlib/belt_SortArray': '@jaredly/bs-core/lib/js/belt_SortArray.js',\n  'stdlib/random': '@jaredly/bs-core/lib/js/random.js',\n  'stdlib/stream': '@jaredly/bs-core/lib/js/stream.js',\n  'stdlib/belt_SetDict': '@jaredly/bs-core/lib/js/belt_SetDict.js',\n  'stdlib/caml_int32': '@jaredly/bs-core/lib/js/caml_int32.js',\n  'stdlib/format': '@jaredly/bs-core/lib/js/format.js',\n  'stdlib/stringLabels': '@jaredly/bs-core/lib/js/stringLabels.js',\n  'stdlib/belt_MutableSetString':\n    '@jaredly/bs-core/lib/js/belt_MutableSetString.js',\n  'stdlib/stdLabels': '@jaredly/bs-core/lib/js/stdLabels.js',\n  'stdlib/caml_lexer': '@jaredly/bs-core/lib/js/caml_lexer.js',\n  'stdlib/printf': '@jaredly/bs-core/lib/js/printf.js',\n  'stdlib/unixLabels': '@jaredly/bs-core/lib/js/unixLabels.js',\n  'stdlib/bs_obj': '@jaredly/bs-core/lib/js/bs_obj.js',\n  'stdlib/moreLabels': '@jaredly/bs-core/lib/js/moreLabels.js',\n  'stdlib/js_mapperRt': '@jaredly/bs-core/lib/js/js_mapperRt.js',\n  'stdlib/belt_Set': '@jaredly/bs-core/lib/js/belt_Set.js',\n  'stdlib/js_types': '@jaredly/bs-core/lib/js/js_types.js',\n  'stdlib/caml_oo': '@jaredly/bs-core/lib/js/caml_oo.js',\n  'stdlib/belt_internalMapInt':\n    '@jaredly/bs-core/lib/js/belt_internalMapInt.js',\n  'stdlib/pervasives': '@jaredly/bs-core/lib/js/pervasives.js',\n  'stdlib/scanf': '@jaredly/bs-core/lib/js/scanf.js',\n  'stdlib/std_exit': '@jaredly/bs-core/lib/js/std_exit.js',\n  'stdlib/belt': '@jaredly/bs-core/lib/js/belt.js',\n  'stdlib/caml_parser': '@jaredly/bs-core/lib/js/caml_parser.js',\n  'stdlib/js_cast': '@jaredly/bs-core/lib/js/js_cast.js',\n  'stdlib/belt_internalAVLset':\n    '@jaredly/bs-core/lib/js/belt_internalAVLset.js',\n  'stdlib/belt_HashSetInt': '@jaredly/bs-core/lib/js/belt_HashSetInt.js',\n  'stdlib/belt_MutableMapString':\n    '@jaredly/bs-core/lib/js/belt_MutableMapString.js',\n  'stdlib/caml_array': '@jaredly/bs-core/lib/js/caml_array.js',\n  'stdlib/belt_MutableSetInt': '@jaredly/bs-core/lib/js/belt_MutableSetInt.js',\n  'stdlib/digest': '@jaredly/bs-core/lib/js/digest.js',\n  'stdlib/marshal': '@jaredly/bs-core/lib/js/marshal.js',\n  'stdlib/belt_List': '@jaredly/bs-core/lib/js/belt_List.js',\n  'stdlib/caml_weak': '@jaredly/bs-core/lib/js/caml_weak.js',\n  'stdlib/js_string': '@jaredly/bs-core/lib/js/js_string.js',\n  'stdlib/callback': '@jaredly/bs-core/lib/js/callback.js',\n  'stdlib/queue': '@jaredly/bs-core/lib/js/queue.js',\n  'stdlib/camlinternalMod': '@jaredly/bs-core/lib/js/camlinternalMod.js',\n  'stdlib/caml_bytes': '@jaredly/bs-core/lib/js/caml_bytes.js',\n  'stdlib/camlinternalFormatBasics':\n    '@jaredly/bs-core/lib/js/camlinternalFormatBasics.js',\n  'stdlib/belt_MutableMap': '@jaredly/bs-core/lib/js/belt_MutableMap.js',\n  'stdlib/belt_internalSetInt':\n    '@jaredly/bs-core/lib/js/belt_internalSetInt.js',\n  'stdlib/belt_Array': '@jaredly/bs-core/lib/js/belt_Array.js',\n  'stdlib/caml_io': '@jaredly/bs-core/lib/js/caml_io.js',\n  'stdlib/camlinternalLazy': '@jaredly/bs-core/lib/js/camlinternalLazy.js',\n  'stdlib/gc': '@jaredly/bs-core/lib/js/gc.js',\n  'stdlib/belt_HashSetString': '@jaredly/bs-core/lib/js/belt_HashSetString.js',\n  'stdlib/belt_internalBuckets':\n    '@jaredly/bs-core/lib/js/belt_internalBuckets.js',\n  'stdlib/belt_HashMapInt': '@jaredly/bs-core/lib/js/belt_HashMapInt.js',\n  'stdlib/parsing': '@jaredly/bs-core/lib/js/parsing.js',\n  'stdlib/js_list': '@jaredly/bs-core/lib/js/js_list.js',\n  'stdlib/belt_MutableMapInt': '@jaredly/bs-core/lib/js/belt_MutableMapInt.js',\n  'stdlib/bs_string': '@jaredly/bs-core/lib/js/bs_string.js',\n  'stdlib/caml_primitive': '@jaredly/bs-core/lib/js/caml_primitive.js',\n  'stdlib/belt_internalSetString':\n    '@jaredly/bs-core/lib/js/belt_internalSetString.js',\n  'stdlib/js_boolean': '@jaredly/bs-core/lib/js/js_boolean.js',\n  'stdlib/list': '@jaredly/bs-core/lib/js/list.js',\n  'stdlib/js_float': '@jaredly/bs-core/lib/js/js_float.js',\n  'stdlib/js_int': '@jaredly/bs-core/lib/js/js_int.js',\n  'stdlib/unix': '@jaredly/bs-core/lib/js/unix.js',\n  'stdlib/js_int64': '@jaredly/bs-core/lib/js/js_int64.js',\n  'stdlib/set': '@jaredly/bs-core/lib/js/set.js',\n  'stdlib/array': '@jaredly/bs-core/lib/js/array.js',\n  'stdlib/arrayLabels': '@jaredly/bs-core/lib/js/arrayLabels.js',\n  'stdlib/bytes': '@jaredly/bs-core/lib/js/bytes.js',\n  'stdlib/caml_queue': '@jaredly/bs-core/lib/js/caml_queue.js',\n  'stdlib/caml_missing_polyfill':\n    '@jaredly/bs-core/lib/js/caml_missing_polyfill.js',\n  'stdlib/lazy': '@jaredly/bs-core/lib/js/lazy.js',\n  'stdlib/node': '@jaredly/bs-core/lib/js/node.js',\n  'stdlib/string': '@jaredly/bs-core/lib/js/string.js',\n  'stdlib/block': '@jaredly/bs-core/lib/js/block.js',\n  'stdlib/js_math': '@jaredly/bs-core/lib/js/js_math.js',\n  'stdlib/js_dict': '@jaredly/bs-core/lib/js/js_dict.js',\n  'stdlib/arg': '@jaredly/bs-core/lib/js/arg.js',\n  'stdlib/belt_MapInt': '@jaredly/bs-core/lib/js/belt_MapInt.js',\n  'stdlib/belt_internalAVLtree':\n    '@jaredly/bs-core/lib/js/belt_internalAVLtree.js',\n  'stdlib/belt_HashMap': '@jaredly/bs-core/lib/js/belt_HashMap.js',\n  'stdlib/js_global': '@jaredly/bs-core/lib/js/js_global.js',\n  'stdlib/belt_MutableQueue': '@jaredly/bs-core/lib/js/belt_MutableQueue.js',\n  'stdlib/js_null_undefined': '@jaredly/bs-core/lib/js/js_null_undefined.js',\n  'stdlib/js_option': '@jaredly/bs-core/lib/js/js_option.js',\n  'stdlib/caml_format': '@jaredly/bs-core/lib/js/caml_format.js',\n  'stdlib/printexc': '@jaredly/bs-core/lib/js/printexc.js',\n  'stdlib/genlex': '@jaredly/bs-core/lib/js/genlex.js',\n  'stdlib/caml_exceptions': '@jaredly/bs-core/lib/js/caml_exceptions.js',\n  'stdlib/weak': '@jaredly/bs-core/lib/js/weak.js',\n  'stdlib/sys': '@jaredly/bs-core/lib/js/sys.js',\n  'stdlib/filename': '@jaredly/bs-core/lib/js/filename.js',\n  'stdlib/caml_obj': '@jaredly/bs-core/lib/js/caml_obj.js',\n  'stdlib/belt_MapDict': '@jaredly/bs-core/lib/js/belt_MapDict.js',\n  'stdlib/complex': '@jaredly/bs-core/lib/js/complex.js',\n  'stdlib/js_exn': '@jaredly/bs-core/lib/js/js_exn.js',\n  'stdlib/hashtbl': '@jaredly/bs-core/lib/js/hashtbl.js',\n  'stdlib/belt_MapString': '@jaredly/bs-core/lib/js/belt_MapString.js',\n  'stdlib/js_json': '@jaredly/bs-core/lib/js/js_json.js',\n  'stdlib/js_vector': '@jaredly/bs-core/lib/js/js_vector.js',\n  'stdlib/js_date': '@jaredly/bs-core/lib/js/js_date.js',\n  'stdlib/belt_SetInt': '@jaredly/bs-core/lib/js/belt_SetInt.js',\n  'stdlib/caml_sys': '@jaredly/bs-core/lib/js/caml_sys.js',\n  'stdlib/js_nativeint': '@jaredly/bs-core/lib/js/js_nativeint.js',\n  'stdlib/js_undefined': '@jaredly/bs-core/lib/js/js_undefined.js',\n  'stdlib/caml_int64': '@jaredly/bs-core/lib/js/caml_int64.js',\n  'stdlib/caml_md5': '@jaredly/bs-core/lib/js/caml_md5.js',\n  'stdlib/caml_oo_curry': '@jaredly/bs-core/lib/js/caml_oo_curry.js',\n  'stdlib/belt_SetString': '@jaredly/bs-core/lib/js/belt_SetString.js',\n  'stdlib/caml_float': '@jaredly/bs-core/lib/js/caml_float.js',\n  'stdlib/bigarray': '@jaredly/bs-core/lib/js/bigarray.js',\n  'stdlib/caml_builtin_exceptions':\n    '@jaredly/bs-core/lib/js/caml_builtin_exceptions.js',\n  'stdlib/obj': '@jaredly/bs-core/lib/js/obj.js',\n  'stdlib/js_typed_array': '@jaredly/bs-core/lib/js/js_typed_array.js',\n  'stdlib/map': '@jaredly/bs-core/lib/js/map.js',\n  'stdlib/int32': '@jaredly/bs-core/lib/js/int32.js',\n  'stdlib/listLabels': '@jaredly/bs-core/lib/js/listLabels.js',\n  'stdlib/belt_Range': '@jaredly/bs-core/lib/js/belt_Range.js',\n  'stdlib/belt_Option': '@jaredly/bs-core/lib/js/belt_Option.js',\n  'stdlib/js_array': '@jaredly/bs-core/lib/js/js_array.js',\n  'stdlib/camlinternalFormat': '@jaredly/bs-core/lib/js/camlinternalFormat.js',\n  'stdlib/nativeint': '@jaredly/bs-core/lib/js/nativeint.js',\n  'stdlib/lexing': '@jaredly/bs-core/lib/js/lexing.js',\n  'stdlib/js_primitive': '@jaredly/bs-core/lib/js/js_primitive.js',\n  'stdlib/camlinternalOO': '@jaredly/bs-core/lib/js/camlinternalOO.js',\n  'stdlib/belt_SortArrayString':\n    '@jaredly/bs-core/lib/js/belt_SortArrayString.js',\n  'stdlib/buffer': '@jaredly/bs-core/lib/js/buffer.js',\n  'stdlib/bytesLabels': '@jaredly/bs-core/lib/js/bytesLabels.js',\n  'stdlib/belt_internalBucketsType':\n    '@jaredly/bs-core/lib/js/belt_internalBucketsType.js',\n  'stdlib/curry': '@jaredly/bs-core/lib/js/curry.js',\n  'stdlib/belt_internalSetBuckets':\n    '@jaredly/bs-core/lib/js/belt_internalSetBuckets.js',\n  'stdlib/belt_HashSet': '@jaredly/bs-core/lib/js/belt_HashSet.js',\n  'stdlib/stack': '@jaredly/bs-core/lib/js/stack.js',\n  'bs-platform': '@jaredly/bs-core',\n};\n","import { Preset } from 'sandpack-core';\n\nimport stylesTranspiler from '../../transpilers/style';\nimport babelTranspiler from '../../transpilers/babel';\nimport jsonTranspiler from '../../transpilers/json';\nimport rawTranspiler from '../../transpilers/raw';\nimport reasonTranspiler from '../../transpilers/reason';\n\nimport reasonRemap from './reason-remap';\n\nexport default function initialize() {\n  const preset = new Preset(\n    'reason',\n    ['web.js', 'js', 're', 'json', 'web.jsx', 'jsx'],\n    reasonRemap,\n    { hasDotEnv: true }\n  );\n\n  preset.registerTranspiler(module => /\\.css$/.test(module.path), [\n    { transpiler: stylesTranspiler },\n  ]);\n\n  preset.registerTranspiler(module => /\\.m?jsx?$/.test(module.path), [\n    { transpiler: babelTranspiler },\n  ]);\n\n  preset.registerTranspiler(module => /\\.json$/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n\n  preset.registerTranspiler(module => /\\.re$/.test(module.path), [\n    { transpiler: reasonTranspiler },\n    { transpiler: babelTranspiler, options: { simpleRequire: true } },\n  ]);\n\n  preset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n\n  return preset;\n}\n","import { dispatch } from 'codesandbox-api';\nimport { LoaderContext } from 'sandpack-core';\nimport { StyleTranspiler } from '../../../transpilers/style';\nimport insertCss from '../../../transpilers/style/utils/insert-css';\nimport toDefinition from '../../../transpilers/style/utils/to-definition';\nimport getModules from '../../../transpilers/style/get-modules';\n\nconst getStyleId = (id: string) => id + '-css';\n\nclass DojoStyleTranspiler extends StyleTranspiler {\n  async doTranspilation(code: string, loaderContext: LoaderContext) {\n    const id = getStyleId(loaderContext._module.getId());\n    const { path } = loaderContext;\n    let modules = loaderContext.getModules();\n    let result = modules.find(module => module.path === `${path}.js`);\n\n    if (!result && path.indexOf('/node_modules/') > -1) {\n      try {\n        await loaderContext.resolveTranspiledModuleAsync(`${path}.js`, {\n          ignoredExtensions: [],\n        });\n      } catch {\n        // Do nothing\n      }\n    }\n    modules = loaderContext.getModules();\n    result = modules.find(module => module.path === `${path}.js`);\n    if (result) {\n      return { transpiledCode: `${insertCss(id, code)}\\n${result.code}` };\n    }\n\n    const { code: packageJson } = modules.find(\n      module => module.path === '/package.json'\n    );\n    const { name: packageName } = JSON.parse(packageJson);\n    const [, baseName] = /\\/([^/.]*)[^/]*$/.exec(path);\n    const key = `${packageName}/${baseName}`;\n    const { css, exportTokens } = await getModules(code, loaderContext);\n    let cssResult = insertCss(id, css);\n    cssResult += `\\nmodule.exports=${JSON.stringify({\n      ' _key': key,\n      ...exportTokens,\n    })};`;\n    dispatch({ type: 'add-extra-lib', path, code: toDefinition(exportTokens) });\n    return { transpiledCode: cssResult };\n  }\n}\n\nconst transpiler = new DojoStyleTranspiler();\n\nexport { DojoStyleTranspiler as StyleTranspiler };\n\nexport default transpiler;\n","import { join, absolute } from '@codesandbox/common/lib/utils/path';\nimport { Preset } from 'sandpack-core';\nimport csbDynamicImportTranspiler from 'sandpack-core/lib/transpiler/transpilers/csb-dynamic-import';\n\nimport typescriptTranspiler from '../../transpilers/typescript';\nimport rawTranspiler from '../../transpilers/raw';\nimport jsonTranspiler from '../../transpilers/json';\nimport stylesTranspiler from '../../transpilers/style';\nimport dojoStylesTranspiler from './transpilers/style';\nimport babelTranspiler from '../../transpilers/babel';\n\nexport default function initialize() {\n  const preset = new Preset(\n    '@dojo/cli-create-app',\n    ['ts', 'tsx', 'js', 'json'],\n    {},\n    {\n      setup: async manager => {\n        const stylesPath = absolute(join('src', 'main.css'));\n\n        try {\n          const tModule = await manager.resolveTranspiledModuleAsync(\n            stylesPath,\n            null\n          );\n          await tModule.transpile(manager);\n          tModule.setIsEntry(true);\n          tModule.evaluate(manager);\n        } catch (e) {\n          if (e.type === 'module-not-found') {\n            // Do nothing\n          } else {\n            throw e;\n          }\n        }\n      },\n    }\n  );\n\n  preset.registerTranspiler(module => /\\.tsx?$/.test(module.path), [\n    { transpiler: typescriptTranspiler },\n    { transpiler: csbDynamicImportTranspiler }\n  ]);\n\n  preset.registerTranspiler(module => /\\.m?jsx?$/.test(module.path), [\n    {\n      transpiler: babelTranspiler,\n      options: {\n        isV7: true,\n        config: {\n          parserOpts: {\n            plugins: ['objectRestSpread'],\n          },\n        },\n      },\n    },\n  ]);\n\n  preset.registerTranspiler(module => /\\.json$/.test(module.path), [\n    { transpiler: jsonTranspiler },\n  ]);\n\n  preset.registerTranspiler(module => /\\.m\\.css$/.test(module.path), [\n    { transpiler: dojoStylesTranspiler },\n  ]);\n\n  preset.registerTranspiler(module => /\\.css$/.test(module.path), [\n    { transpiler: stylesTranspiler },\n  ]);\n\n  preset.registerTranspiler(() => true, [{ transpiler: rawTranspiler }]);\n\n  return preset;\n}\n","import { Preset, Manager } from 'sandpack-core';\nimport rawTranspiler from '../../transpilers/raw';\nimport babelTranspiler from '../../transpilers/babel';\nimport jsonTranspiler from '../../transpilers/json';\n\nconst transpilerMap = {\n  'codesandbox:raw': rawTranspiler,\n  'codesandbox:json': jsonTranspiler,\n  'codesandbox:babel': babelTranspiler,\n};\n\nasync function registerTranspilers(\n  manager: Manager,\n  preset: Preset,\n  transpilerConfig: { [expression: string]: string[] }\n) {\n  const savedTranspilers = {};\n  const configModule = manager.resolveTranspiledModule(\n    '/.codesandbox/template.json',\n    '/'\n  );\n  configModule.setIsEntry(true);\n\n  const initializers = await Promise.all(\n    Object.keys(transpilerConfig).map(async expression => {\n      const transpilers = transpilerConfig[expression];\n\n      const evaluatedTranspilers = await Promise.all(\n        transpilers.map(async t => {\n          if (savedTranspilers[t]) {\n            return savedTranspilers[t];\n          }\n\n          if (t.startsWith('codesandbox:')) {\n            const transpiler = transpilerMap[t];\n\n            if (!transpiler) {\n              throw new Error(\n                `Could not register custom transpiler: ${t} is unknown to Sandpack.`\n              );\n            }\n\n            return { transpiler };\n          }\n\n          const tModule = manager.resolveTranspiledModule(\n            t,\n            '/.codesandbox/template.json'\n          );\n\n          if (tModule.shouldTranspile()) {\n            tModule.initiators.add(configModule);\n            configModule.dependencies.add(tModule);\n\n            await tModule.transpile(manager);\n          }\n\n          const transpiler = tModule.compilation\n            ? tModule.compilation.exports\n            : tModule.evaluate(manager);\n\n          savedTranspilers[t] = transpiler;\n\n          return {\n            transpiler,\n          };\n        })\n      );\n\n      return () => {\n        const regex = new RegExp(expression);\n        preset.registerTranspiler(\n          module => regex.test(module.path),\n          evaluatedTranspilers\n        );\n      };\n    })\n  );\n\n  preset.resetTranspilers();\n\n  initializers.forEach(x => x());\n}\n\nexport default function initialize() {\n  let initialized = false;\n  const customPreset = new Preset('custom', undefined, undefined, {\n    setup: async (manager: Manager) => {\n      // if (updatedModules.some(m => m.module.path.startsWith('/.codesandbox'))) {\n      //   initialized = false;\n      //   manager.clearCompiledCache();\n      //   manager.clearCache();\n      // }\n\n      if (!initialized) {\n        // eslint-disable-next-line no-console\n        console.log('Initializing custom template');\n        customPreset.resetTranspilers();\n        // Our JS/JSON transpiler to transpile the transpilers\n        customPreset.registerTranspiler(m => /\\.jsx?$/.test(m.path), [\n          { transpiler: babelTranspiler },\n        ]);\n\n        customPreset.registerTranspiler(m => /\\.json$/.test(m.path), [\n          { transpiler: jsonTranspiler },\n        ]);\n\n        const customConfig =\n          manager.configurations.customTemplate &&\n          manager.configurations.customTemplate.parsed;\n        if (!customConfig) {\n          throw new Error('No configuration specified for the custom template');\n        }\n\n        const { sandpack } = customConfig;\n\n        if (sandpack) {\n          customPreset.defaultAliases = sandpack.defaultAliases || [];\n\n          if (sandpack.transpilers) {\n            await registerTranspilers(\n              manager,\n              customPreset,\n              sandpack.transpilers\n            );\n          }\n        }\n\n        customPreset.registerTranspiler(() => true, [\n          { transpiler: rawTranspiler },\n        ]);\n        initialized = true;\n      }\n    },\n  });\n\n  return customPreset;\n}\n","/* eslint-disable import/no-named-as-default-member, import/default, import/no-named-as-default */\nimport {\n  react,\n  vue,\n  parcel,\n  svelte,\n  preact,\n  reactTs,\n  angular,\n  cxjs,\n  babel,\n  dojo,\n  custom,\n  reason,\n} from '@codesandbox/common/lib/templates';\n\nimport { isBabel7 } from '@codesandbox/common/lib/utils/is-babel-7';\nimport { isPreact10 } from '@codesandbox/common/lib/utils/is-preact-10';\nimport { PackageJSON } from '@codesandbox/common/lib/types';\nimport {\n  reactPresetV1,\n  reactPresetV3,\n  reactPresetV4,\n} from './presets/create-react-app';\nimport reactTsPreset from './presets/create-react-app-typescript';\nimport vuePreset from './presets/vue-cli';\nimport { preactPreset, preactPresetV8 } from './presets/preact-cli';\nimport sveltePreset from './presets/svelte';\nimport angularPreset from './presets/angular-cli';\nimport parcelPreset from './presets/parcel';\nimport babelPreset from './presets/babel-repl';\nimport cxjsPreset from './presets/cxjs';\nimport reasonPreset from './presets/reason';\nimport dojoPreset from './presets/dojo';\nimport customPreset from './presets/custom';\nimport { supportsNewReactTransform } from './presets/create-react-app/utils';\n\nexport default async function getPreset(template: string, pkg: PackageJSON) {\n  switch (template) {\n    case react.name:\n      if (\n        await supportsNewReactTransform(pkg.dependencies, pkg.devDependencies)\n      ) {\n        return reactPresetV4();\n      }\n\n      if (isBabel7(pkg.dependencies, pkg.devDependencies)) {\n        return reactPresetV3();\n      }\n\n      return reactPresetV1();\n\n    case preact.name:\n      if (isPreact10(pkg.dependencies, pkg.devDependencies)) {\n        return preactPreset();\n      }\n\n      return preactPresetV8();\n    case reactTs.name:\n      return reactTsPreset();\n    case reason.name:\n      return reasonPreset();\n    case vue.name:\n      return vuePreset();\n\n    case svelte.name:\n      return sveltePreset();\n    case angular.name:\n      return angularPreset();\n    case parcel.name:\n      return parcelPreset();\n    case babel.name:\n      return babelPreset();\n    case cxjs.name:\n      return cxjsPreset();\n    case dojo.name:\n      return dojoPreset();\n    case custom.name:\n      return customPreset();\n    default:\n      return reactPresetV3();\n  }\n}\n","function getExternalResourcesConcatenation(resources: Array<string>) {\n  return resources.join('');\n}\n/* eslint-disable no-cond-assign */\nfunction clearExternalResources() {\n  let el: HTMLElement | null = null;\n  // eslint-disable-next-line no-cond-assign\n  while ((el = document.getElementById('external-css'))) {\n    el.remove();\n  }\n\n  // eslint-disable-next-line no-cond-assign\n  while ((el = document.getElementById('external-js'))) {\n    el.remove();\n  }\n}\n/* eslint-enable */\n\nexport function createExternalCSSLink(resource: string): HTMLLinkElement {\n  const link = document.createElement('link');\n\n  link.id = 'external-css';\n  link.rel = 'stylesheet';\n  link.type = 'text/css';\n  link.href = resource;\n  link.media = 'all';\n\n  return link;\n}\n\nfunction addCSS(resource: string) {\n  const head = document.getElementsByTagName('head')[0];\n  const link = createExternalCSSLink(resource);\n\n  head.appendChild(link);\n\n  return link;\n}\n\nexport function createExternalJSLink(resource): HTMLScriptElement {\n  const script = document.createElement('script');\n\n  script.setAttribute('src', resource);\n  script.async = false;\n  script.setAttribute('id', 'external-js');\n\n  return script;\n}\n\nfunction addJS(resource: string) {\n  const script = createExternalJSLink(resource);\n\n  document.head.appendChild(script);\n\n  return script;\n}\n\nexport function resourceIsCss(resource: string): boolean {\n  const match = resource.match(/\\.([^.]*)$/);\n\n  return (match && match[1] === 'css') || resource.includes('fonts.googleapis');\n}\n\nfunction addResource(resource: string) {\n  const el = resourceIsCss(resource) ? addCSS(resource) : addJS(resource);\n\n  return new Promise(r => {\n    el.onload = r;\n    el.onerror = r;\n  });\n}\n\nfunction waitForLoaded() {\n  return new Promise(resolve => {\n    if (document.readyState !== 'complete') {\n      window.addEventListener('load', resolve);\n    } else {\n      resolve();\n    }\n  });\n}\n\nlet cachedExternalResources = '';\n\nexport default async function handleExternalResources(externalResources) {\n  const extResString = getExternalResourcesConcatenation(externalResources);\n  if (extResString !== cachedExternalResources) {\n    clearExternalResources();\n    await Promise.all(externalResources.map(addResource));\n    cachedExternalResources = extResString;\n\n    return waitForLoaded();\n  }\n\n  return Promise.resolve();\n}\n","let iframeReference: HTMLIFrameElement = null;\nlet iframeRenderedAt = 0;\n\nexport function resetOverlay() {\n  try {\n    // We add a delay to unmounting the iframe if the iframe has only just\n    // appeared. We want to do this, because we want to prevent a flicker for\n    // the user, which is a bad perceivement.\n    const delay = Date.now() - iframeRenderedAt > 1000 ? 0 : 1000;\n\n    /**\n     * To make sure no iframe rendered between now and the clear we do\n     * after a timeout, we keep track of the last rendered at and compare\n     * it before clearing the iframe\n     */\n    const lastIframeRenderedAt = iframeRenderedAt;\n\n    setTimeout(() => {\n      if (iframeReference && lastIframeRenderedAt === iframeRenderedAt) {\n        iframeReference.style.opacity = '0';\n        setTimeout(() => {\n          if (iframeReference.parentNode) {\n            document.body.removeChild(iframeReference);\n          }\n        }, 500);\n      }\n    }, delay);\n  } catch (e) {\n    /* nothing */\n  }\n}\n\nconst setIframeStyle = (iframe: HTMLIFrameElement, showFullScreen: boolean) => {\n  iframe.setAttribute(\n    'style',\n    showFullScreen\n      ? `position: fixed; top: 0; left: 0; width: 100%; height: 100%; border: none; z-index: 214748366;opacity: 1;transition: opacity 0.15s ease-in;`\n      : `position: fixed; top: 10px; left: 10px; height: 45px; width: 45px; border-radius: 2px; border: none; z-index: 214748366; opacity: 0;transition: opacity 0.15s ease-in;`\n  );\n};\n\nfunction createIframe(showFullScreen: boolean): Promise<HTMLIFrameElement> {\n  return new Promise(resolve => {\n    iframeRenderedAt = Date.now();\n    if (iframeReference) {\n      document.body.appendChild(iframeReference);\n      requestAnimationFrame(() => {\n        iframeReference.style.opacity = '1';\n      });\n      setIframeStyle(iframeReference, showFullScreen);\n      resolve(iframeReference);\n      return;\n    }\n\n    const iframe = document.createElement('iframe');\n    setIframeStyle(iframe, showFullScreen);\n\n    iframe.setAttribute('id', 'frame');\n\n    iframeReference = iframe;\n\n    document.body.appendChild(iframe);\n\n    requestAnimationFrame(() => {\n      iframe.style.opacity = '1';\n    });\n\n    if (iframe.contentDocument) {\n      resolve(iframe);\n    } else if (document.getElementById('frame')) {\n      document.getElementById('frame').onload = () => {\n        resolve(iframe);\n      };\n    } else {\n      resolve(iframe);\n    }\n  });\n}\n\nexport async function createOverlay(html: string, showFullScreen: boolean) {\n  const iframe: HTMLIFrameElement = await createIframe(showFullScreen);\n\n  const isMounted = !!document.getElementById('frame');\n  if (!isMounted) {\n    document.body.appendChild(iframe);\n  }\n\n  iframe.contentDocument.body.innerHTML = html;\n\n  return iframe;\n}\n","// @ts-ignore\nimport indicatorHtml from '!raw-loader!./indicator-screen.html';\n// This is the loading screen\n// @ts-ignore\nimport loadingHtml from '!raw-loader!./loading-screen.html';\n\nimport { createOverlay, resetOverlay } from './overlay-manager';\n\ntype LoadingScreen = {\n  type: 'loading';\n  text: string;\n  showFullScreen?: boolean;\n};\n\ntype Screen = LoadingScreen;\n\nlet currentScreen: Screen = null;\nlet loadTimeoutID: number = null;\nlet iframeReference = null;\n\nfunction changeText(text: string) {\n  if (iframeReference) {\n    if (\n      iframeReference.contentDocument &&\n      iframeReference.contentDocument.getElementsByClassName('text') &&\n      iframeReference.contentDocument.getElementsByClassName('text').item(0)\n    ) {\n      iframeReference.contentDocument\n        .getElementsByClassName('text')\n        .item(0).textContent = text;\n    }\n  }\n}\n\nexport function resetScreen() {\n  currentScreen = null;\n  iframeReference = null;\n  resetOverlay();\n\n  clearTimeout(loadTimeoutID);\n  loadTimeoutID = null;\n}\n\nexport default function setScreen(screen: Screen) {\n  const showFullScreen =\n    typeof screen.showFullScreen === 'undefined' ? true : screen.showFullScreen;\n\n  if (!iframeReference) {\n    if (!loadTimeoutID) {\n      // Give the illusion of faster loading by showing the loader screen later\n      loadTimeoutID = window.setTimeout(\n        async () => {\n          if (!iframeReference && currentScreen) {\n            iframeReference = await createOverlay(\n              showFullScreen ? loadingHtml : indicatorHtml,\n              showFullScreen\n            );\n          }\n\n          if (currentScreen) {\n            changeText(currentScreen.text);\n          }\n\n          loadTimeoutID = null;\n        },\n        showFullScreen ? 1000 : 0\n      );\n    }\n  } else if (currentScreen) {\n    changeText(screen.text);\n  }\n\n  currentScreen = screen;\n}\n","import parseConfigurations from '@codesandbox/common/lib/templates/configuration/parse';\nimport getDefinition, {\n  TemplateType,\n} from '@codesandbox/common/lib/templates/index';\nimport { ParsedConfigurationFiles } from '@codesandbox/common/lib/templates/template';\nimport _debug from '@codesandbox/common/lib/utils/debug';\nimport { isBabel7 } from '@codesandbox/common/lib/utils/is-babel-7';\nimport { absolute } from '@codesandbox/common/lib/utils/path';\nimport VERSION from '@codesandbox/common/lib/version';\nimport { clearErrorTransformers, dispatch, reattach } from 'codesandbox-api';\nimport { flatten } from 'lodash';\nimport initializeErrorTransformers from 'sandbox-hooks/errors/transformers';\nimport { inject, unmount } from 'sandbox-hooks/react-error-overlay/overlay';\nimport {\n  consumeCache,\n  deleteAPICache,\n  saveCache,\n} from 'sandpack-core/lib/cache';\nimport { Module } from 'sandpack-core/lib/types/module';\nimport * as metrics from '@codesandbox/common/lib/utils/metrics';\nimport { NpmRegistry } from '@codesandbox/common/lib/types';\nimport { Manager, TranspiledModule } from 'sandpack-core';\n\nimport { loadDependencies, NPMDependencies } from 'sandpack-core/lib/npm';\nimport { NpmRegistryFetcher } from 'sandpack-core/lib/npm/dynamic/fetch-protocols/npm-registry';\nimport {\n  evalBoilerplates,\n  findBoilerplate,\n  getBoilerplates,\n} from './boilerplates';\nimport defaultBoilerplates from './boilerplates/default-boilerplates';\nimport createCodeSandboxOverlay from './codesandbox-overlay';\nimport getPreset from './eval';\nimport handleExternalResources from './external-resources';\nimport setScreen, { resetScreen } from './status-screen';\nimport { showRunOnClick } from './status-screen/run-on-click';\nimport { SCRIPT_VERSION } from '.';\n\nlet initializedResizeListener = false;\nlet manager: Manager | null = null;\nlet actionsEnabled = false;\n\nconst debug = _debug('cs:compiler');\n\nexport function areActionsEnabled() {\n  return actionsEnabled;\n}\n\nexport function getCurrentManager(): Manager | null {\n  return manager;\n}\n\nexport function getHTMLParts(html: string) {\n  if (html.includes('<body>')) {\n    const bodyMatcher = /<body.*>([\\s\\S]*)<\\/body>/m;\n    const headMatcher = /<head>([\\s\\S]*)<\\/head>/m;\n\n    const headMatch = html.match(headMatcher);\n    const bodyMatch = html.match(bodyMatcher);\n    const head = headMatch && headMatch[1] ? headMatch[1] : '';\n    const body = bodyMatch && bodyMatch[1] ? bodyMatch[1] : html;\n\n    return { body, head };\n  }\n\n  return { head: '', body: html };\n}\n\nlet testRunner: import('./eval/tests/jest-lite').default | undefined;\nfunction sendTestCount(modules: { [path: string]: Module }) {\n  const tests = testRunner.findTests(modules);\n\n  dispatch({\n    type: 'test',\n    event: 'test_count',\n    count: tests.length,\n  });\n}\n\nlet firstLoad = true;\nlet hadError = false;\nlet lastHeadHTML = null;\nlet lastBodyHTML = null;\nlet lastHeight = 0;\nlet changedModuleCount = 0;\nlet usedCache = false;\n\nconst DEPENDENCY_ALIASES = {\n  '@vue/cli-plugin-babel': '@vue/babel-preset-app',\n};\n\n// TODO make devDependencies lazy loaded by the packager\nconst WHITELISTED_DEV_DEPENDENCIES = [\n  'redux-devtools',\n  'redux-devtools-dock-monitor',\n  'redux-devtools-log-monitor',\n  'redux-logger',\n  'enzyme',\n  'react-addons-test-utils',\n  'react-test-renderer',\n  'identity-obj-proxy',\n  'react-refresh',\n];\n\nconst BABEL_DEPENDENCIES = [\n  'babel-preset-env',\n  'babel-preset-latest',\n  'babel-preset-es2015',\n  'babel-preset-es2015-loose',\n  'babel-preset-es2016',\n  'babel-preset-es2017',\n  'babel-preset-react',\n  'babel-preset-stage-0',\n  'babel-preset-stage-1',\n  'babel-preset-stage-2',\n  'babel-preset-stage-3',\n];\n\n// Dependencies that we actually don't need, we will replace this by a dynamic\n// system in the future\nconst PREINSTALLED_DEPENDENCIES = [\n  'react-scripts',\n  'react-scripts-ts',\n  'parcel-bundler',\n  'babel-plugin-check-es2015-constants',\n  'babel-plugin-external-helpers',\n  'babel-plugin-inline-replace-variables',\n  'babel-plugin-syntax-async-functions',\n  'babel-plugin-syntax-async-generators',\n  'babel-plugin-syntax-class-constructor-call',\n  'babel-plugin-syntax-class-properties',\n  'babel-plugin-syntax-decorators',\n  'babel-plugin-syntax-do-expressions',\n  'babel-plugin-syntax-exponentiation-operator',\n  'babel-plugin-syntax-export-extensions',\n  'babel-plugin-syntax-flow',\n  'babel-plugin-syntax-function-bind',\n  'babel-plugin-syntax-function-sent',\n  'babel-plugin-syntax-jsx',\n  'babel-plugin-syntax-object-rest-spread',\n  'babel-plugin-syntax-trailing-function-commas',\n  'babel-plugin-transform-async-functions',\n  'babel-plugin-transform-async-to-generator',\n  'babel-plugin-transform-async-to-module-method',\n  'babel-plugin-transform-class-constructor-call',\n  'babel-plugin-transform-class-properties',\n  'babel-plugin-transform-decorators',\n  'babel-plugin-transform-decorators-legacy',\n  'babel-plugin-transform-do-expressions',\n  'babel-plugin-transform-es2015-arrow-functions',\n  'babel-plugin-transform-es2015-block-scoped-functions',\n  'babel-plugin-transform-es2015-block-scoping',\n  'babel-plugin-transform-es2015-classes',\n  'babel-plugin-transform-es2015-computed-properties',\n  'babel-plugin-transform-es2015-destructuring',\n  'babel-plugin-transform-es2015-duplicate-keys',\n  'babel-plugin-transform-es2015-for-of',\n  'babel-plugin-transform-es2015-function-name',\n  'babel-plugin-transform-es2015-instanceof',\n  'babel-plugin-transform-es2015-literals',\n  'babel-plugin-transform-es2015-modules-amd',\n  'babel-plugin-transform-es2015-modules-commonjs',\n  'babel-plugin-transform-es2015-modules-systemjs',\n  'babel-plugin-transform-es2015-modules-umd',\n  'babel-plugin-transform-es2015-object-super',\n  'babel-plugin-transform-es2015-parameters',\n  'babel-plugin-transform-es2015-shorthand-properties',\n  'babel-plugin-transform-es2015-spread',\n  'babel-plugin-transform-es2015-sticky-regex',\n  'babel-plugin-transform-es2015-template-literals',\n  'babel-plugin-transform-es2015-typeof-symbol',\n  'babel-plugin-transform-es2015-unicode-regex',\n  'babel-plugin-transform-es3-member-expression-literals',\n  'babel-plugin-transform-es3-property-literals',\n  'babel-plugin-transform-es5-property-mutators',\n  'babel-plugin-transform-eval',\n  'babel-plugin-transform-exponentiation-operator',\n  'babel-plugin-transform-export-extensions',\n  'babel-plugin-transform-flow-comments',\n  'babel-plugin-transform-flow-strip-types',\n  'babel-plugin-transform-function-bind',\n  'babel-plugin-transform-jscript',\n  'babel-plugin-transform-object-assign',\n  'babel-plugin-transform-object-rest-spread',\n  'babel-plugin-transform-object-set-prototype-of-to-assign',\n  'babel-plugin-transform-proto-to-assign',\n  'babel-plugin-transform-react-constant-elements',\n  'babel-plugin-transform-react-display-name',\n  'babel-plugin-transform-react-inline-elements',\n  'babel-plugin-transform-react-jsx',\n  'babel-plugin-transform-react-jsx-compat',\n  'babel-plugin-transform-react-jsx-self',\n  'babel-plugin-transform-react-jsx-source',\n  'babel-plugin-transform-regenerator',\n  'babel-plugin-transform-runtime',\n  'babel-plugin-transform-strict-mode',\n  'babel-plugin-undeclared-variables-check',\n  'babel-plugin-dynamic-import-node',\n  'babel-plugin-detective',\n  'babel-plugin-transform-prevent-infinite-loops',\n  'babel-plugin-transform-vue-jsx',\n  'flow-bin',\n  ...BABEL_DEPENDENCIES,\n];\n\nfunction getDependencies(\n  parsedPackage,\n  templateDefinition,\n  configurations\n): NPMDependencies {\n  const {\n    dependencies: d = {},\n    peerDependencies = {},\n    devDependencies = {},\n  } = parsedPackage;\n\n  let returnedDependencies = { ...peerDependencies };\n\n  const foundWhitelistedDevDependencies = [...WHITELISTED_DEV_DEPENDENCIES];\n\n  // Add all babel plugins/presets to whitelisted dependencies\n  if (configurations && configurations.babel && configurations.babel.parsed) {\n    flatten(configurations.babel.parsed.presets || [])\n      .filter(p => typeof p === 'string')\n      .forEach((p: string) => {\n        const [first, ...parts] = p.split('/');\n        const prefixedName = p.startsWith('@')\n          ? first + '/babel-preset-' + parts.join('/')\n          : `babel-preset-${p}`;\n\n        foundWhitelistedDevDependencies.push(p);\n        foundWhitelistedDevDependencies.push(prefixedName);\n      });\n\n    flatten(configurations.babel.parsed.plugins || [])\n      .filter(p => typeof p === 'string')\n      .forEach((p: string) => {\n        const [first, ...parts] = p.split('/');\n        const prefixedName = p.startsWith('@')\n          ? first + '/babel-plugin-' + parts.join('/')\n          : `babel-plugin-${p}`;\n\n        foundWhitelistedDevDependencies.push(p);\n        foundWhitelistedDevDependencies.push(prefixedName);\n      });\n  }\n\n  Object.keys(d).forEach(dep => {\n    const usedDep = DEPENDENCY_ALIASES[dep] || dep;\n\n    if (dep === 'reason-react') {\n      return; // is replaced\n    }\n\n    returnedDependencies[usedDep] = d[dep];\n  });\n\n  Object.keys(devDependencies).forEach(dep => {\n    const usedDep = DEPENDENCY_ALIASES[dep] || dep;\n\n    if (foundWhitelistedDevDependencies.indexOf(usedDep) > -1) {\n      if (\n        usedDep === '@vue/babel-preset-app' &&\n        devDependencies[dep].startsWith('^3')\n      ) {\n        // Native modules got added in 3.7.0, we need to hardcode to latest\n        // working version of the babel plugin as a fix. https://twitter.com/notphanan/status/1122475053633941509\n        returnedDependencies[usedDep] = '3.6.0';\n        return;\n      }\n\n      returnedDependencies[usedDep] = devDependencies[dep];\n    }\n  });\n\n  const sandpackConfig =\n    (configurations.customTemplate &&\n      configurations.customTemplate.parsed &&\n      configurations.customTemplate.parsed.sandpack) ||\n    {};\n\n  const preinstalledDependencies =\n    sandpackConfig.preInstalledDependencies == null\n      ? PREINSTALLED_DEPENDENCIES\n      : sandpackConfig.preInstalledDependencies;\n\n  if (templateDefinition.name === 'reason') {\n    returnedDependencies = {\n      ...returnedDependencies,\n      '@jaredly/bs-core': '3.0.0-alpha.2',\n      '@jaredly/reason-react': '0.3.4',\n    };\n  }\n\n  // Always include this, because most sandboxes need this with babel6 and the\n  // packager will only include the package.json for it.\n  if (isBabel7(d, devDependencies)) {\n    returnedDependencies['@babel/runtime'] =\n      returnedDependencies['@babel/runtime'] || '^7.3.1';\n  } else {\n    returnedDependencies['babel-runtime'] =\n      returnedDependencies['babel-runtime'] || '6.26.0';\n  }\n\n  returnedDependencies['node-libs-browser'] = '2.2.1';\n\n  preinstalledDependencies.forEach(dep => {\n    if (returnedDependencies[dep]) {\n      delete returnedDependencies[dep];\n    }\n  });\n\n  return returnedDependencies;\n}\n\nasync function initializeManager(\n  sandboxId: string,\n  template: TemplateType,\n  modules: { [path: string]: Module },\n  configurations: ParsedConfigurationFiles,\n  {\n    hasFileResolver = false,\n    customNpmRegistries = [],\n  }: { hasFileResolver?: boolean; customNpmRegistries?: NpmRegistry[] } = {}\n) {\n  const newManager = new Manager(\n    sandboxId,\n    await getPreset(template, configurations.package.parsed),\n    modules,\n    {\n      hasFileResolver,\n      versionIdentifier: SCRIPT_VERSION,\n    }\n  );\n\n  // Add the custom registered npm registries\n  customNpmRegistries.forEach(registry => {\n    const cleanUrl = registry.registryUrl.replace(/\\/$/, '');\n\n    const options = registry.limitToScopes\n      ? {\n          scopeWhitelist: registry.enabledScopes,\n          // With our custom proxy on the server we want to handle downloading\n          // the tarball. So we proxy it.\n          provideTarballUrl: (name: string, version: string) =>\n            `${cleanUrl}/${name.replace('/', '%2f')}/${version}`,\n        }\n      : {};\n\n    const protocol = new NpmRegistryFetcher(cleanUrl, options);\n\n    newManager.prependNpmProtocolDefinition({\n      protocol,\n      condition: protocol.condition,\n    });\n  });\n\n  return newManager;\n}\n\nasync function updateManager(\n  managerModules: { [path: string]: Module },\n  configurations: ParsedConfigurationFiles\n): Promise<TranspiledModule[]> {\n  manager.updateConfigurations(configurations);\n  await manager.preset.setup(manager);\n  return manager.updateData(managerModules).then(x => {\n    changedModuleCount = x.length;\n    return x;\n  });\n}\n\nfunction getDocumentHeight() {\n  const { body } = document;\n  const html = document.documentElement;\n\n  return Math.max(\n    body.scrollHeight,\n    body.offsetHeight,\n    html.clientHeight,\n    html.scrollHeight,\n    html.offsetHeight\n  );\n}\n\nfunction sendResize() {\n  const height = getDocumentHeight();\n\n  if (lastHeight !== height) {\n    if (document.body) {\n      dispatch({ type: 'resize', height });\n    }\n  }\n\n  lastHeight = height;\n}\n\nfunction initializeResizeListener() {\n  setInterval(sendResize, 5000);\n\n  initializedResizeListener = true;\n}\n\nfunction overrideDocumentClose() {\n  const oldClose = window.document.close;\n\n  window.document.close = function close(...args) {\n    try {\n      oldClose.call(document, args);\n    } finally {\n      inject();\n      reattach();\n    }\n  };\n}\n\noverrideDocumentClose();\n\ninject();\n\ninterface CompileOptions {\n  sandboxId: string;\n  modules: { [path: string]: Module };\n  customNpmRegistries?: NpmRegistry[];\n  externalResources: string[];\n  hasActions?: boolean;\n  isModuleView?: boolean;\n  template: TemplateType;\n  entry: string;\n  showOpenInCodeSandbox?: boolean;\n  skipEval?: boolean;\n  hasFileResolver?: boolean;\n  disableDependencyPreprocessing?: boolean;\n  clearConsoleDisabled?: boolean;\n}\n\nasync function compile({\n  sandboxId,\n  modules,\n  externalResources,\n  customNpmRegistries = [],\n  hasActions,\n  isModuleView = false,\n  template,\n  entry,\n  showOpenInCodeSandbox = false,\n  skipEval = false,\n  hasFileResolver = false,\n  disableDependencyPreprocessing = false,\n  clearConsoleDisabled = false,\n}: CompileOptions) {\n  if (firstLoad) {\n    // Clear the console on first load, but don't clear the console on HMR updates\n    if (!clearConsoleDisabled) {\n      // @ts-ignore Chrome behaviour\n      console.clear('__internal__'); // eslint-disable-line no-console\n      dispatch({ type: 'clear-console' });\n    }\n  }\n\n  dispatch({ type: 'start', firstLoad });\n  metrics.measure('compilation');\n\n  const startTime = Date.now();\n  try {\n    inject();\n    clearErrorTransformers();\n    initializeErrorTransformers();\n    unmount(manager && manager.webpackHMR ? true : hadError);\n  } catch (e) {\n    console.error(e);\n  }\n\n  hadError = false;\n\n  actionsEnabled = hasActions;\n\n  let managerModuleToTranspile = null;\n  try {\n    const templateDefinition = getDefinition(template);\n    const configurations = parseConfigurations(\n      template,\n      templateDefinition.configurationFiles,\n      path => modules[path]\n    );\n\n    const errors = Object.keys(configurations)\n      .map(c => configurations[c])\n      .filter(x => x.error);\n\n    if (errors.length) {\n      const e = new Error(\n        `We weren't able to parse: '${errors[0].path}': ${errors[0].error.message}`\n      );\n\n      // @ts-ignore\n      e.fileName = errors[0].path;\n\n      throw e;\n    }\n\n    const packageJSON = modules['/package.json'];\n\n    if (!packageJSON) {\n      throw new Error('Could not find package.json');\n    }\n\n    const parsedPackageJSON = configurations.package.parsed;\n\n    dispatch({ type: 'status', status: 'installing-dependencies' });\n\n    manager =\n      manager ||\n      (await initializeManager(sandboxId, template, modules, configurations, {\n        hasFileResolver,\n        customNpmRegistries,\n      }));\n\n    let dependencies: NPMDependencies = getDependencies(\n      parsedPackageJSON,\n      templateDefinition,\n      configurations\n    );\n\n    dependencies = await manager.preset.processDependencies(dependencies);\n\n    metrics.measure('dependencies');\n\n    if (firstLoad) {\n      setScreen({\n        type: 'loading',\n        showFullScreen: firstLoad,\n        text: 'Installing Dependencies',\n      });\n    }\n\n    const { manifest, isNewCombination } = await loadDependencies(\n      dependencies,\n      ({ done, total, remainingDependencies }) => {\n        const progress = total - done;\n        if (done === total) {\n          return;\n        }\n\n        if (progress <= 6) {\n          setScreen({\n            type: 'loading',\n            showFullScreen: firstLoad,\n            text: `Installing Dependencies ${progress}/${total} (${remainingDependencies.join(\n              ','\n            )})`,\n          });\n        } else {\n          setScreen({\n            type: 'loading',\n            showFullScreen: firstLoad,\n            text: `Installing Dependencies ${progress}/${total}`,\n          });\n        }\n      },\n      {\n        disableExternalConnection: disableDependencyPreprocessing,\n        resolutions: parsedPackageJSON.resolutions,\n      }\n    );\n    metrics.endMeasure('dependencies', { displayName: 'Dependencies' });\n\n    const shouldReloadManager =\n      (isNewCombination && !firstLoad) || manager.id !== sandboxId;\n\n    if (shouldReloadManager) {\n      // Just reset the whole manager if it's a new combination\n      manager.dispose();\n\n      manager = await initializeManager(\n        sandboxId,\n        template,\n        modules,\n        configurations,\n        { hasFileResolver }\n      );\n    }\n\n    if (shouldReloadManager || firstLoad) {\n      // Now initialize the data the manager can only use once dependencies are loaded\n\n      manager.setManifest(manifest);\n      // We save the state of transpiled modules, and load it here again. Gives\n      // faster initial loads.\n      usedCache = await consumeCache(manager);\n    }\n\n    metrics.measure('transpilation');\n\n    const updatedModules = (await updateManager(modules, configurations)) || [];\n\n    const possibleEntries = templateDefinition.getEntries(configurations);\n\n    const foundMain = isModuleView\n      ? entry\n      : possibleEntries.find(p => Boolean(modules[p]));\n\n    if (!foundMain) {\n      throw new Error(\n        `Could not find entry file: ${possibleEntries[0]}. You can specify one in package.json by defining a \\`main\\` property.`\n      );\n    }\n\n    const main = absolute(foundMain);\n    managerModuleToTranspile = modules[main];\n\n    setScreen({\n      type: 'loading',\n      text: 'Transpiling Modules...',\n      showFullScreen: firstLoad,\n    });\n\n    dispatch({ type: 'status', status: 'transpiling' });\n    manager.setStage('transpilation');\n\n    await manager.verifyTreeTranspiled();\n    await manager.transpileModules(managerModuleToTranspile);\n\n    metrics.endMeasure('transpilation', { displayName: 'Transpilation' });\n\n    dispatch({ type: 'status', status: 'evaluating' });\n    manager.setStage('evaluation');\n\n    if (!skipEval) {\n      resetScreen();\n\n      try {\n        // We set it as a time value for people that run two sandboxes on one computer\n        // they execute at the same time and we don't want them to conflict, so we check\n        // if the message was set a second ago\n        if (\n          firstLoad &&\n          localStorage.getItem('running') &&\n          Date.now() - +localStorage.getItem('running') > 8000 &&\n          !process.env.SANDPACK\n        ) {\n          localStorage.removeItem('running');\n          showRunOnClick();\n          return;\n        }\n\n        localStorage.setItem('running', '' + Date.now());\n      } catch (e) {\n        /* no */\n      }\n\n      await manager.preset.preEvaluate(manager, updatedModules);\n\n      if (!manager.webpackHMR) {\n        const htmlEntries = templateDefinition.getHTMLEntries(configurations);\n        const htmlModulePath = htmlEntries.find(p => Boolean(modules[p]));\n        const htmlModule = modules[htmlModulePath];\n\n        const { head, body } = getHTMLParts(\n          htmlModule && htmlModule.code\n            ? htmlModule.code\n            : template === 'vue-cli'\n            ? '<div id=\"app\"></div>'\n            : '<div id=\"root\"></div>'\n        );\n\n        if (lastHeadHTML && lastHeadHTML !== head) {\n          document.location.reload();\n        }\n        if (manager && lastBodyHTML && lastBodyHTML !== body) {\n          manager.clearCompiledCache();\n        }\n\n        // Whether the server has provided the HTML file. If that isn't the case\n        // we have to fall back to setting `document.body.innerHTML`, which isn't\n        // preferred.\n        const serverProvidedHTML =\n          modules[htmlEntries[0]] || manager.preset.htmlDisabled;\n        if (\n          !serverProvidedHTML ||\n          !firstLoad ||\n          process.env.LOCAL_SERVER ||\n          process.env.SANDPACK\n        ) {\n          // The HTML is loaded from the server as a static file, no need to set the innerHTML of the body\n          // on the first run. However, if there's no server to provide the static file (in the case of a local server\n          // or sandpack), then do it anyways.\n          document.body.innerHTML = body;\n        }\n        lastBodyHTML = body;\n        lastHeadHTML = head;\n      }\n\n      metrics.measure('external-resources');\n      await handleExternalResources(externalResources);\n      metrics.endMeasure('external-resources', {\n        displayName: 'External Resources',\n      });\n\n      const oldHTML = document.body.innerHTML;\n      metrics.measure('evaluation');\n      const evalled = manager.evaluateModule(managerModuleToTranspile, {\n        force: isModuleView,\n      });\n      metrics.endMeasure('evaluation', { displayName: 'Evaluation' });\n\n      const domChanged =\n        !manager.preset.htmlDisabled && oldHTML !== document.body.innerHTML;\n\n      if (\n        isModuleView &&\n        !domChanged &&\n        !managerModuleToTranspile.path.endsWith('.html')\n      ) {\n        const isReact =\n          managerModuleToTranspile.code &&\n          managerModuleToTranspile.code.includes('React');\n\n        if (isReact && evalled) {\n          // initiate boilerplates\n          if (getBoilerplates().length === 0) {\n            try {\n              await evalBoilerplates(defaultBoilerplates);\n            } catch (e) {\n              // eslint-disable-next-line no-console\n              console.log(\"Couldn't load all boilerplates: \" + e.message);\n            }\n          }\n\n          const boilerplate = findBoilerplate(managerModuleToTranspile);\n\n          if (boilerplate) {\n            try {\n              boilerplate.module.default(evalled);\n            } catch (e) {\n              console.error(e);\n            }\n          }\n        }\n      }\n    }\n\n    await manager.preset.teardown(manager, updatedModules);\n\n    if (!initializedResizeListener && !manager.preset.htmlDisabled) {\n      initializeResizeListener();\n    }\n\n    if (showOpenInCodeSandbox) {\n      createCodeSandboxOverlay(modules);\n    }\n\n    debug(`Total time: ${Date.now() - startTime}ms`);\n\n    metrics.endMeasure('compilation', { displayName: 'Compilation' });\n    metrics.endMeasure('total', { displayName: 'Total', lastTime: 0 });\n    dispatch({\n      type: 'success',\n    });\n\n    saveCache(\n      sandboxId,\n      managerModuleToTranspile,\n      manager,\n      changedModuleCount,\n      firstLoad\n    );\n\n    setTimeout(async () => {\n      try {\n        testRunner =\n          testRunner ||\n          (await import('./eval/tests/jest-lite')\n            .then(s => s.default)\n            .then(TestRunner => new TestRunner(manager)));\n\n        sendTestCount(modules);\n      } catch (e) {\n        if (process.env.NODE_ENV === 'development') {\n          console.error('Test error', e);\n        }\n      }\n    }, 600);\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.log('Error in sandbox:');\n    console.error(e);\n\n    if (manager) {\n      manager.clearCache();\n\n      if (firstLoad && changedModuleCount === 0) {\n        await deleteAPICache(manager.id, SCRIPT_VERSION);\n      }\n    }\n\n    if (firstLoad) {\n      inject();\n    }\n\n    const event = new Event('error');\n    // @ts-ignore\n    event.error = e;\n\n    window.dispatchEvent(event);\n\n    hadError = true;\n  } finally {\n    setTimeout(() => {\n      try {\n        // Set a timeout so there's a chance that we also catch runtime errors\n        localStorage.removeItem('running');\n      } catch (e) {\n        /* no */\n      }\n    }, 600);\n\n    if (manager) {\n      const managerState = {\n        ...(await manager.serialize({ optimizeForSize: false })),\n      };\n      delete managerState.cachedPaths;\n      managerState.entry = managerModuleToTranspile\n        ? managerModuleToTranspile.path\n        : null;\n\n      dispatch({\n        type: 'state',\n        state: managerState,\n      });\n\n      manager.isFirstLoad = false;\n    }\n\n    if (firstLoad) {\n      metrics\n        .persistMeasurements({\n          sandboxId,\n          cacheUsed: usedCache,\n          browser: navigator.userAgent,\n          version: VERSION,\n        })\n        .catch(() => {\n          /* Do nothing with the error */\n        });\n    }\n  }\n  firstLoad = false;\n\n  dispatch({ type: 'status', status: 'idle' });\n  dispatch({ type: 'done', compilatonError: hadError });\n\n  if (typeof (window as any).__puppeteer__ === 'function') {\n    setTimeout(() => {\n      // Give everything some time to evaluate\n      (window as any).__puppeteer__('done');\n    }, 100);\n  }\n}\n\nconst tasks: CompileOptions[] = [];\nlet runningTask = null;\n\nasync function executeTaskIfAvailable() {\n  if (tasks.length) {\n    runningTask = tasks.pop();\n    await compile(runningTask);\n    runningTask = null;\n\n    executeTaskIfAvailable();\n  }\n}\n\n/**\n * We want to ensure that no tasks (commands from the editor) are run in parallel,\n * this could result in state inconsistency. That's why we execute tasks after eachother,\n * and if there are 3 tasks we will remove the second task, this one is unnecessary as it is not the\n * latest version.\n */\nexport default function queueTask(data: CompileOptions) {\n  // If same task is running, ignore it.\n  if (runningTask && JSON.stringify(runningTask) === JSON.stringify(data)) {\n    return;\n  }\n\n  tasks[0] = data;\n\n  if (!runningTask) {\n    executeTaskIfAvailable();\n  }\n}\n","import compile, { getCurrentManager } from './compile';\nimport { getTemplate } from 'codesandbox-import-utils/lib/create-sandbox/templates';\nimport getDefinition from '@codesandbox/common/lib/templates/index';\n\nwindow.compile = compile;\nwindow.getCurrentManager = getCurrentManager;\nwindow.getTemplate = getTemplate;\nwindow.getTemplateDefinition = getDefinition;\n","module.exports = jsdom;"],"sourceRoot":""}